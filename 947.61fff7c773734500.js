(self.webpackChunkbanned_book_korea=self.webpackChunkbanned_book_korea||[]).push([[947],{4947:(z,a,S)=>{"use strict";S.r(a),S.d(a,{ReferenceModule:()=>T});var t=S(4946),D=S(7668),O=S.t(D,2);S(8365),function H(){return typeof window>"u"}()||function N(w,W,E){w[W]=E}(O,"verbosity",D.VerbosityLevel.INFOS);let G=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({}),w})();var g=S(6814),C=S(6538),m=S(7411);function P(w,W){1&w&&t._UZ(0,"img",21)}function b(w,W){if(1&w){const E=t.EpF();t.TgZ(0,"img",22),t.NdJ("click",function(){t.CHM(E);const Z=t.oxw();return t.KtG(Z.openPage("lg",Z.pagesLg.currentPage-1))}),t.qZA()}}function v(w,W){1&w&&t._UZ(0,"img",23)}function n(w,W){if(1&w){const E=t.EpF();t.TgZ(0,"img",24),t.NdJ("click",function(){t.CHM(E);const Z=t.oxw();return t.KtG(Z.openPage("lg",Z.pagesLg.currentPage+1))}),t.qZA()}}function i(w,W){1&w&&t._UZ(0,"img",21)}function h(w,W){if(1&w){const E=t.EpF();t.TgZ(0,"img",22),t.NdJ("click",function(){t.CHM(E);const Z=t.oxw();return t.KtG(Z.openPage("sm",Z.pagesSm.currentPage-1))}),t.qZA()}}function y(w,W){1&w&&t._UZ(0,"img",23)}function d(w,W){if(1&w){const E=t.EpF();t.TgZ(0,"img",24),t.NdJ("click",function(){t.CHM(E);const Z=t.oxw();return t.KtG(Z.openPage("sm",Z.pagesSm.currentPage+1))}),t.qZA()}}const _=function(w){return{"background-image":w}},c=[{path:"",component:(()=>{class w{constructor(E,U){this.router=E,this.sharedService=U,this.pagesLg={pagesList:[{url:"url(assets/reference/00.png)",view:"cover",class:"full-page"},{url:"url(assets/reference/01.png)",view:"full",class:"full-page"},{url:"url(assets/reference/02.png)",view:"full",class:"full-page"},{url:"url(assets/reference/03.png)",view:"right",class:"right-page"},{url:"url(assets/reference/04.png)",view:"full",class:"full-page"},{url:"url(assets/reference/05.png)",view:"full",class:"full-page"},{url:"url(assets/reference/06.png)",view:"full",class:"full-page"},{url:"url(assets/reference/07.png)",view:"full",class:"full-page"},{url:"url(assets/reference/08.png)",view:"full",class:"full-page"},{url:"url(assets/reference/09.png)",view:"full",class:"full-page"},{url:"url(assets/reference/10.png)",view:"full",class:"full-page"},{url:"url(assets/reference/11.png)",view:"full",class:"full-page"},{url:"url(assets/reference/12.png)",view:"full",class:"full-page"},{url:"url(assets/reference/13.png)",view:"full",class:"full-page"},{url:"url(assets/reference/14.png)",view:"full",class:"full-page"},{url:"url(assets/reference/15.png)",view:"full",class:"full-page"},{url:"url(assets/reference/16.png)",view:"full",class:"full-page"},{url:"url(assets/reference/17.png)",view:"full",class:"full-page"},{url:"url(assets/reference/18.png)",view:"full",class:"full-page"},{url:"url('assets/reference/military reference.jpeg')",view:"single",class:"single-page"}],currentPage:0,totalPages:0},this.pagesSm={pagesList:[{url:"url(assets/reference/00.png)",view:"cover",class:"full-page"},{url:"url(assets/reference/01.png)",view:"full",class:"full-page"},{url:"url(assets/reference/02.png)",view:"full",class:"full-page"},{url:"url(assets/reference/03.png)",view:"right",class:"right-page"},{url:"url(assets/reference/04.png)",view:"full",class:"full-page"},{url:"url(assets/reference/05.png)",view:"full",class:"full-page"},{url:"url(assets/reference/06.png)",view:"full",class:"full-page"},{url:"url(assets/reference/07.png)",view:"full",class:"full-page"},{url:"url(assets/reference/08.png)",view:"full",class:"full-page"},{url:"url(assets/reference/09.png)",view:"full",class:"full-page"},{url:"url(assets/reference/10.png)",view:"full",class:"full-page"},{url:"url(assets/reference/11.png)",view:"full",class:"full-page"},{url:"url(assets/reference/12.png)",view:"full",class:"full-page"},{url:"url(assets/reference/13.png)",view:"full",class:"full-page"},{url:"url(assets/reference/14.png)",view:"full",class:"full-page"},{url:"url(assets/reference/15.png)",view:"full",class:"full-page"},{url:"url(assets/reference/16.png)",view:"full",class:"full-page"},{url:"url(assets/reference/17.png)",view:"full",class:"full-page"},{url:"url(assets/reference/18.png)",view:"full",class:"full-page"},{url:"url('assets/reference/military reference.jpeg')",view:"single",class:"single-page"}],currentPage:0,totalPages:0}}ngOnInit(){this.pagesLg.totalPages=this.pagesLg.pagesList.length,this.pagesSm.pagesList=this.pagesLg.pagesList.reduce((E,U)=>("single"==U.view?E.push({url:U.url,class:"full-page"}):"full"==U.view?(E.push({url:U.url,class:"left-page"}),E.push({url:U.url,class:"right-page"})):("cover"==U.view||"right"==U.view||"full"==U.view)&&E.push({url:U.url,class:"right-page"}),E),[]),this.pagesSm.totalPages=this.pagesSm.pagesList.length}navToIntro(){this.sharedService.activeNav=1,this.router.navigateByUrl("/introduction")}openPage(E,U){"lg"==E?this.pagesLg.currentPage=U:this.pagesSm.currentPage=U}}return w.\u0275fac=function(E){return new(E||w)(t.Y36(C.F0),t.Y36(m.F))},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-reference"]],decls:35,vars:17,consts:[[1,"w-100","h-100","d-flex","flex-column","reference-view","px-md-5"],[1,"w-100","d-flex","justify-content-end","py-3","mb-2"],[1,"p-3","reference-title","dark-bg","light-grey-text","cursor-pointer",3,"click"],[1,"w-100","flex-1","overflow-auto","d-none","d-md-flex","justify-content-center","align-items-start","align-items-md-center","flex-wrap","flex-md-nowrap","mt-5","mt-md-0"],[1,"d-flex","justify-content-center","align-items-center","px-3","order-1"],["class","left-arrow cursor-not-allowed","src","/assets/icons/emptyPoly.svg",4,"ngIf"],["class","left-arrow cursor-pointer","src","/assets/icons/fillPoly.svg",3,"click",4,"ngIf"],[1,"d-block","page-holder-lg","h-100","order-2"],[1,"bg-contain","book-page","h-100",3,"ngStyle"],[1,"d-flex","justify-content-center","align-items-center","px-3","order-1","order-md-3"],["class","cursor-not-allowed","src","/assets/icons/emptyPoly.svg",4,"ngIf"],["class","cursor-pointer","src","/assets/icons/fillPoly.svg",3,"click",4,"ngIf"],[1,"d-block","d-md-none","w-100","py-4","my-4","fill-space","order-4"],[1,"w-100","flex-1","overflow-auto","d-flex","d-md-none","justify-content-center","align-items-start","align-items-md-center","flex-wrap","flex-md-nowrap","mt-5","mt-md-0"],[1,"d-block","d-md-none","page-holder-sm","mt-2","order-2"],[3,"ngStyle"],[1,"w-100","py-4","reference-footer"],[1,"d-flex","fw-bold","align-items-center"],[1,"footer-title","no-wrap"],[1,"footer-subtitle","d-flex","flex-column"],[1,"h-50","no-wrap"],["src","/assets/icons/emptyPoly.svg",1,"left-arrow","cursor-not-allowed"],["src","/assets/icons/fillPoly.svg",1,"left-arrow","cursor-pointer",3,"click"],["src","/assets/icons/emptyPoly.svg",1,"cursor-not-allowed"],["src","/assets/icons/fillPoly.svg",1,"cursor-pointer",3,"click"]],template:function(E,U){1&E&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.NdJ("click",function(){return U.navToIntro()}),t._uU(3," \uc18c\uac1c INTRO "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,P,1,0,"img",5),t.YNc(7,b,1,0,"img",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"div",8),t.qZA(),t.TgZ(10,"div",9),t.YNc(11,v,1,0,"img",10),t.YNc(12,n,1,0,"img",11),t.qZA(),t.TgZ(13,"div",12),t._uU(14," \xa0"),t.qZA()(),t.TgZ(15,"div",13)(16,"div",4),t.YNc(17,i,1,0,"img",5),t.YNc(18,h,1,0,"img",6),t.qZA(),t.TgZ(19,"div",14),t._UZ(20,"div",15),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,y,1,0,"img",10),t.YNc(23,d,1,0,"img",11),t.qZA(),t.TgZ(24,"div",12),t._uU(25," \xa0"),t.qZA()(),t.TgZ(26,"div",16)(27,"div",17)(28,"div",18),t._uU(29," \ucc38\uc870 "),t.qZA(),t.TgZ(30,"div",19)(31,"div",20),t._uU(32,"Refer-"),t.qZA(),t.TgZ(33,"div",20),t._uU(34,"ence"),t.qZA()()()()()),2&E&&(t.xp6(6),t.Q6J("ngIf",0==U.pagesLg.currentPage),t.xp6(1),t.Q6J("ngIf",0!=U.pagesLg.currentPage),t.xp6(2),t.Q6J("ngStyle",t.VKq(13,_,U.pagesLg.pagesList[U.pagesLg.currentPage].url)),t.xp6(2),t.Q6J("ngIf",U.pagesLg.currentPage==U.pagesLg.totalPages-1),t.xp6(1),t.Q6J("ngIf",U.pagesLg.currentPage<U.pagesLg.totalPages-1),t.xp6(5),t.Q6J("ngIf",0==U.pagesSm.currentPage),t.xp6(1),t.Q6J("ngIf",0!=U.pagesSm.currentPage),t.xp6(2),t.Gre("bg-contain book-page h-100 ",U.pagesSm.pagesList[U.pagesSm.currentPage].class,""),t.Q6J("ngStyle",t.VKq(15,_,U.pagesSm.pagesList[U.pagesSm.currentPage].url)),t.xp6(2),t.Q6J("ngIf",U.pagesSm.currentPage==U.pagesSm.totalPages-1),t.xp6(1),t.Q6J("ngIf",U.pagesSm.currentPage<U.pagesSm.totalPages-1))},dependencies:[g.O5,g.PC],styles:[".reference-view[_ngcontent-%COMP%]{background-color:var(--white1)}.reference-title[_ngcontent-%COMP%]{font-size:min(1.5rem,4vw);line-height:1.3}.page-holder-sm[_ngcontent-%COMP%]{width:97.5vw;aspect-ratio:3/4}.page-holder-lg[_ngcontent-%COMP%]{max-width:72.5vw;aspect-ratio:3/2}.book-page[_ngcontent-%COMP%]{background-repeat:no-repeat}.bg-contain[_ngcontent-%COMP%]{background-size:contain;background-position:center center}.router-btn[_ngcontent-%COMP%]{height:2.5rem}.router-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(1rem + 2vw)}.button-text[_ngcontent-%COMP%]{font-size:1.875rem}.next-text[_ngcontent-%COMP%]{color:var(--darkGray1)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3125rem;height:.3125rem}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 2px var(--lightGray6);-webkit-box-shadow:inset 0 0 2px var(--lightGray6)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--lightGray3)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--lightGray2)}.left-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.fill-space[_ngcontent-%COMP%]{min-width:75vw}.left-page[_ngcontent-%COMP%]{background-size:200% 100%;background-position:0% 0%}.right-page[_ngcontent-%COMP%]{background-size:200% 100%;background-position:100% 0%}"]}),w})()},{path:"**",redirectTo:""}];let R=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({imports:[C.Bz.forChild(c),C.Bz]}),w})(),T=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({imports:[g.ez,R,G]}),w})()},7668:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(9382).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,S;S=()=>(()=>{"use strict";var __webpack_modules__=[,(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=V,a.arraysToBytes=function K($){const I=$.length;if(1===I&&$[0]instanceof Uint8Array)return $[0];let j=0;for(let Te=0;Te<I;Te++)j+=V($[Te]);let ie=0;const ve=new Uint8Array(j);for(let Te=0;Te<I;Te++){let re=$[Te];re instanceof Uint8Array||(re="string"==typeof re?Y(re):new Uint8Array(re));const he=re.byteLength;ve.set(re,ie),ie+=he}return ve},a.assert=function U($,I){$||E(I)},a.bytesToString=function F($){("object"!=typeof $||null===$||void 0===$.length)&&E("Invalid argument for bytesToString");const I=$.length,j=8192;if(I<j)return String.fromCharCode.apply(null,$);const ie=[];for(let ve=0;ve<I;ve+=j){const Te=Math.min(ve+j,I),re=$.subarray(ve,Te);ie.push(String.fromCharCode.apply(null,re))}return ie.join("")},a.createPromiseCapability=function ge(){const $=Object.create(null);let I=!1;return Object.defineProperty($,"settled",{get:()=>I}),$.promise=new Promise(function(j,ie){$.resolve=function(ve){I=!0,j(ve)},$.reject=function(ve){I=!0,ie(ve)}}),$},a.createValidAbsoluteUrl=function oe($,I=null,j=null){if(!$)return null;try{if(j&&"string"==typeof $){if(j.addDefaultProtocol&&$.startsWith("www.")){const ve=$.match(/\./g);ve&&ve.length>=2&&($=`http://${$}`)}if(j.tryConvertEncoding)try{$=be($)}catch{}}const ie=I?new URL($,I):new URL($);if(function Z($){if(!$)return!1;switch($.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ie))return ie}catch{}return null},a.escapeString=function pe($){return $.replace(/([()\\\n\r])/g,I=>"\n"===I?"\\n":"\r"===I?"\\r":`\\${I}`)},a.getModificationDate=function ce($=new Date){return[$.getUTCFullYear().toString(),($.getUTCMonth()+1).toString().padStart(2,"0"),$.getUTCDate().toString().padStart(2,"0"),$.getUTCHours().toString().padStart(2,"0"),$.getUTCMinutes().toString().padStart(2,"0"),$.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function T(){return c},a.info=function w($){c>=h.INFOS&&console.log(`Info: ${$}`)},a.isArrayBuffer=function k($){return"object"==typeof $&&null!==$&&void 0!==$.byteLength},a.isArrayEqual=function J($,I){if($.length!==I.length)return!1;for(let j=0,ie=$.length;j<ie;j++)if($[j]!==I[j])return!1;return!0},a.isAscii=function se($){return/^[\x00-\x7F]*$/.test($)},a.objectFromMap=function te($){const I=Object.create(null);for(const[j,ie]of $)I[j]=ie;return I},a.objectSize=function ee($){return Object.keys($).length},a.setVerbosityLevel=function R($){Number.isInteger($)&&(c=$)},a.shadow=ae,a.string32=function Q($){return String.fromCharCode($>>24&255,$>>16&255,$>>8&255,255&$)},a.stringToBytes=Y,a.stringToPDFString=function Ce($){if($[0]>="\xef"){let j;if("\xfe"===$[0]&&"\xff"===$[1]?j="utf-16be":"\xff"===$[0]&&"\xfe"===$[1]?j="utf-16le":"\xef"===$[0]&&"\xbb"===$[1]&&"\xbf"===$[2]&&(j="utf-8"),j)try{const ie=new TextDecoder(j,{fatal:!0}),ve=Y($);return ie.decode(ve)}catch(ie){W(`stringToPDFString: "${ie}".`)}}const I=[];for(let j=0,ie=$.length;j<ie;j++){const ve=we[$.charCodeAt(j)];I.push(ve?String.fromCharCode(ve):$.charAt(j))}return I.join("")},a.stringToUTF16BEString=function de($){const I=["\xfe\xff"];for(let j=0,ie=$.length;j<ie;j++){const ve=$.charCodeAt(j);I.push(String.fromCharCode(ve>>8&255),String.fromCharCode(255&ve))}return I.join("")},a.stringToUTF8String=be,a.unreachable=E,a.utf8StringToString=function ne($){return unescape(encodeURIComponent($))},a.warn=W,S(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const h={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=h,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c=h.WARNINGS;function W($){c>=h.WARNINGS&&console.log(`Warning: ${$}`)}function E($){throw new Error($)}function ae($,I,j){return Object.defineProperty($,I,{value:j,enumerable:!0,configurable:!0,writable:!1}),j}const L=function(){function I(j,ie){this.constructor===I&&E("Cannot initialize BaseException."),this.message=j,this.name=ie}return I.prototype=new Error,I.constructor=I,I}();function Y($){"string"!=typeof $&&E("Invalid argument for stringToBytes");const I=$.length,j=new Uint8Array(I);for(let ie=0;ie<I;++ie)j[ie]=255&$.charCodeAt(ie);return j}function V($){return void 0!==$.length?$.length:void 0!==$.byteLength?$.byteLength:void E("Invalid argument for arrayByteLength")}a.BaseException=L,a.PasswordException=class s extends L{constructor(I,j){super(I,"PasswordException"),this.code=j}},a.UnknownErrorException=class e extends L{constructor(I,j){super(I,"UnknownErrorException"),this.details=j}},a.InvalidPDFException=class r extends L{constructor(I){super(I,"InvalidPDFException")}},a.MissingPDFException=class o extends L{constructor(I){super(I,"MissingPDFException")}},a.UnexpectedResponseException=class u extends L{constructor(I,j){super(I,"UnexpectedResponseException"),this.status=j}},a.FormatError=class f extends L{constructor(I){super(I,"FormatError")}},a.AbortException=class l extends L{constructor(I){super(I,"AbortException")}},a.FeatureTest=class Ae{static get isLittleEndian(){return ae(this,"isLittleEndian",function ue(){const $=new Uint8Array(4);return $[0]=1,1===new Uint32Array($.buffer,0,1)[0]}())}static get isEvalSupported(){return ae(this,"isEvalSupported",function _e(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const me=[...Array(256).keys()].map($=>$.toString(16).padStart(2,"0"));class le{static makeHexColor(I,j,ie){return`#${me[I]}${me[j]}${me[ie]}`}static scaleMinMax(I,j){let ie;I[0]?(I[0]<0&&(ie=j[0],j[0]=j[1],j[1]=ie),j[0]*=I[0],j[1]*=I[0],I[3]<0&&(ie=j[2],j[2]=j[3],j[3]=ie),j[2]*=I[3],j[3]*=I[3]):(ie=j[0],j[0]=j[2],j[2]=ie,ie=j[1],j[1]=j[3],j[3]=ie,I[1]<0&&(ie=j[2],j[2]=j[3],j[3]=ie),j[2]*=I[1],j[3]*=I[1],I[2]<0&&(ie=j[0],j[0]=j[1],j[1]=ie),j[0]*=I[2],j[1]*=I[2]),j[0]+=I[4],j[1]+=I[4],j[2]+=I[5],j[3]+=I[5]}static transform(I,j){return[I[0]*j[0]+I[2]*j[1],I[1]*j[0]+I[3]*j[1],I[0]*j[2]+I[2]*j[3],I[1]*j[2]+I[3]*j[3],I[0]*j[4]+I[2]*j[5]+I[4],I[1]*j[4]+I[3]*j[5]+I[5]]}static applyTransform(I,j){return[I[0]*j[0]+I[1]*j[2]+j[4],I[0]*j[1]+I[1]*j[3]+j[5]]}static applyInverseTransform(I,j){const ie=j[0]*j[3]-j[1]*j[2];return[(I[0]*j[3]-I[1]*j[2]+j[2]*j[5]-j[4]*j[3])/ie,(-I[0]*j[1]+I[1]*j[0]+j[4]*j[1]-j[5]*j[0])/ie]}static getAxialAlignedBoundingBox(I,j){const ie=le.applyTransform(I,j),ve=le.applyTransform(I.slice(2,4),j),Te=le.applyTransform([I[0],I[3]],j),re=le.applyTransform([I[2],I[1]],j);return[Math.min(ie[0],ve[0],Te[0],re[0]),Math.min(ie[1],ve[1],Te[1],re[1]),Math.max(ie[0],ve[0],Te[0],re[0]),Math.max(ie[1],ve[1],Te[1],re[1])]}static inverseTransform(I){const j=I[0]*I[3]-I[1]*I[2];return[I[3]/j,-I[1]/j,-I[2]/j,I[0]/j,(I[2]*I[5]-I[4]*I[3])/j,(I[4]*I[1]-I[5]*I[0])/j]}static apply3dTransform(I,j){return[I[0]*j[0]+I[1]*j[1]+I[2]*j[2],I[3]*j[0]+I[4]*j[1]+I[5]*j[2],I[6]*j[0]+I[7]*j[1]+I[8]*j[2]]}static singularValueDecompose2dScale(I){const j=[I[0],I[2],I[1],I[3]],ie=I[0]*j[0]+I[1]*j[2],re=I[2]*j[1]+I[3]*j[3],he=(ie+re)/2,Se=Math.sqrt((ie+re)**2-4*(ie*re-(I[2]*j[0]+I[3]*j[2])*(I[0]*j[1]+I[1]*j[3])))/2,fe=he-Se||1;return[Math.sqrt(he+Se||1),Math.sqrt(fe)]}static normalizeRect(I){const j=I.slice(0);return I[0]>I[2]&&(j[0]=I[2],j[2]=I[0]),I[1]>I[3]&&(j[1]=I[3],j[3]=I[1]),j}static intersect(I,j){const ie=Math.max(Math.min(I[0],I[2]),Math.min(j[0],j[2])),ve=Math.min(Math.max(I[0],I[2]),Math.max(j[0],j[2]));if(ie>ve)return null;const Te=Math.max(Math.min(I[1],I[3]),Math.min(j[1],j[3])),re=Math.min(Math.max(I[1],I[3]),Math.max(j[1],j[3]));return Te>re?null:[ie,Te,ve,re]}static bezierBoundingBox(I,j,ie,ve,Te,re,he,Se){const Pe=[],fe=[[],[]];let xe,ye,Ee,ke,Me,Le,Ne,Re;for(let Ie=0;Ie<2;++Ie)if(0===Ie?(ye=6*I-12*ie+6*Te,xe=-3*I+9*ie-9*Te+3*he,Ee=3*ie-3*I):(ye=6*j-12*ve+6*re,xe=-3*j+9*ve-9*re+3*Se,Ee=3*ve-3*j),Math.abs(xe)<1e-12){if(Math.abs(ye)<1e-12)continue;ke=-Ee/ye,0<ke&&ke<1&&Pe.push(ke)}else Ne=ye*ye-4*Ee*xe,Re=Math.sqrt(Ne),!(Ne<0)&&(Me=(-ye+Re)/(2*xe),0<Me&&Me<1&&Pe.push(Me),Le=(-ye-Re)/(2*xe),0<Le&&Le<1&&Pe.push(Le));let Fe,De=Pe.length;const Oe=De;for(;De--;)ke=Pe[De],Fe=1-ke,fe[0][De]=Fe*Fe*Fe*I+3*Fe*Fe*ke*ie+3*Fe*ke*ke*Te+ke*ke*ke*he,fe[1][De]=Fe*Fe*Fe*j+3*Fe*Fe*ke*ve+3*Fe*ke*ke*re+ke*ke*ke*Se;return fe[0][Oe]=I,fe[1][Oe]=j,fe[0][Oe+1]=he,fe[1][Oe+1]=Se,fe[0].length=fe[1].length=Oe+2,[Math.min(...fe[0]),Math.min(...fe[1]),Math.max(...fe[0]),Math.max(...fe[1])]}}a.Util=le;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function be($){return decodeURIComponent(escape($))}},(z,a,S)=>{S(3)},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const S=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=S},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:z,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:S}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=z,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=S}function setPDFNetworkStreamFactory(z){createPDFNetworkStream=z}function getDocument(z){const a=new PDFDocumentLoadingTask;let S;if("string"==typeof z||z instanceof URL)S={url:z};else if((0,_util.isArrayBuffer)(z))S={data:z};else if(z instanceof PDFDataRangeTransport)S={range:z};else{if("object"!=typeof z)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!z.url&&!z.data&&!z.range)throw new Error("Invalid parameter object: need either .data, .range or .url");S=z}const t=Object.create(null);let D=null,O=null;for(const M in S){const x=S[M];switch(M){case"url":if(typeof window<"u")try{t[M]=new URL(x,window.location).href;continue}catch(A){(0,_util.warn)(`Cannot create valid URL: "${A}".`)}else if("string"==typeof x||x instanceof URL){t[M]=x.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":D=x;continue;case"worker":O=x;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&x instanceof Buffer)t[M]=new Uint8Array(x);else{if(x instanceof Uint8Array)break;if("string"==typeof x)t[M]=(0,_util.stringToBytes)(x);else if("object"!=typeof x||null===x||isNaN(x.length)){if(!(0,_util.isArrayBuffer)(x))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");t[M]=new Uint8Array(x)}else t[M]=new Uint8Array(x)}continue}t[M]=x}if(t.CMapReaderFactory=t.CMapReaderFactory||DefaultCMapReaderFactory,t.StandardFontDataFactory=t.StandardFontDataFactory||DefaultStandardFontDataFactory,t.ignoreErrors=!0!==t.stopAtErrors,t.fontExtraProperties=!0===t.fontExtraProperties,t.pdfBug=!0===t.pdfBug,t.enableXfa=!0===t.enableXfa,(!Number.isInteger(t.rangeChunkSize)||t.rangeChunkSize<1)&&(t.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof t.docBaseUrl||(0,_display_utils.isDataScheme)(t.docBaseUrl))&&(t.docBaseUrl=null),(!Number.isInteger(t.maxImageSize)||t.maxImageSize<-1)&&(t.maxImageSize=-1),"string"!=typeof t.cMapUrl&&(t.cMapUrl=null),"string"!=typeof t.standardFontDataUrl&&(t.standardFontDataUrl=null),"boolean"!=typeof t.useWorkerFetch&&(t.useWorkerFetch=t.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&t.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof t.isEvalSupported&&(t.isEvalSupported=!0),"boolean"!=typeof t.disableFontFace&&(t.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof t.useSystemFonts&&(t.useSystemFonts=!_is_node.isNodeJS&&!t.disableFontFace),("object"!=typeof t.ownerDocument||null===t.ownerDocument)&&(t.ownerDocument=globalThis.document),"boolean"!=typeof t.disableRange&&(t.disableRange=!1),"boolean"!=typeof t.disableStream&&(t.disableStream=!1),"boolean"!=typeof t.disableAutoFetch&&(t.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(t.verbosity),!O){const M={verbosity:t.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};O=M.port?_PDFWorker.fromPort(M):new _PDFWorker(M),a._worker=O}const q=a.docId;return O.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const M=_fetchDocument(O,t,D,q),x=new Promise(function(A){let N;D?N=new _transport_stream.PDFDataTransportStream({length:t.length,initialData:t.initialData,progressiveDone:t.progressiveDone,contentDispositionFilename:t.contentDispositionFilename,disableRange:t.disableRange,disableStream:t.disableStream},D):t.data||(N=createPDFNetworkStream({url:t.url,length:t.length,httpHeaders:t.httpHeaders,withCredentials:t.withCredentials,rangeChunkSize:t.rangeChunkSize,disableRange:t.disableRange,disableStream:t.disableStream})),A(N)});return Promise.all([M,x]).then(function([A,N]){if(a.destroyed)throw new Error("Loading aborted");const H=new _message_handler.MessageHandler(q,A,O.port),X=new WorkerTransport(H,a,N,t);a._transport=X,H.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(z,a,S,t){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(z,a,S,t){if(z.destroyed)throw new Error("Worker was destroyed");S&&(a.length=S.length,a.initialData=S.initialData,a.progressiveDone=S.progressiveDone,a.contentDispositionFilename=S.contentDispositionFilename);const D=yield z.messageHandler.sendWithPromise("GetDocRequest",{docId:t,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(z.destroyed)throw new Error("Worker was destroyed");return D})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var a,S;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(a=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),S=a++,a)),S}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,S,t=!1,D=null){this.length=a,this.initialData=S,this.progressiveDone=t,this.contentDispositionFilename=D,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,S){for(const t of this._rangeListeners)t(a,S)}onDataProgress(a,S){this._readyCapability.promise.then(()=>{for(const t of this._progressListeners)t(a,S)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const S of this._progressiveReadListeners)S(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,S){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,S){var D,t=this;this._pdfInfo=a,this._transport=S,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(D=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),t.stats||{streamTypes:{},fontTypes:{}}}),function(){return D.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,S,t,D,O=!1){this._pageIndex=a,this._pageInfo=S,this._ownerDocument=D,this._transport=t,this._stats=O?new _display_utils.StatTimer:null,this._pdfBug=O,this.commonObjs=t.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:S=this.rotate,offsetX:t=0,offsetY:D=0,dontFlip:O=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:S,offsetX:t,offsetY:D,dontFlip:O})}getAnnotations({intent:a="display"}={}){const S=this._transport.getRenderingIntent(a);let t=this._annotationPromises.get(S.cacheKey);return t||(t=this._transport.getAnnotations(this._pageIndex,S.renderingIntent),this._annotationPromises.set(S.cacheKey,t),t=t.then(D=>{for(const O of D)void 0!==O.titleObj&&Object.defineProperty(O,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),O.titleObj.str)}),void 0!==O.contentsObj&&Object.defineProperty(O,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),O.contentsObj.str)});return D})),t}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:S,intent:t="display",annotationMode:D=_util.AnnotationMode.ENABLE,transform:O=null,imageLayer:q=null,canvasFactory:M=null,background:x=null,optionalContentConfigPromise:A=null,annotationCanvasMap:N=null,pageColors:H=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&D===_util.AnnotationMode.ENABLE&&(D=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&D===_util.AnnotationMode.ENABLE&&(D=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const X=this._transport.getRenderingIntent(t,D);this.pendingCleanup=!1,A||(A=this._transport.getOptionalContentConfig());let B=this._intentStates.get(X.cacheKey);B||(B=Object.create(null),this._intentStates.set(X.cacheKey,B)),B.streamReaderCancelTimeout&&(clearTimeout(B.streamReaderCancelTimeout),B.streamReaderCancelTimeout=null);const G=M||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(X.renderingIntent&_util.RenderingIntentFlag.PRINT);B.displayReadyCapability||(B.displayReadyCapability=(0,_util.createPromiseCapability)(),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(X));const C=b=>{B.renderTasks.delete(m),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),b?(m.capability.reject(b),this._abortOperatorList({intentState:B,reason:b instanceof Error?b:new Error(b)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:C,params:{canvasContext:a,viewport:S,transform:O,imageLayer:q,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:N,operatorList:B.operatorList,pageIndex:this._pageIndex,canvasFactory:G,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:H});(B.renderTasks||=new Set).add(m);const P=m.task;return Promise.all([B.displayReadyCapability.promise,A]).then(([b,v])=>{this.pendingCleanup?C():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:b,optionalContentConfig:v}),m.operatorListChanged())}).catch(C),P}getOperatorList({intent:a="display",annotationMode:S=_util.AnnotationMode.ENABLE}={}){const D=this._transport.getRenderingIntent(a,S,!0);let q,O=this._intentStates.get(D.cacheKey);return O||(O=Object.create(null),this._intentStates.set(D.cacheKey,O)),O.opListReadCapability||(q=Object.create(null),q.operatorListChanged=function t(){O.operatorList.lastChunk&&(O.opListReadCapability.resolve(O.operatorList),O.renderTasks.delete(q))},O.opListReadCapability=(0,_util.createPromiseCapability)(),(O.renderTasks||=new Set).add(q),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(D)),O.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:S=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===S},{highWaterMark:100,size:D=>D.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));const S=this.streamTextContent(a);return new Promise(function(t,D){const q=S.getReader(),M={items:[],styles:Object.create(null)};!function O(){q.read().then(function({value:x,done:A}){A?t(M):(Object.assign(M.styles,x.styles),M.items.push(...x.items),O())},D)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const S of this._intentStates.values())if(this._abortOperatorList({intentState:S,reason:new Error("Page was destroyed."),force:!0}),!S.opListReadCapability)for(const t of S.renderTasks)a.push(t.completed),t.cancel();this.objs.clear();for(const S of this._bitmaps)S.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:S,operatorList:t}of this._intentStates.values())if(S.size>0||!t.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const S of this._bitmaps)S.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,S){const t=this._intentStates.get(S);t&&(this._stats&&this._stats.timeEnd("Page Request"),t.displayReadyCapability&&t.displayReadyCapability.resolve(a))}_renderPageChunk(a,S){for(let t=0,D=a.length;t<D;t++)S.operatorList.fnArray.push(a.fnArray[t]),S.operatorList.argsArray.push(a.argsArray[t]);S.operatorList.lastChunk=a.lastChunk;for(const t of S.renderTasks)t.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:S}){const D=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:S,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),O=this._intentStates.get(S);O.streamReader=D;const q=()=>{D.read().then(({value:M,done:x})=>{x?O.streamReader=null:this._transport.destroyed||(this._renderPageChunk(M,O),q())},M=>{if(O.streamReader=null,!this._transport.destroyed){if(O.operatorList){O.operatorList.lastChunk=!0;for(const x of O.renderTasks)x.operatorListChanged();this._tryCleanup()}if(O.displayReadyCapability)O.displayReadyCapability.reject(M);else{if(!O.opListReadCapability)throw M;O.opListReadCapability.reject(M)}}})};q()}_abortOperatorList({intentState:a,reason:S,force:t=!1}){if(a.streamReader){if(!t){if(a.renderTasks.size>0)return;if(S instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:S,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(S.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[D,O]of this._intentStates)if(O===a){this._intentStates.delete(D);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,S){const t={data:structuredClone(a,S)};this._deferred.then(()=>{for(const D of this._listeners)D.call(this,t)})}addEventListener(a,S){this._listeners.push(S)}removeEventListener(a,S){const t=this._listeners.indexOf(S);this._listeners.splice(t,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const z=document?.currentScript?.src;z&&(PDFWorkerUtil.fallbackWorkerSrc=z.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(z,a){let S;try{if(S=new URL(z),!S.origin||"null"===S.origin)return!1}catch{return!1}const t=new URL(a,S);return S.origin===t.origin},PDFWorkerUtil.createCDNWrapper=function(z){return URL.createObjectURL(new Blob([`importScripts("${z}");`]))};class _PDFWorker{constructor({name:z=null,port:a=null,verbosity:S=(0,_util.getVerbosityLevel)()}={}){if(a&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=z,this.destroyed=!1,this.verbosity=S,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(z){this._port=z,this._messageHandler=new _message_handler.MessageHandler("main","worker",z),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let z=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,z)||(z=PDFWorkerUtil.createCDNWrapper(new URL(z,window.location).href));const a=new Worker(z),S=new _message_handler.MessageHandler("main","worker",a),t=()=>{a.removeEventListener("error",D),S.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},D=()=>{this._webWorker||t()};a.addEventListener("error",D),S.on("test",q=>{a.removeEventListener("error",D),this.destroyed?t():q?(this._messageHandler=S,this._port=a,this._webWorker=a,this._readyCapability.resolve(),S.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),S.destroy(),a.terminate())}),S.on("ready",q=>{if(a.removeEventListener("error",D),this.destroyed)t();else try{O()}catch{this._setupFakeWorker()}});const O=()=>{const q=new Uint8Array;S.send("test",q,[q.buffer])};return void O()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(z=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const S="fake"+PDFWorkerUtil.fakeWorkerId++,t=new _message_handler.MessageHandler(S+"_worker",S,a);z.setup(t,a);const D=new _message_handler.MessageHandler(S,S+"_worker",a);this._messageHandler=D,this._readyCapability.resolve(),D.send("configure",{verbosity:this.verbosity})}).catch(z=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${z.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(z){if(!z?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(z.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(z.port):new _PDFWorker(z)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function z(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,S,t,D){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=S,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:S.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:D.ownerDocument,styleElement:D.styleElement}),this._params=D,D.useWorkerFetch||(this.CMapReaderFactory=new D.CMapReaderFactory({baseUrl:D.cMapUrl,isCompressed:D.cMapPacked}),this.StandardFontDataFactory=new D.StandardFontDataFactory({baseUrl:D.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,S=_util.AnnotationMode.ENABLE,t=!1){let D=_util.RenderingIntentFlag.DISPLAY,O="";switch(a){case"any":D=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":D=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(S){case _util.AnnotationMode.DISABLE:D+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:D+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:D+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,O=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${S}`)}return t&&(D+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:D,cacheKey:`${D}_${O}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const t of _classPrivateFieldGet(this,_pageCache).values())a.push(t._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const S=this.messageHandler.sendWithPromise("Terminate",null);return a.push(S),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:S}=this;a.on("GetReader",(t,D)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=O=>{this._lastProgress={loaded:O.loaded,total:O.total}},D.onPull=()=>{this._fullReader.read().then(function({value:O,done:q}){q?D.close():((0,_util.assert)((0,_util.isArrayBuffer)(O),"GetReader - expected an ArrayBuffer."),D.enqueue(new Uint8Array(O),1,[O]))}).catch(O=>{D.error(O)})},D.onCancel=O=>{this._fullReader.cancel(O),D.ready.catch(q=>{if(!this.destroyed)throw q})}}),a.on("ReaderHeadersReady",t=>{const D=(0,_util.createPromiseCapability)(),O=this._fullReader;return O.headersReady.then(()=>{(!O.isStreamingSupported||!O.isRangeSupported)&&(this._lastProgress&&S.onProgress?.(this._lastProgress),O.onProgress=q=>{S.onProgress?.({loaded:q.loaded,total:q.total})}),D.resolve({isStreamingSupported:O.isStreamingSupported,isRangeSupported:O.isRangeSupported,contentLength:O.contentLength})},D.reject),D.promise}),a.on("GetRangeReader",(t,D)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const O=this._networkStream.getRangeReader(t.begin,t.end);O?(D.onPull=()=>{O.read().then(function({value:q,done:M}){M?D.close():((0,_util.assert)((0,_util.isArrayBuffer)(q),"GetRangeReader - expected an ArrayBuffer."),D.enqueue(new Uint8Array(q),1,[q]))}).catch(q=>{D.error(q)})},D.onCancel=q=>{O.cancel(q),D.ready.catch(M=>{if(!this.destroyed)throw M})}):D.close()}),a.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,S._capability.resolve(new PDFDocumentProxy(t,this))}),a.on("DocException",function(t){let D;switch(t.name){case"PasswordException":D=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":D=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":D=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":D=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":D=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}S._capability.reject(D)}),a.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),S.onPassword){const D=O=>{O instanceof Error?this._passwordCapability.reject(O):this._passwordCapability.resolve({password:O})};try{S.onPassword(D,t.code)}catch(O){this._passwordCapability.reject(O)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),a.on("DataLoaded",t=>{S.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),a.on("StartRenderPage",t=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),a.on("commonobj",([t,D,O])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(D){case"Font":const q=this._params;if("error"in O){const A=O.error;(0,_util.warn)(`Error during font loading: ${A}`),this.commonObjs.resolve(t,A);break}let M=null;q.pdfBug&&globalThis.FontInspector?.enabled&&(M={registerFont(A,N){globalThis.FontInspector.fontAdded(A,N)}});const x=new _font_loader.FontFaceObject(O,{isEvalSupported:q.isEvalSupported,disableFontFace:q.disableFontFace,ignoreErrors:q.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:M});this.fontLoader.bind(x).catch(A=>a.sendWithPromise("FontFallback",{id:t})).finally(()=>{!q.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(t,x)});break;case"FontPath":case"Image":this.commonObjs.resolve(t,O);break;default:throw new Error(`Got unknown common object type ${D}`)}}),a.on("obj",([t,D,O,q])=>{if(this.destroyed)return;const M=_classPrivateFieldGet(this,_pageCache).get(D);if(!M.objs.has(t))switch(O){case"Image":M.objs.resolve(t,q);const x=8e6;if(q){let A;if(q.bitmap){const{bitmap:N,width:H,height:X}=q;A=H*X*4,M._bitmaps.add(N)}else A=q.data?.length||0;A>x&&(M.cleanupAfterRender=!0)}break;case"Pattern":M.objs.resolve(t,q);break;default:throw new Error(`Got unknown object type ${O}`)}}),a.on("DocProgress",t=>{this.destroyed||S.onProgress?.({loaded:t.loaded,total:t.total})}),a.on("DocStats",t=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const S=a-1,t=_classPrivateFieldGet(this,_pagePromises).get(S);if(t)return t;const D=this.messageHandler.sendWithPromise("GetPage",{pageIndex:S}).then(O=>{if(this.destroyed)throw new Error("Transport destroyed");const q=new PDFPageProxy(S,O,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(S,q),q});return _classPrivateFieldGet(this,_pagePromises).set(S,D),D}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,S){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:S})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var S=this;return _asyncToGenerator(function*(){if(yield S.messageHandler.sendWithPromise("Cleanup",null),!S.destroyed){for(const t of _classPrivateFieldGet(S,_pageCache).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);S.commonObjs.clear(),a||S.fontLoader.clear(),_classPrivateFieldSet(S,_metadataPromise,null),S._getFieldObjectsPromise=null,S._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,S=null){if(S){const D=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return D.capability.promise.then(()=>S(D.data)),null}const t=_classPrivateFieldGet(this,_objs)[a];if(!t?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return t.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,S=null){const t=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);t.data=S,t.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(z){return _classPrivateFieldGet(this,_objs)[z]||(_classPrivateFieldGet(this,_objs)[z]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:a,params:S,objs:t,commonObjs:D,annotationCanvasMap:O,operatorList:q,pageIndex:M,canvasFactory:x,useRequestAnimationFrame:A=!1,pdfBug:N=!1,pageColors:H=null}){this.callback=a,this.params=S,this.objs=t,this.commonObjs=D,this.annotationCanvasMap=O,this.operatorListIdx=null,this.operatorList=q,this._pageIndex=M,this.canvasFactory=x,this._pdfBug=N,this.pageColors=H,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===A&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=S.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:S}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:t,viewport:D,transform:O,imageLayer:q,background:M}=this.params;this.gfx=new _canvas.CanvasGraphics(t,this.commonObjs,this.objs,this.canvasFactory,q,S,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:O,viewport:D,transparency:a,background:M}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(a._canvas),a.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function i(_){console.log("Deprecated API usage: "+_)},a.getFilenameFromUrl=function m(_){const p=_.indexOf("#"),c=_.indexOf("?"),R=Math.min(p>0?p:_.length,c>0?c:_.length);return _.substring(_.lastIndexOf("/",R)+1,R)},a.getPdfFilenameFromUrl=function P(_,p="document.pdf"){if("string"!=typeof _)return p;if(g(_))return(0,D.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),p;const R=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,T=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(_);let w=R.exec(T[1])||R.exec(T[2])||R.exec(T[3]);if(w&&(w=w[0],w.includes("%")))try{w=R.exec(decodeURIComponent(w))[0]}catch{}return w||p},a.getXfaPageViewport=function d(_,{scale:p=1,rotation:c=0}){const{width:R,height:T}=_.attributes.style,w=[0,0,parseInt(R),parseInt(T)];return new B({viewBox:w,scale:p,rotation:c})},a.isDataScheme=g,a.isPdfFile=function C(_){return"string"==typeof _&&/\.pdf$/i.test(_)},a.isValidFetchUrl=v,a.loadScript=function n(_,p=!1){return new Promise((c,R)=>{const T=document.createElement("script");T.src=_,T.onload=function(w){p&&T.remove(),c(w)},T.onerror=function(){R(new Error(`Cannot load script at: ${T.src}`))},(document.head||document.documentElement).appendChild(T)})};var t=S(6),D=S(1);class q{}function x(_){return A.apply(this,arguments)}function A(){return(A=_asyncToGenerator(function*(_,p=!1){if(v(_,document.baseURI)){const c=yield fetch(_);if(!c.ok)throw new Error(c.statusText);return p?new Uint8Array(yield c.arrayBuffer()):(0,D.stringToBytes)(yield c.text())}return new Promise((c,R)=>{const T=new XMLHttpRequest;T.open("GET",_,!0),p&&(T.responseType="arraybuffer"),T.onreadystatechange=()=>{if(T.readyState===XMLHttpRequest.DONE){if(200===T.status||0===T.status){let w;if(p&&T.response?w=new Uint8Array(T.response):!p&&T.responseText&&(w=(0,D.stringToBytes)(T.responseText)),w)return void c(w)}R(new Error(T.statusText))}},T.send(null)})})).apply(this,arguments)}_defineProperty(q,"CSS",96),_defineProperty(q,"PDF",72),_defineProperty(q,"PDF_TO_CSS_UNITS",q.CSS/q.PDF),a.PixelsPerInch=q,a.DOMCanvasFactory=class M extends t.BaseCanvasFactory{constructor({ownerDocument:p=globalThis.document}={}){super(),this._document=p}_createCanvas(p,c){const R=this._document.createElement("canvas");return R.width=p,R.height=c,R}},a.DOMCMapReaderFactory=class N extends t.BaseCMapReaderFactory{_fetchData(p,c){return x(p,this.isCompressed).then(R=>({cMapData:R,compressionType:c}))}},a.DOMStandardFontDataFactory=class H extends t.BaseStandardFontDataFactory{_fetchData(p){return x(p,!0)}},a.DOMSVGFactory=class X extends t.BaseSVGFactory{_createSVG(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}};class B{constructor({viewBox:p,scale:c,rotation:R,offsetX:T=0,offsetY:w=0,dontFlip:W=!1}){this.viewBox=p,this.scale=c,this.rotation=R,this.offsetX=T,this.offsetY=w;const E=(p[2]+p[0])/2,U=(p[3]+p[1])/2;let Z,oe,ae,L,s,e,r,o;switch((R%=360)<0&&(R+=360),R){case 180:Z=-1,oe=0,ae=0,L=1;break;case 90:Z=0,oe=1,ae=1,L=0;break;case 270:Z=0,oe=-1,ae=-1,L=0;break;case 0:Z=1,oe=0,ae=0,L=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}W&&(ae=-ae,L=-L),0===Z?(s=Math.abs(U-p[1])*c+T,e=Math.abs(E-p[0])*c+w,r=Math.abs(p[3]-p[1])*c,o=Math.abs(p[2]-p[0])*c):(s=Math.abs(E-p[0])*c+T,e=Math.abs(U-p[1])*c+w,r=Math.abs(p[2]-p[0])*c,o=Math.abs(p[3]-p[1])*c),this.transform=[Z*c,oe*c,ae*c,L*c,s-Z*c*E-ae*c*U,e-oe*c*E-L*c*U],this.width=r,this.height=o}clone({scale:p=this.scale,rotation:c=this.rotation,offsetX:R=this.offsetX,offsetY:T=this.offsetY,dontFlip:w=!1}={}){return new B({viewBox:this.viewBox.slice(),scale:p,rotation:c,offsetX:R,offsetY:T,dontFlip:w})}convertToViewportPoint(p,c){return D.Util.applyTransform([p,c],this.transform)}convertToViewportRectangle(p){const c=D.Util.applyTransform([p[0],p[1]],this.transform),R=D.Util.applyTransform([p[2],p[3]],this.transform);return[c[0],c[1],R[0],R[1]]}convertToPdfPoint(p,c){return D.Util.applyInverseTransform([p,c],this.transform)}}function g(_){const p=_.length;let c=0;for(;c<p&&""===_[c].trim();)c++;return"data:"===_.substring(c,c+5).toLowerCase()}function v(_,p){try{const{protocol:c}=p?new URL(_,p):new URL(_);return"http:"===c||"https:"===c}catch{return!1}}let h;a.PageViewport=B,a.RenderingCancelledException=class G extends D.BaseException{constructor(p,c){super(p,"RenderingCancelledException"),this.type=c}},a.StatTimer=class b{constructor(){this.started=Object.create(null),this.times=[]}time(p){p in this.started&&(0,D.warn)(`Timer is already running for ${p}`),this.started[p]=Date.now()}timeEnd(p){p in this.started||(0,D.warn)(`Timer has not been started for ${p}`),this.times.push({name:p,start:this.started[p],end:Date.now()}),delete this.started[p]}toString(){const p=[];let c=0;for(const R of this.times){const T=R.name;T.length>c&&(c=T.length)}for(const R of this.times){const T=R.end-R.start;p.push(`${R.name.padEnd(c)} ${T}ms\n`)}return p.join("")}},a.PDFDateString=class y{static toDateObject(p){if(!p||"string"!=typeof p)return null;h||(h=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const c=h.exec(p);if(!c)return null;const R=parseInt(c[1],10);let T=parseInt(c[2],10);T=T>=1&&T<=12?T-1:0;let w=parseInt(c[3],10);w=w>=1&&w<=31?w:1;let W=parseInt(c[4],10);W=W>=0&&W<=23?W:0;let E=parseInt(c[5],10);E=E>=0&&E<=59?E:0;let U=parseInt(c[6],10);U=U>=0&&U<=59?U:0;const Z=c[7]||"Z";let oe=parseInt(c[8],10);oe=oe>=0&&oe<=23?oe:0;let ae=parseInt(c[9],10)||0;return ae=ae>=0&&ae<=59?ae:0,"-"===Z?(W+=oe,E+=ae):"+"===Z&&(W-=oe,E-=ae),new Date(Date.UTC(R,T,w,W,E,U))}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var t=S(1);class D{constructor(){this.constructor===D&&(0,t.unreachable)("Cannot initialize BaseCanvasFactory.")}create(A,N){if(A<=0||N<=0)throw new Error("Invalid canvas size");const H=this._createCanvas(A,N);return{canvas:H,context:H.getContext("2d")}}reset(A,N,H){if(!A.canvas)throw new Error("Canvas is not specified");if(N<=0||H<=0)throw new Error("Invalid canvas size");A.canvas.width=N,A.canvas.height=H}destroy(A){if(!A.canvas)throw new Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}_createCanvas(A,N){(0,t.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=D;class O{constructor({baseUrl:A=null,isCompressed:N=!1}){this.constructor===O&&(0,t.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=A,this.isCompressed=N}fetch({name:A}){var N=this;return _asyncToGenerator(function*(){if(!N.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!A)throw new Error("CMap name must be specified.");const H=N.baseUrl+A+(N.isCompressed?".bcmap":"");return N._fetchData(H,N.isCompressed?t.CMapCompressionType.BINARY:t.CMapCompressionType.NONE).catch(B=>{throw new Error(`Unable to load ${N.isCompressed?"binary ":""}CMap at: ${H}`)})})()}_fetchData(A,N){(0,t.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=O;class q{constructor({baseUrl:A=null}){this.constructor===q&&(0,t.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=A}fetch({filename:A}){var N=this;return _asyncToGenerator(function*(){if(!N.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!A)throw new Error("Font filename must be specified.");const H=`${N.baseUrl}${A}`;return N._fetchData(H).catch(X=>{throw new Error(`Unable to load font data at: ${H}`)})})()}_fetchData(A){(0,t.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=q;class M{constructor(){this.constructor===M&&(0,t.unreachable)("Cannot initialize BaseSVGFactory.")}create(A,N){if(A<=0||N<=0)throw new Error("Invalid SVG dimensions");const H=this._createSVG("svg:svg");return H.setAttribute("version","1.1"),H.setAttribute("width",`${A}px`),H.setAttribute("height",`${N}px`),H.setAttribute("preserveAspectRatio","none"),H.setAttribute("viewBox",`0 0 ${A} ${N}`),H}createElement(A){if("string"!=typeof A)throw new Error("Invalid SVG element type");return this._createSVG(A)}_createSVG(A){(0,t.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=M},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var t=S(1);class D{constructor({docId:x,onUnsupportedFeature:A,ownerDocument:N=globalThis.document,styleElement:H=null}){this.constructor===D&&(0,t.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=A,this._document=N,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}insertRule(x){let A=this.styleElement;A||(A=this.styleElement=this._document.createElement("style"),A.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(A));const N=A.sheet;N.insertRule(x,N.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(x){var A=this;return _asyncToGenerator(function*(){if(x.attached||x.missingFile)return;if(x.attached=!0,A.isFontLoadingAPISupported){const H=x.createNativeFontFace();if(H){A.addNativeFontFace(H);try{yield H.loaded}catch(X){throw A._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,t.warn)(`Failed to load font '${H.family}': '${X}'.`),x.disableFontFace=!0,X}}return}const N=x.createFontFaceRule();if(N){if(A.insertRule(N),A.isSyncFontLoadingSupported)return;yield new Promise(H=>{const X=A._queueLoadingCallback(H);A._prepareFontLoadEvent([N],[x],X)})}})()}_queueLoadingCallback(x){(0,t.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,t.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,t.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,t.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(x,A,N){(0,t.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let O;a.FontLoader=O,a.FontLoader=O=class extends D{constructor(x){super(x),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let x=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(x=!0),(0,t.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){const N=this.loadingContext,H={id:"pdfjs-font-loading-"+N.nextRequestId++,done:!1,complete:function A(){for((0,t.assert)(!H.done,"completeRequest() cannot be called twice."),H.done=!0;N.requests.length>0&&N.requests[0].done;){const X=N.requests.shift();setTimeout(X.callback,0)}},callback:x};return N.requests.push(H),H}get _loadTestFont(){return(0,t.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(x,A,N){function H(R,T){return R.charCodeAt(T)<<24|R.charCodeAt(T+1)<<16|R.charCodeAt(T+2)<<8|255&R.charCodeAt(T+3)}function X(R,T,w,W){return R.substring(0,T)+W+R.substring(T+w)}let B,G;const g=this._document.createElement("canvas");g.width=1,g.height=1;const C=g.getContext("2d");let m=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=X(v,976,b.length,b);const h=1482184792;let y=H(v,16);for(B=0,G=b.length-3;B<G;B+=4)y=y-h+H(b,B)|0;B<b.length&&(y=y-h+H(b+"XXX",B)|0),v=X(v,16,4,(0,t.string32)(y));const d=`url(data:font/opentype;base64,${btoa(v)});`;this.insertRule(`@font-face {font-family:"${b}";src:${d}}`);const p=[];for(const R of A)p.push(R.loadedName);p.push(b);const c=this._document.createElement("div");c.style.visibility="hidden",c.style.width=c.style.height="10px",c.style.position="absolute",c.style.top=c.style.left="0px";for(const R of p){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=R,c.appendChild(T)}this._document.body.appendChild(c),function P(R,T){if(m++,m>30)return(0,t.warn)("Load test font never loaded."),void T();C.font="30px "+R,C.fillText(".",0,20),C.getImageData(0,0,1,1).data[3]>0?T():setTimeout(P.bind(null,R,T))}(b,()=>{c.remove(),N.complete()})}},a.FontFaceObject=class q{constructor(x,{isEvalSupported:A=!0,disableFontFace:N=!1,ignoreErrors:H=!1,onUnsupportedFeature:X,fontRegistry:B=null}){this.compiledGlyphs=Object.create(null);for(const G in x)this[G]=x[G];this.isEvalSupported=!1!==A,this.disableFontFace=!0===N,this.ignoreErrors=!0===H,this._onUnsupportedFeature=X,this.fontRegistry=B}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(this.cssFontInfo){const A={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(A.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,A)}else x=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,t.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(x)});`;let N;if(this.cssFontInfo){let H=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(H+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),N=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${H}src:${A}}`}else N=`@font-face {font-family:"${this.loadedName}";src:${A}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,A),N}getPathGenerator(x,A){if(void 0!==this.compiledGlyphs[A])return this.compiledGlyphs[A];let N;try{N=x.get(this.loadedName+"_path_"+A)}catch(H){if(!this.ignoreErrors)throw H;return this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,t.warn)(`getPathGenerator - ignoring character: "${H}".`),this.compiledGlyphs[A]=function(X,B){}}if(this.isEvalSupported&&t.FeatureTest.isEvalSupported){const H=[];for(const X of N){const B=void 0!==X.args?X.args.join(","):"";H.push("c.",X.cmd,"(",B,");\n")}return this.compiledGlyphs[A]=new Function("c","size",H.join(""))}return this.compiledGlyphs[A]=function(H,X){for(const B of N)"scale"===B.cmd&&(B.args=[X,-X]),H[B.cmd].apply(H,B.args)}}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var t=S(9),D=S(1);a.AnnotationStorage=class O{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(M,x){const A=this._storage.get(M);return void 0===A?x:Object.assign(x,A)}getRawValue(M){return this._storage.get(M)}setValue(M,x){const A=this._storage.get(M);let N=!1;if(void 0!==A)for(const[H,X]of Object.entries(x))A[H]!==X&&(N=!0,A[H]=X);else N=!0,this._storage.set(M,x);N&&this._setModified()}getAll(){return this._storage.size>0?(0,D.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const M=new t.MurmurHash3_64;for(const[x,A]of this._storage)M.update(`${x}:${JSON.stringify(A)}`);return M.hexdigest()}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var t=S(1);const D=3285377520,O=4294901760,q=65535;a.MurmurHash3_64=class M{constructor(A){this.h1=A?4294967295&A:D,this.h2=A?4294967295&A:D}update(A){let N,H;if("string"==typeof A){N=new Uint8Array(2*A.length),H=0;for(let h=0,y=A.length;h<y;h++){const d=A.charCodeAt(h);d<=255?N[H++]=d:(N[H++]=d>>>8,N[H++]=255&d)}}else{if(!(0,t.isArrayBuffer)(A))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");N=A.slice(),H=N.byteLength}const X=H>>2,B=H-4*X,G=new Uint32Array(N.buffer,0,X);let g=0,C=0,m=this.h1,P=this.h2;const b=3432918353,v=461845907,n=b&q,i=v&q;for(let h=0;h<X;h++)1&h?(g=G[h],g=g*b&O|g*n&q,g=g<<15|g>>>17,g=g*v&O|g*i&q,m^=g,m=m<<13|m>>>19,m=5*m+3864292196):(C=G[h],C=C*b&O|C*n&q,C=C<<15|C>>>17,C=C*v&O|C*i&q,P^=C,P=P<<13|P>>>19,P=5*P+3864292196);switch(g=0,B){case 3:g^=N[4*X+2]<<16;case 2:g^=N[4*X+1]<<8;case 1:g^=N[4*X],g=g*b&O|g*n&q,g=g<<15|g>>>17,g=g*v&O|g*i&q,1&X?m^=g:P^=g}this.h1=m,this.h2=P}hexdigest(){let A=this.h1,N=this.h2;A^=N>>>1,A=3981806797*A&O|36045*A&q,N=4283543511*N&O|(2950163797*(N<<16|A>>>16)&O)>>>16,A^=N>>>1,A=444984403*A&O|60499*A&q,N=3301882366*N&O|(3120437893*(N<<16|A>>>16)&O)>>>16,A^=N>>>1;const H=(A>>>0).toString(16),X=(N>>>0).toString(16);return H.padStart(8,"0")+X.padStart(8,"0")}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var t=S(1),D=S(11),O=S(12),q=S(3),M=S(5);const N=4096,g=16;function P(L){if(L._transformStack&&(L._transformStack=[]),!L.mozCurrentTransform){L._originalSave=L.save,L._originalRestore=L.restore,L._originalRotate=L.rotate,L._originalScale=L.scale,L._originalTranslate=L.translate,L._originalTransform=L.transform,L._originalSetTransform=L.setTransform,L._originalResetTransform=L.resetTransform,L._transformMatrix=L._transformMatrix||[1,0,0,1,0,0],L._transformStack=[];try{const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(L),"lineWidth");L._setLineWidth=s.set,L._getLineWidth=s.get,Object.defineProperty(L,"lineWidth",{set:function(r){this._setLineWidth(1.000001*r)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(L,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(L,"mozCurrentTransformInverse",{get:function(){const[e,r,o,u,f,l]=this._transformMatrix,F=e*u-r*o,Y=r*o-e*u;return[u/F,r/Y,o/Y,e/F,(u*f-o*l)/Y,(r*f-e*l)/F]}}),L.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},L.restore=function(){0===this._transformStack.length&&(0,t.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},L.translate=function(e,r){const o=this._transformMatrix;o[4]=o[0]*e+o[2]*r+o[4],o[5]=o[1]*e+o[3]*r+o[5],this._originalTranslate(e,r)},L.scale=function(e,r){const o=this._transformMatrix;o[0]*=e,o[1]*=e,o[2]*=r,o[3]*=r,this._originalScale(e,r)},L.transform=function(e,r,o,u,f,l){const F=this._transformMatrix;this._transformMatrix=[F[0]*e+F[2]*r,F[1]*e+F[3]*r,F[0]*o+F[2]*u,F[1]*o+F[3]*u,F[0]*f+F[2]*l+F[4],F[1]*f+F[3]*l+F[5]],L._originalTransform(e,r,o,u,f,l)},L.setTransform=function(e,r,o,u,f,l){this._transformMatrix=[e,r,o,u,f,l],L._originalSetTransform(e,r,o,u,f,l)},L.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],L._originalResetTransform()},L.rotate=function(e){const r=Math.cos(e),o=Math.sin(e),u=this._transformMatrix;this._transformMatrix=[u[0]*r+u[2]*o,u[1]*r+u[3]*o,u[0]*-o+u[2]*r,u[1]*-o+u[3]*r,u[4],u[5]],this._originalRotate(e)}}}class b{constructor(s){this.canvasFactory=s,this.cache=Object.create(null)}getCanvas(s,e,r,o){let u;return void 0!==this.cache[s]?(u=this.cache[s],this.canvasFactory.reset(u,e,r),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(e,r),this.cache[s]=u),o&&P(u.context),u}delete(s){delete this.cache[s]}clear(){for(const s in this.cache)this.canvasFactory.destroy(this.cache[s]),delete this.cache[s]}}function v(L,s,e,r,o,u,f,l,F,Y){const[V,K,Q,ee,te,ue]=L.mozCurrentTransform;if(0===K&&0===Q){const le=Math.round(f*V+te),Ce=Math.round(l*ee+ue),se=Math.abs(Math.round((f+F)*V+te)-le)||1,be=Math.abs(Math.round((l+Y)*ee+ue)-Ce)||1;return L.setTransform(Math.sign(V),0,0,Math.sign(ee),le,Ce),L.drawImage(s,e,r,o,u,0,0,se,be),L.setTransform(V,K,Q,ee,te,ue),[se,be]}if(0===V&&0===ee){const le=Math.round(l*Q+te),Ce=Math.round(f*K+ue),se=Math.abs(Math.round((l+Y)*Q+te)-le)||1,be=Math.abs(Math.round((f+F)*K+ue)-Ce)||1;return L.setTransform(0,Math.sign(K),Math.sign(Q),0,le,Ce),L.drawImage(s,e,r,o,u,0,0,be,se),L.setTransform(V,K,Q,ee,te,ue),[be,se]}return L.drawImage(s,e,r,o,u,f,l,F,Y),[Math.hypot(V,K)*F,Math.hypot(Q,ee)*Y]}class i{constructor(s,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=t.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=t.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,s,e])}clone(){const s=Object.create(this);return s.clipBox=this.clipBox.slice(),s}setCurrentPoint(s,e){this.x=s,this.y=e}updatePathMinMax(s,e,r){[e,r]=t.Util.applyTransform([e,r],s),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(s,e){const r=t.Util.applyTransform(e,s),o=t.Util.applyTransform(e.slice(2),s);this.minX=Math.min(this.minX,r[0],o[0]),this.minY=Math.min(this.minY,r[1],o[1]),this.maxX=Math.max(this.maxX,r[0],o[0]),this.maxY=Math.max(this.maxY,r[1],o[1])}updateScalingPathMinMax(s,e){t.Util.scaleMinMax(s,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(s,e,r,o,u,f,l,F,Y,V){const K=t.Util.bezierBoundingBox(e,r,o,u,f,l,F,Y);if(V)return V[0]=Math.min(V[0],K[0],K[2]),V[1]=Math.max(V[1],K[0],K[2]),V[2]=Math.min(V[2],K[1],K[3]),void(V[3]=Math.max(V[3],K[1],K[3]));this.updateRectMinMax(s,K)}getPathBoundingBox(s=D.PathType.FILL,e=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(s===D.PathType.STROKE){e||(0,t.unreachable)("Stroke bounding box must include transform.");const o=t.Util.singularValueDecompose2dScale(e),u=o[0]*this.lineWidth/2,f=o[1]*this.lineWidth/2;r[0]-=u,r[1]-=f,r[2]+=u,r[3]+=f}return r}updateClipFromPath(){const s=t.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(s||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(s){this.clipBox=s,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(s=D.PathType.FILL,e=null){return t.Util.intersect(this.clipBox,this.getPathBoundingBox(s,e))}}function h(L,s,e=null){if(typeof ImageData<"u"&&s instanceof ImageData)return void L.putImageData(s,0,0);const r=s.height,o=s.width,u=r%g,f=(r-u)/g,l=0===u?f:f+1,F=L.createImageData(o,g);let V,Y=0;const K=s.data,Q=F.data;let ee,te,ue,_e,Ae,me,le,we;if(e)switch(e.length){case 1:Ae=e[0],me=e[0],le=e[0],we=e[0];break;case 4:Ae=e[0],me=e[1],le=e[2],we=e[3]}if(s.kind===t.ImageKind.GRAYSCALE_1BPP){const Ce=K.byteLength,pe=new Uint32Array(Q.buffer,0,Q.byteLength>>2),se=pe.length,de=o+7>>3;let be=4294967295,ne=t.FeatureTest.isLittleEndian?4278190080:255;for(we&&255===we[0]&&0===we[255]&&([be,ne]=[ne,be]),ee=0;ee<l;ee++){for(ue=ee<f?g:u,V=0,te=0;te<ue;te++){const k=Ce-Y;let J=0;const ce=k>de?o:8*k-7,ge=-8&ce;let $=0,I=0;for(;J<ge;J+=8)I=K[Y++],pe[V++]=128&I?be:ne,pe[V++]=64&I?be:ne,pe[V++]=32&I?be:ne,pe[V++]=16&I?be:ne,pe[V++]=8&I?be:ne,pe[V++]=4&I?be:ne,pe[V++]=2&I?be:ne,pe[V++]=1&I?be:ne;for(;J<ce;J++)0===$&&(I=K[Y++],$=128),pe[V++]=I&$?be:ne,$>>=1}for(;V<se;)pe[V++]=0;L.putImageData(F,0,ee*g)}}else if(s.kind===t.ImageKind.RGBA_32BPP){const Ce=!!(Ae||me||le);for(te=0,_e=o*g*4,ee=0;ee<f;ee++){if(Q.set(K.subarray(Y,Y+_e)),Y+=_e,Ce)for(let pe=0;pe<_e;pe+=4)Ae&&(Q[pe+0]=Ae[Q[pe+0]]),me&&(Q[pe+1]=me[Q[pe+1]]),le&&(Q[pe+2]=le[Q[pe+2]]);L.putImageData(F,0,te),te+=g}if(ee<l){if(_e=o*u*4,Q.set(K.subarray(Y,Y+_e)),Ce)for(let pe=0;pe<_e;pe+=4)Ae&&(Q[pe+0]=Ae[Q[pe+0]]),me&&(Q[pe+1]=me[Q[pe+1]]),le&&(Q[pe+2]=le[Q[pe+2]]);L.putImageData(F,0,te)}}else{if(s.kind!==t.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${s.kind}`);{const Ce=!!(Ae||me||le);for(ue=g,_e=o*ue,ee=0;ee<l;ee++){for(ee>=f&&(ue=u,_e=o*ue),V=0,te=_e;te--;)Q[V++]=K[Y++],Q[V++]=K[Y++],Q[V++]=K[Y++],Q[V++]=255;if(Ce)for(let pe=0;pe<V;pe+=4)Ae&&(Q[pe+0]=Ae[Q[pe+0]]),me&&(Q[pe+1]=me[Q[pe+1]]),le&&(Q[pe+2]=le[Q[pe+2]]);L.putImageData(F,0,ee*g)}}}}function y(L,s){if(s.bitmap)return void L.drawImage(s.bitmap,0,0);const e=s.height,r=s.width,o=e%g,u=(e-o)/g,f=0===o?u:u+1,l=L.createImageData(r,g);let F=0;const Y=s.data,V=l.data;for(let K=0;K<f;K++){const Q=K<u?g:o;({srcPos:F}=(0,O.applyMaskImageData)({src:Y,srcPos:F,dest:V,width:r,height:Q})),L.putImageData(l,0,K*g)}}function d(L,s){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,o=e.length;r<o;r++){const u=e[r];void 0!==L[u]&&(s[u]=L[u])}void 0!==L.setLineDash&&(s.setLineDash(L.getLineDash()),s.lineDashOffset=L.lineDashOffset)}function _(L,s){L.strokeStyle=L.fillStyle=s||"#000000",L.fillRule="nonzero",L.globalAlpha=1,L.lineWidth=1,L.lineCap="butt",L.lineJoin="miter",L.miterLimit=10,L.globalCompositeOperation="source-over",L.font="10px sans-serif",void 0!==L.setLineDash&&(L.setLineDash([]),L.lineDashOffset=0)}function p(L,s,e,r){const o=L.length;for(let u=3;u<o;u+=4){const f=L[u];if(0===f)L[u-3]=s,L[u-2]=e,L[u-1]=r;else if(f<255){const l=255-f;L[u-3]=L[u-3]*f+s*l>>8,L[u-2]=L[u-2]*f+e*l>>8,L[u-1]=L[u-1]*f+r*l>>8}}}function c(L,s,e){const r=L.length;for(let u=3;u<r;u+=4)s[u]=s[u]*(e?e[L[u]]:L[u])*.00392156862745098|0}function R(L,s,e){const r=L.length;for(let o=3;o<r;o+=4){const u=77*L[o-3]+152*L[o-2]+28*L[o-1];s[o]=e?s[o]*e[u>>8]>>8:s[o]*u>>16}}function W(L,s){const e=t.Util.singularValueDecompose2dScale(L);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*M.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==s?s:e[0]<=r||e[1]<=r}const E=["butt","round","square"],U=["miter","round","bevel"],Z={},oe={};class ae{constructor(s,e,r,o,u,f,l,F){this.ctx=s,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=o,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=f,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=F?.background||null,this.foregroundColor=F?.foreground||null,s&&P(s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(s,e=null){return"string"==typeof s?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):e}beginDrawing({transform:s,viewport:e,transparency:r=!1,background:o=null}){const u=this.ctx.canvas.width,f=this.ctx.canvas.height,l=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const F=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Y=this.backgroundColor=this.ctx.fillStyle;let V=!0,K=l;if(this.ctx.fillStyle=l,K=this.ctx.fillStyle,V="string"==typeof K&&/^#[0-9A-Fa-f]{6}$/.test(K),"#000000"===F&&"#ffffff"===Y||F===Y||!V)this.foregroundColor=this.backgroundColor=null;else{const Q=parseInt(K.slice(1),16),te=(Q&&65280)>>8,ue=Q&&255,_e=me=>(me/=255)<=.03928?me/12.92:((me+.055)/1.055)**2.4,Ae=Math.round(.2126*_e((Q&&16711680)>>16)+.7152*_e(te)+.0722*_e(ue));this.selectColor=(me,le,we)=>{const Ce=.2126*_e(me)+.7152*_e(le)+.0722*_e(we);return Math.round(Ce)===Ae?Y:F}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,u,f),this.ctx.restore(),r){const F=this.cachedCanvases.getCanvas("transparent",u,f,!0);this.compositeCtx=this.ctx,this.transparentCanvas=F.canvas,this.ctx=F.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),_(this.ctx,this.foregroundColor),s&&(this.ctx.transform.apply(this.ctx,s),this.outputScaleX=s[0],this.outputScaleY=s[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(s,e,r,o){const u=s.argsArray,f=s.fnArray;let l=e||0;const F=u.length;if(F===l)return l;const Y=F-l>10&&"function"==typeof r,V=Y?Date.now()+15:0;let K=0;const Q=this.commonObjs,ee=this.objs;let te;for(;;){if(void 0!==o&&l===o.nextBreakPoint)return o.breakIt(l,r),l;if(te=f[l],te!==t.OPS.dependency)this[te].apply(this,u[l]);else for(const ue of u[l]){const _e=ue.startsWith("g_")?Q:ee;if(!_e.has(ue))return _e.get(ue,r),l}if(l++,l===F)return l;if(Y&&++K>10){if(Date.now()>V)return r(),l;K=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const s of this._cachedBitmapsMap.values()){for(const e of s.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);s.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(s,e){const r=s.width,o=s.height;let V,K,u=Math.max(Math.hypot(e[0],e[1]),1),f=Math.max(Math.hypot(e[2],e[3]),1),l=r,F=o,Y="prescale1";for(;u>2&&l>1||f>2&&F>1;){let Q=l,ee=F;u>2&&l>1&&(Q=Math.ceil(l/2),u/=l/Q),f>2&&F>1&&(ee=Math.ceil(F/2),f/=F/ee),V=this.cachedCanvases.getCanvas(Y,Q,ee,!1),K=V.context,K.clearRect(0,0,Q,ee),K.drawImage(s,0,0,l,F,0,0,Q,ee),s=V.canvas,l=Q,F=ee,Y="prescale1"===Y?"prescale2":"prescale1"}return{img:s,paintWidth:l,paintHeight:F}}_createMaskCanvas(s){const e=this.ctx,{width:r,height:o}=s,u=this.current.fillColor,f=this.current.patternFill,l=e.mozCurrentTransform;let F,Y,V,K;if((s.bitmap||s.data)&&s.count>1){const se=s.bitmap||s.data.buffer,de=l.slice(0,4);Y=JSON.stringify(f?de:[de,u]),F=this._cachedBitmapsMap.get(se),F||(F=new Map,this._cachedBitmapsMap.set(se,F));const be=F.get(Y);if(be&&!f)return{canvas:be,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};V=be}V||(K=this.cachedCanvases.getCanvas("maskCanvas",r,o,!1),y(K.context,s));let Q=t.Util.transform(l,[1/r,0,0,-1/o,0,0]);Q=t.Util.transform(Q,[1,0,0,1,0,-o]);const ee=t.Util.applyTransform([0,0],Q),te=t.Util.applyTransform([r,o],Q),ue=t.Util.normalizeRect([ee[0],ee[1],te[0],te[1]]),_e=Math.round(ue[2]-ue[0])||1,Ae=Math.round(ue[3]-ue[1])||1,me=this.cachedCanvases.getCanvas("fillCanvas",_e,Ae,!0),le=me.context,we=Math.min(ee[0],te[0]),Ce=Math.min(ee[1],te[1]);le.translate(-we,-Ce),le.transform.apply(le,Q),V||(V=this._scaleImage(K.canvas,le.mozCurrentTransformInverse),V=V.img,F&&f&&F.set(Y,V)),le.imageSmoothingEnabled=W(le.mozCurrentTransform,s.interpolate),v(le,V,0,0,V.width,V.height,0,0,r,o),le.globalCompositeOperation="source-in";const pe=t.Util.transform(le.mozCurrentTransformInverse,[1,0,0,1,-we,-Ce]);return le.fillStyle=f?u.getPattern(e,this,pe,D.PathType.FILL):u,le.fillRect(0,0,r,o),F&&!f&&(this.cachedCanvases.delete("fillCanvas"),F.set(Y,me.canvas)),{canvas:me.canvas,offsetX:Math.round(we),offsetY:Math.round(Ce)}}setLineWidth(s){s!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=s,this.ctx.lineWidth=s}setLineCap(s){this.ctx.lineCap=E[s]}setLineJoin(s){this.ctx.lineJoin=U[s]}setMiterLimit(s){this.ctx.miterLimit=s}setDash(s,e){const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(s),r.lineDashOffset=e)}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(let e=0,r=s.length;e<r;e++){const o=s[e],f=o[1];switch(o[0]){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=f}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const s=this.inSMaskMode;this.current.activeSMask&&!s?this.beginSMaskMode():!this.current.activeSMask&&s&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),d(this.suspendedCtx,u),function m(L,s){if(L._removeMirroring)throw new Error("Context is already forwarding operations.");L.__originalSave=L.save,L.__originalRestore=L.restore,L.__originalRotate=L.rotate,L.__originalScale=L.scale,L.__originalTranslate=L.translate,L.__originalTransform=L.transform,L.__originalSetTransform=L.setTransform,L.__originalResetTransform=L.resetTransform,L.__originalClip=L.clip,L.__originalMoveTo=L.moveTo,L.__originalLineTo=L.lineTo,L.__originalBezierCurveTo=L.bezierCurveTo,L.__originalRect=L.rect,L.__originalClosePath=L.closePath,L.__originalBeginPath=L.beginPath,L._removeMirroring=()=>{L.save=L.__originalSave,L.restore=L.__originalRestore,L.rotate=L.__originalRotate,L.scale=L.__originalScale,L.translate=L.__originalTranslate,L.transform=L.__originalTransform,L.setTransform=L.__originalSetTransform,L.resetTransform=L.__originalResetTransform,L.clip=L.__originalClip,L.moveTo=L.__originalMoveTo,L.lineTo=L.__originalLineTo,L.bezierCurveTo=L.__originalBezierCurveTo,L.rect=L.__originalRect,L.closePath=L.__originalClosePath,L.beginPath=L.__originalBeginPath,delete L._removeMirroring},L.save=function(){s.save(),this.__originalSave()},L.restore=function(){s.restore(),this.__originalRestore()},L.translate=function(r,o){s.translate(r,o),this.__originalTranslate(r,o)},L.scale=function(r,o){s.scale(r,o),this.__originalScale(r,o)},L.transform=function(r,o,u,f,l,F){s.transform(r,o,u,f,l,F),this.__originalTransform(r,o,u,f,l,F)},L.setTransform=function(r,o,u,f,l,F){s.setTransform(r,o,u,f,l,F),this.__originalSetTransform(r,o,u,f,l,F)},L.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},L.rotate=function(r){s.rotate(r),this.__originalRotate(r)},L.clip=function(r){s.clip(r),this.__originalClip(r)},L.moveTo=function(e,r){s.moveTo(e,r),this.__originalMoveTo(e,r)},L.lineTo=function(e,r){s.lineTo(e,r),this.__originalLineTo(e,r)},L.bezierCurveTo=function(e,r,o,u,f,l){s.bezierCurveTo(e,r,o,u,f,l),this.__originalBezierCurveTo(e,r,o,u,f,l)},L.rect=function(e,r,o,u){s.rect(e,r,o,u),this.__originalRect(e,r,o,u)},L.closePath=function(){s.closePath(),this.__originalClosePath()},L.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),d(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(s){this.current.activeSMask&&(s?(s[0]=Math.floor(s[0]),s[1]=Math.floor(s[1]),s[2]=Math.ceil(s[2]),s[3]=Math.ceil(s[3])):s=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function w(L,s,e,r){const o=r[0],u=r[1],f=r[2]-o,l=r[3]-u;0===f||0===l||(function T(L,s,e,r,o,u,f,l,F,Y,V){const K=!!u,Q=K?u[0]:0,ee=K?u[1]:0,te=K?u[2]:0;let ue;ue="Luminosity"===o?R:c;const Ae=Math.min(r,Math.ceil(1048576/e));for(let me=0;me<r;me+=Ae){const le=Math.min(Ae,r-me),we=L.getImageData(l-Y,me+(F-V),e,le),Ce=s.getImageData(l,me+F,e,le);K&&p(we.data,Q,ee,te),ue(we.data,Ce.data,f),s.putImageData(Ce,l,me+F)}}(s.context,e,f,l,s.subtype,s.backdrop,s.transferMap,o,u,s.offsetX,s.offsetY),L.save(),L.globalAlpha=1,L.globalCompositeOperation="source-over",L.setTransform(1,0,0,1,0,0),L.drawImage(e.canvas,0,0),L.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,s),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(d(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),d(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(s,e,r,o,u,f){this.ctx.transform(s,e,r,o,u,f),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(s,e,r){const o=this.ctx,u=this.current;let F,Y,f=u.x,l=u.y;const V=o.mozCurrentTransform,K=0===V[0]&&0===V[3]||0===V[1]&&0===V[2],Q=K?r.slice(0):null;for(let ee=0,te=0,ue=s.length;ee<ue;ee++)switch(0|s[ee]){case t.OPS.rectangle:f=e[te++],l=e[te++];const _e=e[te++],Ae=e[te++],me=f+_e,le=l+Ae;o.moveTo(f,l),0===_e||0===Ae?o.lineTo(me,le):(o.lineTo(me,l),o.lineTo(me,le),o.lineTo(f,le)),K||u.updateRectMinMax(V,[f,l,me,le]),o.closePath();break;case t.OPS.moveTo:f=e[te++],l=e[te++],o.moveTo(f,l),K||u.updatePathMinMax(V,f,l);break;case t.OPS.lineTo:f=e[te++],l=e[te++],o.lineTo(f,l),K||u.updatePathMinMax(V,f,l);break;case t.OPS.curveTo:F=f,Y=l,f=e[te+4],l=e[te+5],o.bezierCurveTo(e[te],e[te+1],e[te+2],e[te+3],f,l),u.updateCurvePathMinMax(V,F,Y,e[te],e[te+1],e[te+2],e[te+3],f,l,Q),te+=6;break;case t.OPS.curveTo2:F=f,Y=l,o.bezierCurveTo(f,l,e[te],e[te+1],e[te+2],e[te+3]),u.updateCurvePathMinMax(V,F,Y,f,l,e[te],e[te+1],e[te+2],e[te+3],Q),f=e[te+2],l=e[te+3],te+=4;break;case t.OPS.curveTo3:F=f,Y=l,f=e[te+2],l=e[te+3],o.bezierCurveTo(e[te],e[te+1],f,l,f,l),u.updateCurvePathMinMax(V,F,Y,e[te],e[te+1],f,l,f,l,Q),te+=4;break;case t.OPS.closePath:o.closePath()}K&&u.updateScalingPathMinMax(V,Q),u.setCurrentPoint(f,l)}closePath(){this.ctx.closePath()}stroke(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(e.save(),e.strokeStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,D.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),s&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.fillColor;let u=!1;this.current.patternFill&&(e.save(),e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,D.PathType.FILL),u=!0);const f=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==f&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),u&&e.restore(),s&&this.consumePath(f)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Z}eoClip(){this.pendingClip=oe}beginText(){this.current.textMatrix=t.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const s=this.pendingTextPaths,e=this.ctx;if(void 0!==s){e.save(),e.beginPath();for(let r=0;r<s.length;r++){const o=s[r];e.setTransform.apply(e,o.transform),e.translate(o.x,o.y),o.addToPath(e,o.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(s){this.current.charSpacing=s}setWordSpacing(s){this.current.wordSpacing=s}setHScale(s){this.current.textHScale=s/100}setLeading(s){this.current.leading=-s}setFont(s,e){const r=this.commonObjs.get(s),o=this.current;if(!r)throw new Error(`Can't find font for ${s}`);if(o.fontMatrix=r.fontMatrix||t.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,t.warn)("Invalid font matrix for font "+s),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;let f="normal";r.black?f="900":r.bold&&(f="bold");const l=r.italic?"italic":"normal",F=`"${r.loadedName||"sans-serif"}", ${r.fallbackName}`;let Y=e;e<16?Y=16:e>100&&(Y=100),this.current.fontSizeScale=e/Y,this.ctx.font=`${l} ${f} ${Y}px ${F}`}setTextRenderingMode(s){this.current.textRenderingMode=s}setTextRise(s){this.current.textRise=s}moveText(s,e){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=e}setLeadingMoveText(s,e){this.setLeading(-e),this.moveText(s,e)}setTextMatrix(s,e,r,o,u,f){this.current.textMatrix=[s,e,r,o,u,f],this.current.textMatrixScale=Math.hypot(s,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(s,e,r,o){const u=this.ctx,f=this.current,l=f.font,F=f.textRenderingMode,Y=f.fontSize/f.fontSizeScale,V=F&t.TextRenderingMode.FILL_STROKE_MASK,K=!!(F&t.TextRenderingMode.ADD_TO_PATH_FLAG),Q=f.patternFill&&!l.missingFile;let ee;(l.disableFontFace||K||Q)&&(ee=l.getPathGenerator(this.commonObjs,s)),l.disableFontFace||Q?(u.save(),u.translate(e,r),u.beginPath(),ee(u,Y),o&&u.setTransform.apply(u,o),(V===t.TextRenderingMode.FILL||V===t.TextRenderingMode.FILL_STROKE)&&u.fill(),(V===t.TextRenderingMode.STROKE||V===t.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((V===t.TextRenderingMode.FILL||V===t.TextRenderingMode.FILL_STROKE)&&u.fillText(s,e,r),(V===t.TextRenderingMode.STROKE||V===t.TextRenderingMode.FILL_STROKE)&&u.strokeText(s,e,r)),K&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:e,y:r,fontSize:Y,addToPath:ee})}get isFontSubpixelAAEnabled(){const{context:s}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);s.scale(1.5,1),s.fillText("I",0,10);const e=s.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){r=!0;break}return(0,t.shadow)(this,"isFontSubpixelAAEnabled",r)}showText(s){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(s);const o=e.fontSize;if(0===o)return;const u=this.ctx,f=e.fontSizeScale,l=e.charSpacing,F=e.wordSpacing,Y=e.fontDirection,V=e.textHScale*Y,K=s.length,Q=r.vertical,ee=Q?1:-1,te=r.defaultVMetrics,ue=o*e.fontMatrix[0],_e=e.textRenderingMode===t.TextRenderingMode.FILL&&!r.disableFontFace&&!e.patternFill;let Ae;if(u.save(),u.transform.apply(u,e.textMatrix),u.translate(e.x,e.y+e.textRise),u.scale(V,Y>0?-1:1),e.patternFill){u.save();const pe=e.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,D.PathType.FILL);Ae=u.mozCurrentTransform,u.restore(),u.fillStyle=pe}let me=e.lineWidth;const le=e.textMatrixScale;if(0===le||0===me){const pe=e.textRenderingMode&t.TextRenderingMode.FILL_STROKE_MASK;(pe===t.TextRenderingMode.STROKE||pe===t.TextRenderingMode.FILL_STROKE)&&(me=this.getSinglePixelWidth())}else me/=le;1!==f&&(u.scale(f,f),me/=f),u.lineWidth=me;let Ce,we=0;for(Ce=0;Ce<K;++Ce){const pe=s[Ce];if("number"==typeof pe){we+=ee*pe*o/1e3;continue}let se=!1;const de=(pe.isSpace?F:0)+l,be=pe.fontChar,ne=pe.accent;let k,J,ge,ce=pe.width;if(Q){const $=pe.vmetric||te,I=-(pe.vmetric?$[1]:.5*ce)*ue;ce=$?-$[0]:ce,k=I/f,J=(we+$[2]*ue)/f}else k=we/f,J=0;if(r.remeasure&&ce>0){const $=1e3*u.measureText(be).width/o*f;if(ce<$&&this.isFontSubpixelAAEnabled){const I=ce/$;se=!0,u.save(),u.scale(I,1),k/=I}else ce!==$&&(k+=(ce-$)/2e3*o/f)}this.contentVisible&&(pe.isInFont||r.missingFile)&&(_e&&!ne?u.fillText(be,k,J):(this.paintChar(be,k,J,Ae),ne&&this.paintChar(ne.fontChar,k+o*ne.offset.x/f,J-o*ne.offset.y/f,Ae))),ge=Q?ce*ue-de*Y:ce*ue+de*Y,we+=ge,se&&u.restore()}Q?e.y-=we:e.x+=we*V,u.restore(),this.compose()}showType3Text(s){const e=this.ctx,r=this.current,o=r.font,u=r.fontSize,f=r.fontDirection,l=o.vertical?1:-1,F=r.charSpacing,Y=r.wordSpacing,V=r.textHScale*f,K=r.fontMatrix||t.FONT_IDENTITY_MATRIX,Q=s.length;let te,ue,_e,Ae;if(r.textRenderingMode!==t.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,r.textMatrix),e.translate(r.x,r.y),e.scale(V,f),te=0;te<Q;++te){if(ue=s[te],"number"==typeof ue){Ae=l*ue*u/1e3,this.ctx.translate(Ae,0),r.x+=Ae*V;continue}const me=(ue.isSpace?Y:0)+F,le=o.charProcOperatorList[ue.operatorListId];le?(this.contentVisible&&(this.processingType3=ue,this.save(),e.scale(u,u),e.transform.apply(e,K),this.executeOperatorList(le),this.restore()),_e=t.Util.applyTransform([ue.width,0],K)[0]*u+me,e.translate(_e,0),r.x+=_e*V):(0,t.warn)(`Type3 character "${ue.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(s,e){}setCharWidthAndBounds(s,e,r,o,u,f){this.ctx.rect(r,o,u-r,f-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(s){let e;if("TilingPattern"===s[0]){const r=s[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new D.TilingPattern(s,r,this.ctx,{createCanvasGraphics:f=>new ae(f,this.commonObjs,this.objs,this.canvasFactory)},o)}else e=this._getPattern(s[1],s[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||t.Util.makeHexColor(s,e,r);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||t.Util.makeHexColor(s,e,r);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(s,e=null){let r;return this.cachedPatterns.has(s)?r=this.cachedPatterns.get(s):(r=(0,D.getShadingPattern)(this.objs.get(s)),this.cachedPatterns.set(s,r)),e&&(r.matrix=e),r}shadingFill(s){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(s);e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,D.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const u=e.canvas,f=u.width,l=u.height,F=t.Util.applyTransform([0,0],o),Y=t.Util.applyTransform([0,l],o),V=t.Util.applyTransform([f,0],o),K=t.Util.applyTransform([f,l],o),Q=Math.min(F[0],Y[0],V[0],K[0]),ee=Math.min(F[1],Y[1],V[1],K[1]),te=Math.max(F[0],Y[0],V[0],K[0]),ue=Math.max(F[1],Y[1],V[1],K[1]);this.ctx.fillRect(Q,ee,te-Q,ue-ee)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,t.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,t.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(s,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&6===s.length&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(s){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;s.isolated||(0,t.info)("TODO: Support non-isolated groups."),s.knockout&&(0,t.warn)("Knockout groups not supported.");const r=e.mozCurrentTransform;if(s.matrix&&e.transform.apply(e,s.matrix),!s.bbox)throw new Error("Bounding box is required.");let o=t.Util.getAxialAlignedBoundingBox(s.bbox,e.mozCurrentTransform);o=t.Util.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const f=Math.floor(o[0]),l=Math.floor(o[1]);let F=Math.max(Math.ceil(o[2])-f,1),Y=Math.max(Math.ceil(o[3])-l,1),V=1,K=1;F>N&&(V=F/N,F=N),Y>N&&(K=Y/N,Y=N),this.current.startNewPathAndClipBox([0,0,F,Y]);let Q="groupAt"+this.groupLevel;s.smask&&(Q+="_smask_"+this.smaskCounter++%2);const ee=this.cachedCanvases.getCanvas(Q,F,Y,!0),te=ee.context;te.scale(1/V,1/K),te.translate(-f,-l),te.transform.apply(te,r),s.smask?this.smaskStack.push({canvas:ee.canvas,context:te,offsetX:f,offsetY:l,scaleX:V,scaleY:K,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(f,l),e.scale(V,K),e.save()),d(e,te),this.ctx=te,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(s){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,s.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const u=t.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(s,e,r,o,u){if(this.save(),Array.isArray(e)&&4===e.length){const f=e[2]-e[0],l=e[3]-e[1];if(u&&this.annotationCanvasMap){(r=r.slice())[4]-=e[0],r[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=f,e[3]=l;const[F,Y]=t.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:V}=this,K=Math.ceil(f*this.outputScaleX*V),Q=Math.ceil(l*this.outputScaleY*V);this.annotationCanvas=this.canvasFactory.create(K,Q);const{canvas:ee,context:te}=this.annotationCanvas,ue=`var(--zoom-factor) * ${M.PixelsPerInch.PDF_TO_CSS_UNITS}`;ee.style.width=`calc(${f}px * ${ue})`,ee.style.height=`calc(${l}px * ${ue})`,this.annotationCanvasMap.set(s,ee),this.annotationCanvas.savedCtx=this.ctx,this.ctx=te,this.ctx.setTransform(F,0,0,-Y,0,l*Y),P(this.ctx),_(this.ctx,this.foregroundColor)}else _(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],f,l),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,r),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(s){if(!this.contentVisible)return;const e=s.count;(s=this.getObject(s.data,s)).count=e;const r=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function n(L){const{width:s,height:e}=L;if(s>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=s+1;let l,F,Y,f=new Uint8Array(u*(e+1));const V=s+7&-8;let K=new Uint8Array(V*e),Q=0;for(const le of L.data){let we=128;for(;we>0;)K[Q++]=le&we?0:255,we>>=1}let ee=0;for(Q=0,0!==K[Q]&&(f[0]=1,++ee),F=1;F<s;F++)K[Q]!==K[Q+1]&&(f[F]=K[Q]?2:1,++ee),Q++;for(0!==K[Q]&&(f[F]=2,++ee),l=1;l<e;l++){Q=l*V,Y=l*u,K[Q-V]!==K[Q]&&(f[Y]=K[Q]?1:8,++ee);let le=(K[Q]?4:0)+(K[Q-V]?8:0);for(F=1;F<s;F++)le=(le>>2)+(K[Q+1]?4:0)+(K[Q-V+1]?8:0),o[le]&&(f[Y+F]=o[le],++ee),Q++;if(K[Q-V]!==K[Q]&&(f[Y+F]=K[Q]?2:4,++ee),ee>1e3)return null}for(Q=V*(e-1),Y=l*u,0!==K[Q]&&(f[Y]=8,++ee),F=1;F<s;F++)K[Q]!==K[Q+1]&&(f[Y+F]=K[Q]?4:8,++ee),Q++;if(0!==K[Q]&&(f[Y+F]=4,++ee),ee>1e3)return null;const te=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let ue,_e,Ae;for(q.isNodeJS?_e=[]:ue=new Path2D,l=0;ee&&l<=e;l++){let le=l*u;const we=le+s;for(;le<we&&!f[le];)le++;if(le===we)continue;ue?ue.moveTo(le%u,l):Ae=[le%u,l];const Ce=le;let pe=f[le];do{const se=te[pe];do{le+=se}while(!f[le]);const de=f[le];5!==de&&10!==de?(pe=de,f[le]=0):(pe=de&51*pe>>4,f[le]&=pe>>2|pe<<2),ue?ue.lineTo(le%u,le/u|0):Ae.push(le%u,le/u|0),f[le]||--ee}while(Ce!==le);ue||_e.push(Ae),--l}return K=null,f=null,function(le){if(le.save(),le.scale(1/s,-1/e),le.translate(0,-e),ue)le.fill(ue);else{le.beginPath();for(const we of _e){le.moveTo(we[0],we[1]);for(let Ce=2,pe=we.length;Ce<pe;Ce+=2)le.lineTo(we[Ce],we[Ce+1])}le.fill()}le.beginPath(),le.restore()}}(s)),o.compiled))return void o.compiled(r);const u=this._createMaskCanvas(s),f=u.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(f,u.offsetX,u.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(s,e,r=0,o=0,u,f){if(!this.contentVisible)return;s=this.getObject(s.data,s);const l=this.ctx;l.save();const F=l.mozCurrentTransform;l.transform(e,r,o,u,0,0);const Y=this._createMaskCanvas(s);l.setTransform(1,0,0,1,0,0);for(let V=0,K=f.length;V<K;V+=2){const Q=t.Util.transform(F,[e,r,o,u,f[V],f[V+1]]),[ee,te]=t.Util.applyTransform([0,0],Q);l.drawImage(Y.canvas,ee,te)}l.restore(),this.compose()}paintImageMaskXObjectGroup(s){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(let u=0,f=s.length;u<f;u++){const l=s[u],F=l.width,Y=l.height,V=this.cachedCanvases.getCanvas("maskCanvas",F,Y,!1),K=V.context;K.save(),y(K,l),K.globalCompositeOperation="source-in",K.fillStyle=o?r.getPattern(K,this,e.mozCurrentTransformInverse,D.PathType.FILL):r,K.fillRect(0,0,F,Y),K.restore(),e.save(),e.transform.apply(e,l.transform),e.scale(1,-1),v(e,V.canvas,0,0,F,Y,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(s){if(!this.contentVisible)return;const e=this.getObject(s);e?this.paintInlineImageXObject(e):(0,t.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(s,e,r,o){if(!this.contentVisible)return;const u=this.getObject(s);if(!u)return void(0,t.warn)("Dependent image isn't ready yet");const f=u.width,l=u.height,F=[];for(let Y=0,V=o.length;Y<V;Y+=2)F.push({transform:[e,0,0,r,o[Y],o[Y+1]],x:0,y:0,w:f,h:l});this.paintInlineImageXObjectGroup(u,F)}paintInlineImageXObject(s){if(!this.contentVisible)return;const e=s.width,r=s.height,o=this.ctx;let u;if(this.save(),o.scale(1/e,-1/r),"function"==typeof HTMLElement&&s instanceof HTMLElement||!s.data)u=s;else{const Y=this.cachedCanvases.getCanvas("inlineImage",e,r,!1);h(Y.context,s,this.current.transferMaps),u=Y.canvas}const f=this._scaleImage(u,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=W(o.mozCurrentTransform,s.interpolate);const[l,F]=v(o,f.img,0,0,f.paintWidth,f.paintHeight,0,-r,e,r);if(this.imageLayer){const Y=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:s,left:Y[0],top:Y[1],width:l,height:F})}this.compose(),this.restore()}paintInlineImageXObjectGroup(s,e){if(!this.contentVisible)return;const r=this.ctx,o=s.width,u=s.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u,!1);h(f.context,s,this.current.transferMaps);for(let F=0,Y=e.length;F<Y;F++){const V=e[F];if(r.save(),r.transform.apply(r,V.transform),r.scale(1,-1),v(r,f.canvas,V.x,V.y,V.w,V.h,0,-1,1,1),this.imageLayer){const K=this.getCanvasPosition(V.x,V.y);this.imageLayer.appendImage({imgData:s,left:K[0],top:K[1],width:o,height:u})}r.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(s){}markPointProps(s,e){}beginMarkedContent(s){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(s,e){this.markedContentStack.push("OC"===s?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(s){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip&&(e||(this.pendingClip===oe?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const s=this.ctx.mozCurrentTransform;if(0===s[1]&&0===s[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(s[0]),Math.abs(s[3]));else{const e=Math.abs(s[0]*s[3]-s[2]*s[1]),r=Math.hypot(s[0],s[2]),o=Math.hypot(s[1],s[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:s}=this.current,e=this.ctx.mozCurrentTransform;let r,o;if(0===e[1]&&0===e[2]){const u=Math.abs(e[0]),f=Math.abs(e[3]);if(0===s)r=1/u,o=1/f;else{const l=u*s,F=f*s;r=l<1?1/l:1,o=F<1?1/F:1}}else{const u=Math.abs(e[0]*e[3]-e[2]*e[1]),f=Math.hypot(e[0],e[1]),l=Math.hypot(e[2],e[3]);if(0===s)r=l/u,o=f/u;else{const F=s*u;r=l>F?l/F:1,o=f>F?f/F:1}}this._cachedScaleForStroking=[r,o]}return this._cachedScaleForStroking}rescaleAndStroke(s){const{ctx:e}=this,{lineWidth:r}=this.current,[o,u]=this.getScaleForStroking();if(e.lineWidth=r||1,1===o&&1===u)return void e.stroke();let f,l,F;s&&(f=e.mozCurrentTransform.slice(),l=e.getLineDash().slice(),F=e.lineDashOffset),e.scale(o,u);const Y=Math.max(o,u);e.setLineDash(e.getLineDash().map(V=>V/Y)),e.lineDashOffset/=Y,e.stroke(),s&&(e.setTransform(...f),e.setLineDash(l),e.lineDashOffset=F)}getCanvasPosition(s,e){const r=this.ctx.mozCurrentTransform;return[r[0]*s+r[2]*e+r[4],r[1]*s+r[3]*e+r[5]]}isContentVisible(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}}a.CanvasGraphics=ae;for(const L in t.OPS)void 0!==ae.prototype[L]&&(ae.prototype[t.OPS[L]]=ae.prototype[L])},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function B(C){switch(C[0]){case"RadialAxial":return new x(C);case"Mesh":return new H(C);case"Dummy":return new X}throw new Error(`Unknown IR type: ${C[0]}`)};var t=S(1),D=S(3);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function q(C,m){if(!m||D.isNodeJS)return;const P=m[2]-m[0],b=m[3]-m[1],v=new Path2D;v.rect(m[0],m[1],P,b),C.clip(v)}a.PathType=O;class M{constructor(){this.constructor===M&&(0,t.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,t.unreachable)("Abstract method `getPattern` called.")}}class x extends M{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let P;"axial"===this._type?P=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(P=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)P.addColorStop(b[0],b[1]);return P}getPattern(m,P,b,v){let n;if(v===O.STROKE||v===O.FILL){const i=P.current.getClippedPathBoundingBox(v,m.mozCurrentTransform)||[0,0,0,0],h=Math.ceil(i[2]-i[0])||1,y=Math.ceil(i[3]-i[1])||1,d=P.cachedCanvases.getCanvas("pattern",h,y,!0),_=d.context;_.clearRect(0,0,_.canvas.width,_.canvas.height),_.beginPath(),_.rect(0,0,_.canvas.width,_.canvas.height),_.translate(-i[0],-i[1]),b=t.Util.transform(b,[1,0,0,1,i[0],i[1]]),_.transform.apply(_,P.baseTransform),this.matrix&&_.transform.apply(_,this.matrix),q(_,this._bbox),_.fillStyle=this._createGradient(_),_.fill(),n=m.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(b);try{n.setTransform(p)}catch(c){(0,t.warn)(`RadialAxialShadingPattern.getPattern: "${c?.message}".`)}}else q(m,this._bbox),n=this._createGradient(m);return n}}function A(C,m,P,b,v,n,i,h){const y=m.coords,d=m.colors,_=C.data,p=4*C.width;let c;y[P+1]>y[b+1]&&(c=P,P=b,b=c,c=n,n=i,i=c),y[b+1]>y[v+1]&&(c=b,b=v,v=c,c=i,i=h,h=c),y[P+1]>y[b+1]&&(c=P,P=b,b=c,c=n,n=i,i=c);const R=(y[P]+m.offsetX)*m.scaleX,T=(y[P+1]+m.offsetY)*m.scaleY,w=(y[b]+m.offsetX)*m.scaleX,W=(y[b+1]+m.offsetY)*m.scaleY,E=(y[v]+m.offsetX)*m.scaleX,U=(y[v+1]+m.offsetY)*m.scaleY;if(T>=U)return;const Z=d[n],oe=d[n+1],ae=d[n+2],L=d[i],s=d[i+1],e=d[i+2],r=d[h],o=d[h+1],u=d[h+2],f=Math.round(T),l=Math.round(U);let F,Y,V,K,Q,ee,te,ue;for(let _e=f;_e<=l;_e++){if(_e<W){let Ce;Ce=_e<T?0:(T-_e)/(T-W),F=R-(R-w)*Ce,Y=Z-(Z-L)*Ce,V=oe-(oe-s)*Ce,K=ae-(ae-e)*Ce}else{let Ce;Ce=_e>U?1:W===U?0:(W-_e)/(W-U),F=w-(w-E)*Ce,Y=L-(L-r)*Ce,V=s-(s-o)*Ce,K=e-(e-u)*Ce}let Ae;Ae=_e<T?0:_e>U?1:(T-_e)/(T-U),Q=R-(R-E)*Ae,ee=Z-(Z-r)*Ae,te=oe-(oe-o)*Ae,ue=ae-(ae-u)*Ae;const me=Math.round(Math.min(F,Q)),le=Math.round(Math.max(F,Q));let we=p*_e+4*me;for(let Ce=me;Ce<=le;Ce++)Ae=(F-Ce)/(F-Q),Ae<0?Ae=0:Ae>1&&(Ae=1),_[we++]=Y-(Y-ee)*Ae|0,_[we++]=V-(V-te)*Ae|0,_[we++]=K-(K-ue)*Ae|0,_[we++]=255}}function N(C,m,P){const b=m.coords,v=m.colors;let n,i;switch(m.type){case"lattice":const h=m.verticesPerRow,y=Math.floor(b.length/h)-1,d=h-1;for(n=0;n<y;n++){let _=n*h;for(let p=0;p<d;p++,_++)A(C,P,b[_],b[_+1],b[_+h],v[_],v[_+1],v[_+h]),A(C,P,b[_+h+1],b[_+1],b[_+h],v[_+h+1],v[_+1],v[_+h])}break;case"triangles":for(n=0,i=b.length;n<i;n+=3)A(C,P,b[n],b[n+1],b[n+2],v[n],v[n+1],v[n+2]);break;default:throw new Error("illegal figure")}}class H extends M{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,P,b){const h=Math.floor(this._bounds[0]),y=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-h,_=Math.ceil(this._bounds[3])-y,p=Math.min(Math.ceil(Math.abs(d*m[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(_*m[1]*1.1)),3e3),R=d/p,T=_/c,w={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-y,scaleX:1/R,scaleY:1/T},U=b.getCanvas("mesh",p+4,c+4,!1),Z=U.context,oe=Z.createImageData(p,c);if(P){const L=oe.data;for(let s=0,e=L.length;s<e;s+=4)L[s]=P[0],L[s+1]=P[1],L[s+2]=P[2],L[s+3]=255}for(const L of this._figures)N(oe,L,w);return Z.putImageData(oe,2,2),{canvas:U.canvas,offsetX:h-2*R,offsetY:y-2*T,scaleX:R,scaleY:T}}getPattern(m,P,b,v){let n;if(q(m,this._bbox),v===O.SHADING)n=t.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(n=t.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const h=t.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*h[0],n[1]*h[1]]}const i=this._createMeshCanvas(n,v===O.SHADING?null:this._background,P.cachedCanvases);return v!==O.SHADING&&(m.setTransform.apply(m,P.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(i.offsetX,i.offsetY),m.scale(i.scaleX,i.scaleY),m.createPattern(i.canvas,"no-repeat")}}class X extends M{getPattern(){return"hotpink"}}class g{static get MAX_PATTERN_SIZE(){return(0,t.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,P,b,v,n){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=P,this.ctx=b,this.canvasGraphicsFactory=v,this.baseTransform=n}createPatternCanvas(m){const P=this.operatorList,b=this.bbox,v=this.xstep,n=this.ystep,i=this.paintType,y=this.color,d=this.canvasGraphicsFactory;(0,t.info)("TilingType: "+this.tilingType);const _=b[0],p=b[1],c=b[2],R=b[3],T=t.Util.singularValueDecompose2dScale(this.matrix),w=t.Util.singularValueDecompose2dScale(this.baseTransform),W=[T[0]*w[0],T[1]*w[1]],E=this.getSizeAndScale(v,this.ctx.canvas.width,W[0]),U=this.getSizeAndScale(n,this.ctx.canvas.height,W[1]),Z=m.cachedCanvases.getCanvas("pattern",E.size,U.size,!0),oe=Z.context,ae=d.createCanvasGraphics(oe);ae.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(ae,i,y);let L=_,s=p,e=c,r=R;return _<0&&(L=0,e+=Math.abs(_)),p<0&&(s=0,r+=Math.abs(p)),oe.translate(-E.scale*L,-U.scale*s),ae.transform(E.scale,0,0,U.scale,0,0),oe.save(),this.clipBbox(ae,L,s,e,r),ae.baseTransform=ae.ctx.mozCurrentTransform.slice(),ae.executeOperatorList(P),ae.endDrawing(),{canvas:Z.canvas,scaleX:E.scale,scaleY:U.scale,offsetX:L,offsetY:s}}getSizeAndScale(m,P,b){m=Math.abs(m);const v=Math.max(g.MAX_PATTERN_SIZE,P);let n=Math.ceil(m*b);return n>=v?n=v:b=n/m,{scale:b,size:n}}clipBbox(m,P,b,v,n){m.ctx.rect(P,b,v-P,n-b),m.current.updateRectMinMax(m.ctx.mozCurrentTransform,[P,b,v,n]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,P,b){const v=m.ctx,n=m.current;switch(P){case 1:const i=this.ctx;v.fillStyle=i.fillStyle,v.strokeStyle=i.strokeStyle,n.fillColor=i.fillStyle,n.strokeColor=i.strokeStyle;break;case 2:const h=t.Util.makeHexColor(b[0],b[1],b[2]);v.fillStyle=h,v.strokeStyle=h,n.fillColor=h,n.strokeColor=h;break;default:throw new t.FormatError(`Unsupported paint type: ${P}`)}}getPattern(m,P,b,v){let n=b;v!==O.SHADING&&(n=t.Util.transform(n,P.baseTransform),this.matrix&&(n=t.Util.transform(n,this.matrix)));const i=this.createPatternCanvas(P);let h=new DOMMatrix(n);h=h.translate(i.offsetX,i.offsetY),h=h.scale(1/i.scaleX,1/i.scaleY);const y=m.createPattern(i.canvas,"repeat");try{y.setTransform(h)}catch(d){(0,t.warn)(`TilingPattern.getPattern: "${d?.message}".`)}return y}}a.TilingPattern=g},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function D({src:O,srcPos:q=0,dest:M,destPos:x=0,width:A,height:N,inverseDecode:H=!1}){const X=t.FeatureTest.isLittleEndian?4278190080:255,[B,G]=H?[0,X]:[X,0],g=A>>3,C=7&A,m=O.length;M=new Uint32Array(M.buffer);for(let P=0;P<N;P++){for(const v=q+g;q<v;q++){const n=q<m?O[q]:255;M[x++]=128&n?G:B,M[x++]=64&n?G:B,M[x++]=32&n?G:B,M[x++]=16&n?G:B,M[x++]=8&n?G:B,M[x++]=4&n?G:B,M[x++]=2&n?G:B,M[x++]=1&n?G:B}if(0===C)continue;const b=q<m?O[q++]:255;for(let v=0;v<C;v++)M[x++]=b&1<<7-v?G:B}return{srcPos:q,destPos:x}};var t=S(1)},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const S=Object.create(null);a.GlobalWorkerOptions=S,S.workerPort=void 0===S.workerPort?null:S.workerPort,S.workerSrc=void 0===S.workerSrc?"":S.workerSrc},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var t=S(1);function q(x){switch(x instanceof Error||"object"==typeof x&&null!==x||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new t.AbortException(x.message);case"MissingPDFException":return new t.MissingPDFException(x.message);case"PasswordException":return new t.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new t.UnknownErrorException(x.message,x.details);default:return new t.UnknownErrorException(x.message,x.toString())}}a.MessageHandler=class M{constructor(A,N,H){this.sourceName=A,this.targetName=N,this.comObj=H,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=X=>{const B=X.data;if(B.targetName!==this.sourceName)return;if(B.stream)return void this._processStreamMessage(B);if(B.callback){const g=B.callbackId,C=this.callbackCapabilities[g];if(!C)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===B.callback)C.resolve(B.data);else{if(2!==B.callback)throw new Error("Unexpected callback case");C.reject(q(B.reason))}return}const G=this.actionHandler[B.action];if(!G)throw new Error(`Unknown action from worker: ${B.action}`);if(B.callbackId){const g=this.sourceName,C=B.sourceName;new Promise(function(m){m(G(B.data))}).then(function(m){H.postMessage({sourceName:g,targetName:C,callback:1,callbackId:B.callbackId,data:m})},function(m){H.postMessage({sourceName:g,targetName:C,callback:2,callbackId:B.callbackId,reason:q(m)})})}else B.streamId?this._createStreamSink(B):G(B.data)},H.addEventListener("message",this._onComObjOnMessage)}on(A,N){const H=this.actionHandler;if(H[A])throw new Error(`There is already an actionName called "${A}"`);H[A]=N}send(A,N,H){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:N},H)}sendWithPromise(A,N,H){const X=this.callbackId++,B=(0,t.createPromiseCapability)();this.callbackCapabilities[X]=B;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:X,data:N},H)}catch(G){B.reject(G)}return B.promise}sendWithStream(A,N,H,X){const B=this.streamId++,G=this.sourceName,g=this.targetName,C=this.comObj;return new ReadableStream({start:m=>{const P=(0,t.createPromiseCapability)();return this.streamControllers[B]={controller:m,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:G,targetName:g,action:A,streamId:B,data:N,desiredSize:m.desiredSize},X),P.promise},pull:m=>{const P=(0,t.createPromiseCapability)();return this.streamControllers[B].pullCall=P,C.postMessage({sourceName:G,targetName:g,stream:6,streamId:B,desiredSize:m.desiredSize}),P.promise},cancel:m=>{(0,t.assert)(m instanceof Error,"cancel must have a valid reason");const P=(0,t.createPromiseCapability)();return this.streamControllers[B].cancelCall=P,this.streamControllers[B].isClosed=!0,C.postMessage({sourceName:G,targetName:g,stream:1,streamId:B,reason:q(m)}),P.promise}},H)}_createStreamSink(A){const N=A.streamId,H=this.sourceName,X=A.sourceName,B=this.comObj,G=this,g=this.actionHandler[A.action],C={enqueue(m,P=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=P,v>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),B.postMessage({sourceName:H,targetName:X,stream:4,streamId:N,chunk:m},b)},close(){this.isCancelled||(this.isCancelled=!0,B.postMessage({sourceName:H,targetName:X,stream:3,streamId:N}),delete G.streamSinks[N])},error(m){(0,t.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,B.postMessage({sourceName:H,targetName:X,stream:5,streamId:N,reason:q(m)}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[N]=C,new Promise(function(m){m(g(A.data,C))}).then(function(){B.postMessage({sourceName:H,targetName:X,stream:8,streamId:N,success:!0})},function(m){B.postMessage({sourceName:H,targetName:X,stream:8,streamId:N,reason:q(m)})})}_processStreamMessage(A){const N=A.streamId,H=this.sourceName,X=A.sourceName,B=this.comObj,G=this.streamControllers[N],g=this.streamSinks[N];switch(A.stream){case 8:A.success?G.startCall.resolve():G.startCall.reject(q(A.reason));break;case 7:A.success?G.pullCall.resolve():G.pullCall.reject(q(A.reason));break;case 6:if(!g){B.postMessage({sourceName:H,targetName:X,stream:7,streamId:N,success:!0});break}g.desiredSize<=0&&A.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=A.desiredSize,new Promise(function(C){C(g.onPull&&g.onPull())}).then(function(){B.postMessage({sourceName:H,targetName:X,stream:7,streamId:N,success:!0})},function(C){B.postMessage({sourceName:H,targetName:X,stream:7,streamId:N,reason:q(C)})});break;case 4:if((0,t.assert)(G,"enqueue should have stream controller"),G.isClosed)break;G.controller.enqueue(A.chunk);break;case 3:if((0,t.assert)(G,"close should have stream controller"),G.isClosed)break;G.isClosed=!0,G.controller.close(),this._deleteStreamController(G,N);break;case 5:(0,t.assert)(G,"error should have stream controller"),G.controller.error(q(A.reason)),this._deleteStreamController(G,N);break;case 2:A.success?G.cancelCall.resolve():G.cancelCall.reject(q(A.reason)),this._deleteStreamController(G,N);break;case 1:if(!g)break;new Promise(function(C){C(g.onCancel&&g.onCancel(q(A.reason)))}).then(function(){B.postMessage({sourceName:H,targetName:X,stream:2,streamId:N,success:!0})},function(C){B.postMessage({sourceName:H,targetName:X,stream:2,streamId:N,reason:q(C)})}),g.sinkCapability.reject(q(A.reason)),g.isCancelled=!0,delete this.streamSinks[N];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(A,N){var H=this;return _asyncToGenerator(function*(){yield Promise.allSettled([A.startCall&&A.startCall.promise,A.pullCall&&A.pullCall.promise,A.cancelCall&&A.cancelCall.promise]),delete H.streamControllers[N]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var t=S(1),D=new WeakMap,O=new WeakMap;a.Metadata=class q{constructor({parsedData:x,rawData:A}){_classPrivateFieldInitSpec(this,D,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldSet(this,D,x),_classPrivateFieldSet(this,O,A)}getRaw(){return _classPrivateFieldGet(this,O)}get(x){return _classPrivateFieldGet(this,D).get(x)??null}getAll(){return(0,t.objectFromMap)(_classPrivateFieldGet(this,D))}has(x){return _classPrivateFieldGet(this,D).has(x)}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var t=S(1);class D{constructor(M,x){this.visible=!0,this.name=M,this.intent=x}}a.OptionalContentConfig=class O{constructor(M){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==M){this.name=M.name,this.creator=M.creator,this._order=M.order;for(const x of M.groups)this._groups.set(x.id,new D(x.name,x.intent));if("OFF"===M.baseState)for(const x of this._groups)x.visible=!1;for(const x of M.on)this._groups.get(x).visible=!0;for(const x of M.off)this._groups.get(x).visible=!1}}_evaluateVisibilityExpression(M){const x=M.length;if(x<2)return!0;const A=M[0];for(let N=1;N<x;N++){const H=M[N];let X;if(Array.isArray(H))X=this._evaluateVisibilityExpression(H);else{if(!this._groups.has(H))return(0,t.warn)(`Optional content group not found: ${H}`),!0;X=this._groups.get(H).visible}switch(A){case"And":if(!X)return!1;break;case"Or":if(X)return!0;break;case"Not":return!X;default:return!0}}return"And"===A}isVisible(M){if(0===this._groups.size)return!0;if(!M)return(0,t.warn)("Optional content group not defined."),!0;if("OCG"===M.type)return this._groups.has(M.id)?this._groups.get(M.id).visible:((0,t.warn)(`Optional content group not found: ${M.id}`),!0);if("OCMD"===M.type){if(M.expression)return this._evaluateVisibilityExpression(M.expression);if(!M.policy||"AnyOn"===M.policy){for(const x of M.ids){if(!this._groups.has(x))return(0,t.warn)(`Optional content group not found: ${x}`),!0;if(this._groups.get(x).visible)return!0}return!1}if("AllOn"===M.policy){for(const x of M.ids){if(!this._groups.has(x))return(0,t.warn)(`Optional content group not found: ${x}`),!0;if(!this._groups.get(x).visible)return!1}return!0}if("AnyOff"===M.policy){for(const x of M.ids){if(!this._groups.has(x))return(0,t.warn)(`Optional content group not found: ${x}`),!0;if(!this._groups.get(x).visible)return!0}return!1}if("AllOff"===M.policy){for(const x of M.ids){if(!this._groups.has(x))return(0,t.warn)(`Optional content group not found: ${x}`),!0;if(this._groups.get(x).visible)return!1}return!0}return(0,t.warn)(`Unknown optional content policy ${M.policy}.`),!0}return(0,t.warn)(`Unknown group type ${M.type}.`),!0}setVisibility(M,x=!0){this._groups.has(M)?this._groups.get(M).visible=!!x:(0,t.warn)(`Optional content group not found: ${M}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,t.objectFromMap)(this._groups):null}getGroup(M){return this._groups.get(M)||null}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var t=S(1),D=S(5);a.PDFDataTransportStream=class O{constructor(A,N){(0,t.assert)(N,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A.progressiveDone||!1,this._contentDispositionFilename=A.contentDispositionFilename||null;const H=A.initialData;if(H?.length>0){const X=new Uint8Array(H).buffer;this._queuedChunks.push(X)}this._pdfDataRangeTransport=N,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._contentLength=A.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((X,B)=>{this._onReceiveData({begin:X,chunk:B})}),this._pdfDataRangeTransport.addProgressListener((X,B)=>{this._onProgress({loaded:X,total:B})}),this._pdfDataRangeTransport.addProgressiveReadListener(X=>{this._onReceiveData({chunk:X})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(A){const N=new Uint8Array(A.chunk).buffer;if(void 0===A.begin)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const H=this._rangeReaders.some(function(X){return X._begin===A.begin&&(X._enqueue(N),!0)});(0,t.assert)(H,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(A){if(void 0===A.total){const N=this._rangeReaders[0];N?.onProgress&&N.onProgress({loaded:A.loaded})}else{const N=this._fullRequestReader;N?.onProgress&&N.onProgress({loaded:A.loaded,total:A.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const N=this._rangeReaders.indexOf(A);N>=0&&this._rangeReaders.splice(N,1)}getFullReader(){(0,t.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new q(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,N){if(N<=this._progressiveDataLength)return null;const H=new M(this,A,N);return this._pdfDataRangeTransport.requestDataRange(A,N),this._rangeReaders.push(H),H}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const N of this._rangeReaders.slice(0))N.cancel(A);this._pdfDataRangeTransport.abort()}};class q{constructor(A,N,H=!1,X=null){this._stream=A,this._done=H||!1,this._filename=(0,D.isPdfFile)(X)?X:null,this._queuedChunks=N||[],this._loaded=0;for(const B of this._queuedChunks)this._loaded+=B.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunks.length>0)return{value:A._queuedChunks.shift(),done:!1};if(A._done)return{value:void 0,done:!0};const N=(0,t.createPromiseCapability)();return A._requests.push(N),N.promise})()}cancel(A){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class M{constructor(A,N,H){this._stream=A,this._begin=N,this._end=H,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(0===this._requests.length)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunk){const H=A._queuedChunk;return A._queuedChunk=null,{value:H,done:!1}}if(A._done)return{value:void 0,done:!0};const N=(0,t.createPromiseCapability)();return A._requests.push(N),N.promise})()}cancel(A){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class S{static textContent(D){const O=[],q={items:O,styles:Object.create(null)};return function M(x){if(!x)return;let A=null;const N=x.name;if("#text"===N)A=x.value;else{if(!S.shouldBuildText(N))return;x?.attributes?.textContent?A=x.attributes.textContent:x.value&&(A=x.value)}if(null!==A&&O.push({str:A}),x.children)for(const H of x.children)M(H)}(D),q}static shouldBuildText(D){return!("textarea"===D||"input"===D||"option"===D||"select"===D)}}a.XfaText=S},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var t=S(6);const D=function(x){return new Promise((A,N)=>{__webpack_require__(2339).readFile(x,(X,B)=>{!X&&B?A(new Uint8Array(B)):N(new Error(X))})})};a.NodeCanvasFactory=class O extends t.BaseCanvasFactory{_createCanvas(A,N){return __webpack_require__(837).createCanvas(A,N)}},a.NodeCMapReaderFactory=class q extends t.BaseCMapReaderFactory{_fetchData(A,N){return D(A).then(H=>({cMapData:H,compressionType:N}))}},a.NodeStandardFontDataFactory=class M extends t.BaseStandardFontDataFactory{_fetchData(A){return D(A)}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var t=S(1),D=S(5),O=S(8),q=S(21),M=S(22);const x=1e3,A=new WeakSet;function N(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class H{static create(e){switch(e.data.annotationType){case t.AnnotationType.LINK:return new B(e);case t.AnnotationType.TEXT:return new G(e);case t.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new C(e);case"Btn":return e.data.radioButton?new P(e):e.data.checkBox?new m(e):new b(e);case"Ch":return new v(e)}return new g(e);case t.AnnotationType.POPUP:return new n(e);case t.AnnotationType.FREETEXT:return new h(e);case t.AnnotationType.LINE:return new y(e);case t.AnnotationType.SQUARE:return new d(e);case t.AnnotationType.CIRCLE:return new _(e);case t.AnnotationType.POLYLINE:return new p(e);case t.AnnotationType.CARET:return new R(e);case t.AnnotationType.INK:return new T(e);case t.AnnotationType.POLYGON:return new c(e);case t.AnnotationType.HIGHLIGHT:return new w(e);case t.AnnotationType.UNDERLINE:return new W(e);case t.AnnotationType.SQUIGGLY:return new E(e);case t.AnnotationType.STRIKEOUT:return new U(e);case t.AnnotationType.STAMP:return new Z(e);case t.AnnotationType.FILEATTACHMENT:return new oe(e);default:return new X(e)}}}class X{constructor(e,{isRenderable:r=!1,ignoreBorder:o=!1,createQuadrilaterals:u=!1}={}){this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,r&&(this.container=this._createContainer(o)),u&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const r=this.data,o=this.page,u=this.viewport,f=document.createElement("section");let{width:l,height:F}=N(r.rect);f.setAttribute("data-annotation-id",r.id);const Y=t.Util.normalizeRect([r.rect[0],o.view[3]-r.rect[1]+o.view[1],r.rect[2],o.view[3]-r.rect[3]+o.view[1]]);if(r.hasOwnCanvas){const V=u.transform.slice(),[K,Q]=t.Util.singularValueDecompose2dScale(V);l=Math.ceil(l*K),F=Math.ceil(F*Q),Y[0]*=K,Y[1]*=Q;for(let ee=0;ee<4;ee++)V[ee]=Math.sign(V[ee]);f.style.transform=`matrix(${V.join(",")})`}else f.style.transform=`matrix(${u.transform.join(",")})`;if(f.style.transformOrigin=`${-Y[0]}px ${-Y[1]}px`,!e&&r.borderStyle.width>0){f.style.borderWidth=`${r.borderStyle.width}px`,r.borderStyle.style!==t.AnnotationBorderStyleType.UNDERLINE&&(l-=2*r.borderStyle.width,F-=2*r.borderStyle.width);const V=r.borderStyle.horizontalCornerRadius,K=r.borderStyle.verticalCornerRadius;switch((V>0||K>0)&&(f.style.borderRadius=`${V}px / ${K}px`),r.borderStyle.style){case t.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case t.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case t.AnnotationBorderStyleType.BEVELED:(0,t.warn)("Unimplemented border style: beveled");break;case t.AnnotationBorderStyleType.INSET:(0,t.warn)("Unimplemented border style: inset");break;case t.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}r.borderColor||r.color?f.style.borderColor=t.Util.makeHexColor(0|r.color[0],0|r.color[1],0|r.color[2]):f.style.borderWidth=0}return f.style.left=`${Y[0]}px`,f.style.top=`${Y[1]}px`,r.hasOwnCanvas?f.style.width=f.style.height="auto":(f.style.width=`${l}px`,f.style.height=`${F}px`),f}get _commonActions(){const e=(r,o,u)=>{const f=u.detail[r];u.target.style[o]=q.ColorConverters[`${f[0]}_HTML`](f.slice(1))};return(0,t.shadow)(this,"_commonActions",{display:r=>{const o=r.detail.display%2==1;r.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===r.detail.display||3===r.detail.display})},print:r=>{this.annotationStorage.setValue(this.data.id,{print:r.detail.print})},hidden:r=>{r.target.style.visibility=r.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:r.detail.hidden})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.detail.readonly?r.target.setAttribute("readonly",""):r.target.removeAttribute("readonly")},required:r=>{r.detail.required?r.target.setAttribute("required",""):r.target.removeAttribute("required")},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)}})}_dispatchEventFromSandbox(e,r){const o=this._commonActions;for(const u of Object.keys(r.detail)){const f=e[u]||o[u];f&&f(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const o=this._commonActions;for(const[u,f]of Object.entries(r)){const l=o[u];l&&(l({detail:f,target:e}),delete r[u])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const r=[],o=this.data.rect;for(const u of this.data.quadPoints)this.data.rect=[u[2].x,u[2].y,u[1].x,u[1].y],r.push(this._createContainer(e));return this.data.rect=o,r}_createPopup(e,r){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const f=new i({container:o,trigger:e,color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,hideWrapper:!0}).render();f.style.left=o.style.width,o.appendChild(f)}_renderQuadrilaterals(e){for(const r of this.quadrilaterals)r.className=e;return this.quadrilaterals}render(){(0,t.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const o=[];if(this._fieldObjects){const u=this._fieldObjects[e];if(u)for(const{page:f,id:l,exportValues:F}of u){if(-1===f||l===r)continue;const Y="string"==typeof F?F:null,V=document.getElementById(l);!V||A.has(V)?o.push({id:l,exportValue:Y,domElement:V}):(0,t.warn)(`_getElementsByName - element not allowed: ${l}`)}return o}for(const u of document.getElementsByName(e)){const{id:f,exportValue:l}=u;f!==r&&A.has(u)&&o.push({id:f,exportValue:l,domElement:u})}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,t.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class B extends X{constructor(e,r=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!r?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:r}=this,o=document.createElement("a");if(e.url)r.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let u=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(u=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):u||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((u,f)=>{const l=0===f?o:o.cloneNode();return u.appendChild(l),u}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||""===r)&&(e.className="internalLink")}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),e.className="internalLink"}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const u of Object.keys(r.actions)){const f=o.get(u);f&&(e[f]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:u}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,r){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,t.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:u,refs:f,include:l}=r,F=[];if(0!==u.length||0!==f.length){const K=new Set(f);for(const Q of u){const ee=this._fieldObjects[Q]||[];for(const{id:te}of ee)K.add(te)}for(const Q of Object.values(this._fieldObjects))for(const ee of Q)K.has(ee.id)===l&&F.push(ee)}else for(const K of Object.values(this._fieldObjects))F.push(...K);const Y=this.annotationStorage,V=[];for(const K of F){const{id:Q}=K;switch(V.push(Q),K.type){case"text":case"combobox":case"listbox":Y.setValue(Q,{value:K.defaultValue||""});break;case"checkbox":case"radiobutton":Y.setValue(Q,{value:K.defaultValue===K.exportValues});break;default:continue}const ee=document.getElementById(Q);!ee||!A.has(ee)||ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}}),!1}}}class G extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class g extends X{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:r,isMac:o}=X.platform;return r&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,r,o,u){r.includes("mouse")?e.addEventListener(r,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:u(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):e.addEventListener(r,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:u(f)}})})}_setEventListeners(e,r,o){for(const[u,f]of r)("Action"===f||this.data.actions?.[f])&&this._setEventListener(e,u,f,o)}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=null===r?"transparent":t.Util.makeHexColor(r[0],r[1],r[2])}}class C extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,r,o,u){const f=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[r]=o),f.setValue(l.id,{[u]:o})}render(){const e=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const u=e.getValue(r,{value:this.data.fieldValue}),f=u.formattedValue||u.value||"",l={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=f):(o=document.createElement("input"),o.type="text",o.setAttribute("value",f)),A.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=x,l.userValue=f,o.setAttribute("id",r),o.addEventListener("input",Y=>{e.setValue(r,{value:Y.target.value}),this.setPropertyOnSiblings(o,"value",Y.target.value,"value")}),o.addEventListener("resetform",Y=>{o.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let F=Y=>{const{formattedValue:V}=l;null!=V&&(Y.target.value=V),Y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",V=>{l.userValue&&(V.target.value=l.userValue),l.valueOnFocus=V.target.value}),o.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(Q){l.userValue=Q.detail.value??"",e.setValue(r,{value:l.userValue.toString()}),Q.target.value=l.userValue},formattedValue(Q){const{formattedValue:ee}=Q.detail;l.formattedValue=ee,null!=ee&&Q.target!==document.activeElement&&(Q.target.value=ee),e.setValue(r,{formattedValue:ee})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},V)}),o.addEventListener("keydown",V=>{let K=-1;if("Escape"===V.key?K=0:"Enter"===V.key?K=2:"Tab"===V.key&&(K=3),-1===K)return;const{value:Q}=V.target;l.valueOnFocus!==Q&&(l.userValue=Q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Q,willCommit:!0,commitKey:K,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}))});const Y=F;F=null,o.addEventListener("blur",V=>{const{value:K}=V.target;l.userValue=K,this._mouseState.isDown&&l.valueOnFocus!==K&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:K,willCommit:!0,commitKey:1,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}),Y(V)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",V=>{const{data:K,target:Q}=V,{value:ee,selectionStart:te,selectionEnd:ue}=Q;let _e=te,Ae=ue;switch(V.inputType){case"deleteWordBackward":{const me=ee.substring(0,te).match(/\w*[^\w]*$/);me&&(_e-=me[0].length);break}case"deleteWordForward":{const me=ee.substring(te).match(/^[^\w]*\w*/);me&&(Ae+=me[0].length);break}case"deleteContentBackward":te===ue&&(_e-=1);break;case"deleteContentForward":te===ue&&(Ae+=1)}V.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:ee,change:K||"",willCommit:!1,selStart:_e,selEnd:Ae}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.value)}if(F&&o.addEventListener("blur",F),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const V=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${V}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:u}=this.data.defaultAppearanceData,f=e.style;o&&(f.fontSize=`${o}px`),f.color=t.Util.makeHexColor(u[0],u[1],u[2]),null!==this.data.textAlignment&&(f.textAlign=["left","center","right"][this.data.textAlignment])}}class m extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,o=r.id;let u=e.getValue(o,{value:r.exportValue===r.fieldValue}).value;"string"==typeof u&&(u="Off"!==u,e.setValue(o,{value:u})),this.container.className="buttonWidgetAnnotation checkBox";const f=document.createElement("input");return A.add(f),f.disabled=r.readOnly,f.type="checkbox",f.name=r.fieldName,u&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.setAttribute("exportValue",r.exportValue),f.tabIndex=x,f.addEventListener("change",l=>{const{name:F,checked:Y}=l.target;for(const V of this._getElementsByName(F,o)){const K=Y&&V.exportValue===r.exportValue;V.domElement&&(V.domElement.checked=K),e.setValue(V.id,{value:K})}e.setValue(o,{value:Y})}),f.addEventListener("resetform",l=>{l.target.checked=(r.defaultFieldValue||"Off")===r.exportValue}),this.enableScripting&&this.hasJSActions&&(f.addEventListener("updatefromsandbox",l=>{this._dispatchEventFromSandbox({value(Y){Y.target.checked="Off"!==Y.detail.value,e.setValue(o,{value:Y.target.checked})}},l)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class P extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,r=this.data,o=r.id;let u=e.getValue(o,{value:r.fieldValue===r.buttonValue}).value;"string"==typeof u&&(u=u!==r.buttonValue,e.setValue(o,{value:u}));const f=document.createElement("input");if(A.add(f),f.disabled=r.readOnly,f.type="radio",f.name=r.fieldName,u&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.tabIndex=x,f.addEventListener("change",l=>{const{name:F,checked:Y}=l.target;for(const V of this._getElementsByName(F,o))e.setValue(V.id,{value:!1});e.setValue(o,{value:Y})}),f.addEventListener("resetform",l=>{const F=r.defaultFieldValue;l.target.checked=null!=F&&F===r.buttonValue}),this.enableScripting&&this.hasJSActions){const l=r.buttonValue;f.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({value:V=>{const K=l===V.detail.value;for(const Q of this._getElementsByName(V.target.name)){const ee=K&&Q.id===o;Q.domElement&&(Q.domElement.checked=ee),e.setValue(Q.id,{value:ee})}}},F)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],F=>F.target.checked)}return this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class b extends B{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class v extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,r=this.data.id,o=e.getValue(r,{value:this.data.fieldValue});let{fontSize:u}=this.data.defaultAppearanceData;u||(u=9);const f=`calc(${u}px * var(--zoom-factor))`,l=document.createElement("select");A.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.setAttribute("id",r),l.tabIndex=x,l.style.fontSize=`${u}px`,this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",V=>{const K=this.data.defaultFieldValue;for(const Q of l.options)Q.selected=Q.value===K});for(const V of this.data.options){const K=document.createElement("option");K.textContent=V.displayValue,K.value=V.exportValue,this.data.combo&&(K.style.fontSize=f),o.value.includes(V.exportValue)&&K.setAttribute("selected",!0),l.appendChild(K)}const F=(V,K)=>{const Q=K?"value":"textContent",ee=V.target.options;return V.target.multiple?Array.prototype.filter.call(ee,te=>te.selected).map(te=>te[Q]):-1===ee.selectedIndex?null:ee[ee.selectedIndex][Q]},Y=V=>Array.prototype.map.call(V.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(Q){const ee=Q.detail.value,te=new Set(Array.isArray(ee)?ee:[ee]);for(const ue of l.options)ue.selected=te.has(ue.value);e.setValue(r,{value:F(Q,!0)})},multipleSelection(Q){l.multiple=!0},remove(Q){const ee=l.options,te=Q.detail.remove;ee[te].selected=!1,l.remove(te),ee.length>0&&-1===Array.prototype.findIndex.call(ee,_e=>_e.selected)&&(ee[0].selected=!0),e.setValue(r,{value:F(Q,!0),items:Y(Q)})},clear(Q){for(;0!==l.length;)l.remove(0);e.setValue(r,{value:null,items:[]})},insert(Q){const{index:ee,displayValue:te,exportValue:ue}=Q.detail.insert,_e=document.createElement("option");_e.textContent=te,_e.value=ue,l.insertBefore(_e,l.children[ee]),e.setValue(r,{value:F(Q,!0),items:Y(Q)})},items(Q){const{items:ee}=Q.detail;for(;0!==l.length;)l.remove(0);for(const te of ee){const{displayValue:ue,exportValue:_e}=te,Ae=document.createElement("option");Ae.textContent=ue,Ae.value=_e,l.appendChild(Ae)}l.options.length>0&&(l.options[0].selected=!0),e.setValue(r,{value:F(Q,!0),items:Y(Q)})},indices(Q){const ee=new Set(Q.detail.indices);for(const te of Q.target.options)te.selected=ee.has(te.index);e.setValue(r,{value:F(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},V)}),l.addEventListener("input",V=>{const K=F(V,!0),Q=F(V,!1);e.setValue(r,{value:K}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Q,changeEx:K,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):l.addEventListener("input",function(V){e.setValue(r,{value:F(V,!0)})}),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}}class n extends X{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const u=new i({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,l=t.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),F=l[0]+this.data.parentRect[2]-this.data.parentRect[0],Y=l[1];return this.container.style.transformOrigin=`${-F}px ${-Y}px`,this.container.style.left=`${F}px`,this.container.style.top=`${Y}px`,this.container.appendChild(u.render()),this.container}}class i{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const r=document.createElement("div");r.className="popupWrapper",this.hideElement=this.hideWrapper?r:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const u=this.color;u&&(o.style.backgroundColor=t.Util.makeHexColor(0|.7*(255-u[0])+u[0],0|.7*(255-u[1])+u[1],0|.7*(255-u[2])+u[2]));const f=document.createElement("h1");f.dir=this.titleObj.dir,f.textContent=this.titleObj.str,o.appendChild(f);const l=D.PDFDateString.toDateObject(this.modificationDate);if(l){const F=document.createElement("span");F.className="popupDate",F.textContent="{{date}}, {{time}}",F.dataset.l10nId="annotation_date_string",F.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),o.appendChild(F)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const F=this._formatContents(this.contentsObj);o.appendChild(F)}else M.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const F of this.trigger)F.addEventListener("click",this._toggle.bind(this)),F.addEventListener("mouseover",this._show.bind(this,!1)),F.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),r.appendChild(o),r}_formatContents({str:e,dir:r}){const o=document.createElement("p");o.className="popupContent",o.dir=r;const u=e.split(/(?:\r\n?|\n)/);for(let f=0,l=u.length;f<l;++f)o.appendChild(document.createTextNode(u[f])),f<l-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class h extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class y extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:r,height:o}=N(e.rect),u=this.svgFactory.create(r,o),f=this.svgFactory.createElement("svg:line");return f.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),f.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),f.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),f.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.appendChild(f),this.container.append(u),this._createPopup(f,e),this.container}}class d extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:r,height:o}=N(e.rect),u=this.svgFactory.create(r,o),f=e.borderStyle.width,l=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",f/2),l.setAttribute("y",f/2),l.setAttribute("width",r-f),l.setAttribute("height",o-f),l.setAttribute("stroke-width",f||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class _ extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:r,height:o}=N(e.rect),u=this.svgFactory.create(r,o),f=e.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",r/2),l.setAttribute("cy",o/2),l.setAttribute("rx",r/2-f/2),l.setAttribute("ry",o/2-f/2),l.setAttribute("stroke-width",f||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class p extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=N(e.rect),u=this.svgFactory.create(r,o);let f=[];for(const F of e.vertices)f.push(F.x-e.rect[0]+","+(e.rect[3]-F.y));f=f.join(" ");const l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",f),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class c extends p{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class R extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=N(e.rect),u=this.svgFactory.create(r,o);for(const f of e.inkLists){let l=[];for(const Y of f)l.push(`${Y.x-e.rect[0]},${e.rect[3]-Y.y}`);l=l.join(" ");const F=this.svgFactory.createElement(this.svgElementName);F.setAttribute("points",l),F.setAttribute("stroke-width",e.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),this._createPopup(F,e),u.appendChild(F)}return this.container.append(u),this.container}}class w extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class W extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class E extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class U extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Z extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class oe extends X{constructor(e){super(e,{isRenderable:!0});const{filename:r,content:o}=this.data.file;this.filename=(0,D.getFilenameFromUrl)(r),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:r,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ae{static render(e){const r=[],o=[];for(const f of e.annotations){if(!f)continue;const{width:l,height:F}=N(f.rect);if(!(l<=0||F<=0)){if(f.annotationType===t.AnnotationType.POPUP){o.push(f);continue}r.push(f)}}o.length&&r.push(...o);const u=e.div;for(const f of r){const l=H.create({data:f,layer:u,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new D.DOMSVGFactory,annotationStorage:e.annotationStorage||new O.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(l.isRenderable){const F=l.render();if(f.hidden&&(F.style.visibility="hidden"),Array.isArray(F))for(const Y of F)u.appendChild(Y);else l instanceof n?u.prepend(F):u.appendChild(F)}}_classStaticPrivateMethodGet(this,ae,L).call(this,u,e.annotationCanvasMap)}static update(e){const{page:r,viewport:o,annotations:u,annotationCanvasMap:f,div:l}=e,F=o.transform,Y=`matrix(${F.join(",")})`;let V,K;for(const Q of u){const ee=l.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(ee)for(const te of ee)if(Q.hasOwnCanvas){const ue=t.Util.normalizeRect([Q.rect[0],r.view[3]-Q.rect[1]+r.view[1],Q.rect[2],r.view[3]-Q.rect[3]+r.view[1]]);if(!K){V=Math.abs(F[0]||F[1]);const me=F.slice();for(let le=0;le<4;le++)me[le]=Math.sign(me[le]);K=`matrix(${me.join(",")})`}const _e=ue[0]*V,Ae=ue[1]*V;te.style.left=`${_e}px`,te.style.top=`${Ae}px`,te.style.transformOrigin=`${-_e}px ${-Ae}px`,te.style.transform=K}else te.style.transform=Y}_classStaticPrivateMethodGet(this,ae,L).call(this,l,f),l.hidden=!1}}function L(s,e){if(e){for(const[r,o]of e){const u=s.querySelector(`[data-annotation-id="${r}"]`);if(!u)continue;const{firstChild:f}=u;"CANVAS"===f.nodeName?u.replaceChild(o,f):u.insertBefore(o,f)}e.clear()}}a.AnnotationLayer=ae},(z,a)=>{function S(D){return Math.floor(255*Math.max(0,Math.min(1,D))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class t{static CMYK_G([O,q,M,x]){return["G",1-Math.min(1,.3*O+.59*M+.11*q+x)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const q=S(O);return`#${q}${q}${q}`}static RGB_G([O,q,M]){return["G",.3*O+.59*q+.11*M]}static RGB_HTML([O,q,M]){return`#${S(O)}${S(q)}${S(M)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,q,M,x]){return["RGB",1-Math.min(1,O+x),1-Math.min(1,M+x),1-Math.min(1,q+x)]}static CMYK_HTML(O){return this.RGB_HTML(this.CMYK_RGB(O))}static RGB_CMYK([O,q,M]){const x=1-O,A=1-q,N=1-M;return["CMYK",x,A,N,Math.min(x,A,N)]}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var t=S(18);a.XfaLayer=class D{static setupStorage(q,M,x,A,N){const H=A.getValue(M,{value:null});switch(x.name){case"textarea":if(null!==H.value&&(q.textContent=H.value),"print"===N)break;q.addEventListener("input",X=>{A.setValue(M,{value:X.target.value})});break;case"input":if("radio"===x.attributes.type||"checkbox"===x.attributes.type){if(H.value===x.attributes.xfaOn?q.setAttribute("checked",!0):H.value===x.attributes.xfaOff&&q.removeAttribute("checked"),"print"===N)break;q.addEventListener("change",X=>{A.setValue(M,{value:X.target.getAttribute(X.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==H.value&&q.setAttribute("value",H.value),"print"===N)break;q.addEventListener("input",X=>{A.setValue(M,{value:X.target.value})})}break;case"select":if(null!==H.value)for(const X of x.children)X.attributes.value===H.value&&(X.attributes.selected=!0);q.addEventListener("input",X=>{const B=X.target.options;A.setValue(M,{value:-1===B.selectedIndex?"":B[B.selectedIndex].value})})}}static setAttributes({html:q,element:M,storage:x=null,intent:A,linkService:N}){const{attributes:H}=M,X=q instanceof HTMLAnchorElement;"radio"===H.type&&(H.name=`${H.name}-${A}`);for(const[B,G]of Object.entries(H))if(null!=G&&"dataId"!==B)if("style"!==B)if("textContent"===B)q.textContent=G;else if("class"===B)G.length&&q.setAttribute(B,G.join(" "));else{if(X&&("href"===B||"newWindow"===B))continue;q.setAttribute(B,G)}else Object.assign(q.style,G);X&&N.addLinkAttributes(q,H.href,H.newWindow),x&&H.dataId&&this.setupStorage(q,H.dataId,M,x)}static render(q){const M=q.annotationStorage,x=q.linkService,A=q.xfaHtml,N=q.intent||"display",H=document.createElement(A.name);A.attributes&&this.setAttributes({html:H,element:A,intent:N,linkService:x});const X=[[A,-1,H]],B=q.div;if(B.appendChild(H),q.viewport){const g=`matrix(${q.viewport.transform.join(",")})`;B.style.transform=g}"richText"!==N&&B.setAttribute("class","xfaLayer xfaFont");const G=[];for(;X.length>0;){const[g,C,m]=X[X.length-1];if(C+1===g.children.length){X.pop();continue}const P=g.children[++X[X.length-1][1]];if(null===P)continue;const{name:b}=P;if("#text"===b){const n=document.createTextNode(P.value);G.push(n),m.appendChild(n);continue}let v;if(v=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,b):document.createElement(b),m.appendChild(v),P.attributes&&this.setAttributes({html:v,element:P,storage:M,intent:N,linkService:x}),P.children&&P.children.length>0)X.push([P,-1,v]);else if(P.value){const n=document.createTextNode(P.value);t.XfaText.shouldBuildText(b)&&G.push(n),v.appendChild(n)}}for(const g of B.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:G}}static update(q){const M=`matrix(${q.viewport.transform.join(",")})`;q.div.style.transform=M,q.div.hidden=!1}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function m(P){const b=new C({textContent:P.textContent,textContentStream:P.textContentStream,container:P.container,viewport:P.viewport,textDivs:P.textDivs,textContentItemsStr:P.textContentItemsStr,enhanceTextSelection:P.enhanceTextSelection});return b._render(P.timeout),b};var t=S(1);const O=30,M=new Map,x=/^\s+$/g;function N(P,b,v,n){const i=document.createElement("span"),h=P._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL};P._textDivs.push(i);const y=t.Util.transform(P._viewport.transform,b.transform);let d=Math.atan2(y[1],y[0]);const _=v[b.fontName];_.vertical&&(d+=Math.PI/2);const p=Math.hypot(y[2],y[3]),c=p*function A(P,b){const v=M.get(P);if(v)return v;b.save(),b.font=`30px ${P}`;const n=b.measureText("");let i=n.fontBoundingBoxAscent,h=Math.abs(n.fontBoundingBoxDescent);if(i){b.restore();const d=i/(i+h);return M.set(P,d),d}b.strokeStyle="red",b.clearRect(0,0,O,O),b.strokeText("g",0,0);let y=b.getImageData(0,0,O,O).data;h=0;for(let d=y.length-1-3;d>=0;d-=4)if(y[d]>0){h=Math.ceil(d/4/O);break}b.clearRect(0,0,O,O),b.strokeText("A",0,O),y=b.getImageData(0,0,O,O).data,i=0;for(let d=0,_=y.length;d<_;d+=4)if(y[d]>0){i=O-Math.floor(d/4/O);break}if(b.restore(),i){const d=i/(i+h);return M.set(P,d),d}return M.set(P,.8),.8}(_.fontFamily,n);let R,T;0===d?(R=y[4],T=y[5]-c):(R=y[4]+c*Math.sin(d),T=y[5]-c*Math.cos(d)),i.style.left=`${R}px`,i.style.top=`${T}px`,i.style.fontSize=`${p}px`,i.style.fontFamily=_.fontFamily,i.setAttribute("role","presentation"),i.textContent=b.str,i.dir=b.dir,P._fontInspectorEnabled&&(i.dataset.fontName=b.fontName),0!==d&&(h.angle=d*(180/Math.PI));let w=!1;if(b.str.length>1||P._enhanceTextSelection&&x.test(b.str))w=!0;else if(" "!==b.str&&b.transform[0]!==b.transform[3]){const W=Math.abs(b.transform[0]),E=Math.abs(b.transform[3]);W!==E&&Math.max(W,E)/Math.min(W,E)>1.5&&(w=!0)}if(w&&(h.canvasWidth=_.vertical?b.height*P._viewport.scale:b.width*P._viewport.scale),P._textDivProperties.set(i,h),P._textContentStream&&P._layoutText(i),P._enhanceTextSelection&&h.hasText){let W=1,E=0;0!==d&&(W=Math.cos(d),E=Math.sin(d));const U=(_.vertical?b.height:b.width)*P._viewport.scale,Z=p;let oe,ae;0!==d?(oe=[W,E,-E,W,R,T],ae=t.Util.getAxialAlignedBoundingBox([0,0,U,Z],oe)):ae=[R,T,R+U,T+Z],P._bounds.push({left:ae[0],top:ae[1],right:ae[2],bottom:ae[3],div:i,size:[U,Z],m:oe})}}function H(P){if(P._canceled)return;const b=P._textDivs,v=P._capability,n=b.length;if(n>1e5)return P._renderingDone=!0,void v.resolve();if(!P._textContentStream)for(let i=0;i<n;i++)P._layoutText(b[i]);P._renderingDone=!0,v.resolve()}function X(P,b,v){let n=0;for(let i=0;i<v;i++){const h=P[b++];h>0&&(n=n?Math.min(h,n):h)}return n}function g(P,b){b.sort(function(i,h){return i.x1-h.x1||i.index-h.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of b){let h=0;for(;h<n.length&&n[h].end<=i.y1;)h++;let y=n.length-1;for(;y>=0&&n[y].start>=i.y2;)y--;let d,_,p,c,R=-1/0;for(p=h;p<=y;p++){let W;d=n[p],_=d.boundary,W=_.x2>i.x1?_.index>i.index?_.x1New:i.x1:void 0===_.x2New?(_.x2+i.x1)/2:_.x2New,W>R&&(R=W)}for(i.x1New=R,p=h;p<=y;p++)d=n[p],_=d.boundary,void 0===_.x2New?_.x2>i.x1?_.index>i.index&&(_.x2New=_.x2):_.x2New=R:_.x2New>R&&(_.x2New=Math.max(R,_.x2));const T=[];let w=null;for(p=h;p<=y;p++){d=n[p],_=d.boundary;const W=_.x2>i.x2?_:i;w===W?T[T.length-1].end=d.end:(T.push({start:d.start,end:d.end,boundary:W}),w=W)}for(n[h].start<i.y1&&(T[0].start=i.y1,T.unshift({start:n[h].start,end:i.y1,boundary:n[h].boundary})),i.y2<n[y].end&&(T[T.length-1].end=i.y2,T.push({start:i.y2,end:n[y].end,boundary:n[y].boundary})),p=h;p<=y;p++){if(d=n[p],_=d.boundary,void 0!==_.x2New)continue;let W=!1;for(c=h-1;!W&&c>=0&&n[c].start>=_.y1;c--)W=n[c].boundary===_;for(c=y+1;!W&&c<n.length&&n[c].end<=_.y2;c++)W=n[c].boundary===_;for(c=0;!W&&c<T.length;c++)W=T[c].boundary===_;W||(_.x2New=R)}Array.prototype.splice.apply(n,[h,y-h+1].concat(T))}for(const i of n){const h=i.boundary;void 0===h.x2New&&(h.x2New=Math.max(P,h.x2))}}class C{constructor({textContent:b,textContentStream:v,container:n,viewport:i,textDivs:h,textContentItemsStr:y,enhanceTextSelection:d}){this._textContent=b,this._textContentStream=v,this._container=n,this._document=n.ownerDocument,this._viewport=i,this._textDivs=h||[],this._textContentItemsStr=y||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,t.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new t.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,v){for(let n=0,i=b.length;n<i;n++)if(void 0!==b[n].str)this._textContentItemsStr.push(b[n].str),N(this,b[n],v,this._layoutTextCtx);else if("beginMarkedContentProps"===b[n].type||"beginMarkedContent"===b[n].type){const h=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[n].id&&this._container.setAttribute("id",`${b[n].id}`),h.appendChild(this._container)}else"endMarkedContent"===b[n].type&&(this._container=this._container.parentNode)}_layoutText(b){const v=this._textDivProperties.get(b);let n="";if(0!==v.canvasWidth&&v.hasText){const{fontSize:i,fontFamily:h}=b.style;(i!==this._layoutTextLastFontSize||h!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${h}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=h);const{width:y}=this._layoutTextCtx.measureText(b.textContent);if(y>0){const d=v.canvasWidth/y;this._enhanceTextSelection&&(v.scale=d),n=`scaleX(${d})`}}if(0!==v.angle&&(n=`rotate(${v.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(v.originalTransform=n),b.style.transform=n),v.hasText&&this._container.appendChild(b),v.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(b=0){const v=(0,t.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=O,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),v.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const h=()=>{this._reader.read().then(({value:y,done:d})=>{d?v.resolve():(Object.assign(n,y.styles),this._processItems(y.items,n),h())},v.reject)};this._reader=this._textContentStream.getReader(),h()}}v.promise.then(()=>{n=null,b?this._renderTimer=setTimeout(()=>{H(this),this._renderTimer=null},b):H(this)},this._capability.reject)}expandTextDivs(b=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function B(P){const b=P._bounds,v=P._viewport,n=function G(P,b,v){const n=v.map(function(h,y){return{x1:h.left,y1:h.top,x2:h.right,y2:h.bottom,index:y,x1New:void 0,x2New:void 0}});g(P,n);const i=new Array(v.length);for(const h of n)i[h.index]={left:h.x1New,top:0,right:h.x2New,bottom:0};v.map(function(h,y){const d=i[y],_=n[y];_.x1=h.top,_.y1=P-d.right,_.x2=h.bottom,_.y2=P-d.left,_.index=y,_.x1New=void 0,_.x2New=void 0}),g(b,n);for(const h of n){const y=h.index;i[y].top=h.x1New,i[y].bottom=h.x2New}return i}(v.width,v.height,b);for(let i=0;i<n.length;i++){const h=b[i].div,y=P._textDivProperties.get(h);if(0===y.angle){y.paddingLeft=b[i].left-n[i].left,y.paddingTop=b[i].top-n[i].top,y.paddingRight=n[i].right-b[i].right,y.paddingBottom=n[i].bottom-b[i].bottom,P._textDivProperties.set(h,y);continue}const d=n[i],_=b[i],p=_.m,c=p[0],R=p[1],T=[[0,0],[0,_.size[1]],[_.size[0],0],_.size],w=new Float64Array(64);for(let E=0,U=T.length;E<U;E++){const Z=t.Util.applyTransform(T[E],p);w[E+0]=c&&(d.left-Z[0])/c,w[E+4]=R&&(d.top-Z[1])/R,w[E+8]=c&&(d.right-Z[0])/c,w[E+12]=R&&(d.bottom-Z[1])/R,w[E+16]=R&&(d.left-Z[0])/-R,w[E+20]=c&&(d.top-Z[1])/c,w[E+24]=R&&(d.right-Z[0])/-R,w[E+28]=c&&(d.bottom-Z[1])/c,w[E+32]=c&&(d.left-Z[0])/-c,w[E+36]=R&&(d.top-Z[1])/-R,w[E+40]=c&&(d.right-Z[0])/-c,w[E+44]=R&&(d.bottom-Z[1])/-R,w[E+48]=R&&(d.left-Z[0])/R,w[E+52]=c&&(d.top-Z[1])/-c,w[E+56]=R&&(d.right-Z[0])/R,w[E+60]=c&&(d.bottom-Z[1])/-c}const W=1+Math.min(Math.abs(c),Math.abs(R));y.paddingLeft=X(w,32,16)/W,y.paddingTop=X(w,48,16)/W,y.paddingRight=X(w,0,16)/W,y.paddingBottom=X(w,16,16)/W,P._textDivProperties.set(h,y)}}(this),this._bounds=null);const v=[],n=[];for(let i=0,h=this._textDivs.length;i<h;i++){const y=this._textDivs[i],d=this._textDivProperties.get(y);d.hasText&&(b?(v.length=0,n.length=0,d.originalTransform&&v.push(d.originalTransform),d.paddingTop>0?(n.push(`${d.paddingTop}px`),v.push(`translateY(${-d.paddingTop}px)`)):n.push(0),n.push(d.paddingRight>0?d.paddingRight/d.scale+"px":0),n.push(d.paddingBottom>0?`${d.paddingBottom}px`:0),d.paddingLeft>0?(n.push(d.paddingLeft/d.scale+"px"),v.push(`translateX(${-d.paddingLeft/d.scale}px)`)):n.push(0),y.style.padding=n.join(" "),v.length&&(y.style.transform=v.join(" "))):(y.style.padding=null,y.style.transform=d.originalTransform))}}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var t=S(1),D=S(5),O=S(3);let q=class{constructor(){(0,t.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=q;{let g=function(n){let i=[];const h=[];for(const y of n)"save"!==y.fn?"restore"===y.fn?i=h.pop():i.push(y):(i.push({fnId:92,fn:"group",items:[]}),h.push(i),i=i[i.length-1].items);return i},C=function(n){if(Number.isInteger(n))return n.toString();const i=n.toFixed(10);let h=i.length-1;if("0"!==i[h])return i;do{h--}while("0"===i[h]);return i.substring(0,"."===i[h]?h:h+1)},m=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${C(n[0])} ${C(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const i=180*Math.acos(n[0])/Math.PI;return`rotate(${C(i)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${C(n[4])} ${C(n[5])})`;return`matrix(${C(n[0])} ${C(n[1])} ${C(n[2])} ${C(n[3])} ${C(n[4])} ${C(n[5])})`};const M={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",N=["butt","round","square"],H=["miter","round","bevel"],X=function(n,i="",h=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!h)return URL.createObjectURL(new Blob([n],{type:i}));const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${i};base64,`;for(let _=0,p=n.length;_<p;_+=3){const c=255&n[_],R=255&n[_+1],T=255&n[_+2];d+=y[c>>2]+y[(3&c)<<4|R>>4]+y[_+1<p?(15&R)<<2|T>>6:64]+y[_+2<p?63&T:64]}return d},B=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),h=new Int32Array(256);for(let T=0;T<256;T++){let w=T;for(let W=0;W<8;W++)w=1&w?3988292384^w>>1&2147483647:w>>1&2147483647;h[T]=w}function d(T,w,W,E){let U=E;const Z=w.length;W[U]=Z>>24&255,W[U+1]=Z>>16&255,W[U+2]=Z>>8&255,W[U+3]=255&Z,U+=4,W[U]=255&T.charCodeAt(0),W[U+1]=255&T.charCodeAt(1),W[U+2]=255&T.charCodeAt(2),W[U+3]=255&T.charCodeAt(3),U+=4,W.set(w,U),U+=w.length;const oe=function y(T,w,W){let E=-1;for(let U=w;U<W;U++)E=E>>>8^h[255&(E^T[U])];return-1^E}(W,E+4,U);W[U]=oe>>24&255,W[U+1]=oe>>16&255,W[U+2]=oe>>8&255,W[U+3]=255&oe}function c(T){let w=T.length;const W=65535,E=Math.ceil(w/W),U=new Uint8Array(2+w+5*E+4);let Z=0;U[Z++]=120,U[Z++]=156;let oe=0;for(;w>W;)U[Z++]=0,U[Z++]=255,U[Z++]=255,U[Z++]=0,U[Z++]=0,U.set(T.subarray(oe,oe+W),Z),Z+=W,oe+=W,w-=W;U[Z++]=1,U[Z++]=255&w,U[Z++]=w>>8&255,U[Z++]=255&~w,U[Z++]=(65535&~w)>>8&255,U.set(T.subarray(oe),Z),Z+=T.length-oe;const ae=function _(T,w,W){let E=1,U=0;for(let Z=w;Z<W;++Z)E=(E+(255&T[Z]))%65521,U=(U+E)%65521;return U<<16|E}(T,0,T.length);return U[Z++]=ae>>24&255,U[Z++]=ae>>16&255,U[Z++]=ae>>8&255,U[Z++]=255&ae,U}return function(w,W,E){return function R(T,w,W,E){const U=T.width,Z=T.height;let oe,ae,L;const s=T.data;switch(w){case t.ImageKind.GRAYSCALE_1BPP:ae=0,oe=1,L=U+7>>3;break;case t.ImageKind.RGB_24BPP:ae=2,oe=8,L=3*U;break;case t.ImageKind.RGBA_32BPP:ae=6,oe=8,L=4*U;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+L)*Z);let r=0,o=0;for(let V=0;V<Z;++V)e[r++]=0,e.set(s.subarray(o,o+L),r),o+=L,r+=L;if(w===t.ImageKind.GRAYSCALE_1BPP&&E){r=0;for(let V=0;V<Z;V++){r++;for(let K=0;K<L;K++)e[r++]^=255}}const u=new Uint8Array([U>>24&255,U>>16&255,U>>8&255,255&U,Z>>24&255,Z>>16&255,Z>>8&255,255&Z,oe,ae,0,0,0]),f=function p(T){if(!O.isNodeJS)return c(T);try{let w;w=parseInt(process.versions.node)>=8?T:Buffer.from(T);const W=__webpack_require__(372).deflateSync(w,{level:9});return W instanceof Uint8Array?W:new Uint8Array(W)}catch(w){(0,t.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+w)}return c(T)}(e),F=new Uint8Array(n.length+36+u.length+f.length);let Y=0;return F.set(n,Y),Y+=n.length,d("IHDR",u,F,Y),Y+=12+u.length,d("IDATA",f,F,Y),Y+=12+f.length,d("IEND",new Uint8Array(0),F,Y),X(F,"image/png",W)}(w,void 0===w.kind?t.ImageKind.GRAYSCALE_1BPP:w.kind,W,E)}}();class G{constructor(){this.fontSizeScale=1,this.fontWeight=M.fontWeight,this.fontSize=0,this.textMatrix=t.IDENTITY_MATRIX,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=t.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=M.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,h){this.x=i,this.y=h}}let P=0,b=0,v=0;a.SVGGraphics=q=class{constructor(n,i,h=!1){this.svgFactory=new D.DOMSVGFactory,this.current=new G,this.transformMatrix=t.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!h,this._operatorIdMapping=[];for(const y in t.OPS)this._operatorIdMapping[t.OPS[y]]=y}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const i=n.fnArray,h=n.argsArray;for(let y=0,d=i.length;y<d;y++)if(i[y]===t.OPS.dependency)for(const _ of h[y]){const p=_.startsWith("g_")?this.commonObjs:this.objs,c=new Promise(R=>{p.get(_,R)});this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)}transform(n,i,h,y,d,_){this.transformMatrix=t.Util.transform(this.transformMatrix,[n,i,h,y,d,_]),this.tgrp=null}getSVG(n,i){this.viewport=i;const h=this._initialize(i);return this.loadDependencies(n).then(()=>(this.transformMatrix=t.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),h))}convertOpList(n){const i=this._operatorIdMapping,h=n.argsArray,y=n.fnArray,d=[];for(let _=0,p=y.length;_<p;_++){const c=y[_];d.push({fnId:c,fn:i[c],args:h[_]})}return g(d)}executeOpTree(n){for(const i of n){const h=i.fn,d=i.args;switch(0|i.fnId){case t.OPS.beginText:this.beginText();break;case t.OPS.dependency:break;case t.OPS.setLeading:this.setLeading(d);break;case t.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case t.OPS.setFont:this.setFont(d);break;case t.OPS.showText:case t.OPS.showSpacedText:this.showText(d[0]);break;case t.OPS.endText:this.endText();break;case t.OPS.moveText:this.moveText(d[0],d[1]);break;case t.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case t.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case t.OPS.setHScale:this.setHScale(d[0]);break;case t.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case t.OPS.setTextRise:this.setTextRise(d[0]);break;case t.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case t.OPS.setLineWidth:this.setLineWidth(d[0]);break;case t.OPS.setLineJoin:this.setLineJoin(d[0]);break;case t.OPS.setLineCap:this.setLineCap(d[0]);break;case t.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case t.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case t.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case t.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case t.OPS.setFillColorN:this.setFillColorN(d);break;case t.OPS.shadingFill:this.shadingFill(d[0]);break;case t.OPS.setDash:this.setDash(d[0],d[1]);break;case t.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case t.OPS.setFlatness:this.setFlatness(d[0]);break;case t.OPS.setGState:this.setGState(d[0]);break;case t.OPS.fill:this.fill();break;case t.OPS.eoFill:this.eoFill();break;case t.OPS.stroke:this.stroke();break;case t.OPS.fillStroke:this.fillStroke();break;case t.OPS.eoFillStroke:this.eoFillStroke();break;case t.OPS.clip:this.clip("nonzero");break;case t.OPS.eoClip:this.clip("evenodd");break;case t.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case t.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case t.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case t.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case t.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case t.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case t.OPS.closePath:this.closePath();break;case t.OPS.closeStroke:this.closeStroke();break;case t.OPS.closeFillStroke:this.closeFillStroke();break;case t.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case t.OPS.nextLine:this.nextLine();break;case t.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case t.OPS.constructPath:this.constructPath(d[0],d[1]);break;case t.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,t.warn)(`Unimplemented operator ${h}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,i,h,y,d,_){const p=this.current;p.textMatrix=p.lineMatrix=[n,i,h,y,d,_],p.textMatrixScale=Math.hypot(n,i),p.x=p.lineX=0,p.y=p.lineY=0,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${C(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",C(-p.y)),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtElement.appendChild(p.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=t.IDENTITY_MATRIX,n.lineMatrix=t.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,i){const h=this.current;h.x=h.lineX+=n,h.y=h.lineY+=i,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${C(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",C(-h.y))}showText(n){const i=this.current,h=i.font,y=i.fontSize;if(0===y)return;const d=i.fontSizeScale,_=i.charSpacing,p=i.wordSpacing,c=i.fontDirection,R=i.textHScale*c,T=h.vertical,w=T?1:-1,W=h.defaultVMetrics,E=y*i.fontMatrix[0];let U=0;for(const ae of n){if(null===ae){U+=c*p;continue}if("number"==typeof ae){U+=w*ae*y/1e3;continue}const L=(ae.isSpace?p:0)+_,s=ae.fontChar;let e,r,u,o=ae.width;if(T){let f;const l=ae.vmetric||W;f=ae.vmetric?l[1]:.5*o,f=-f*E,o=l?-l[0]:o,e=f/d,r=(U+l[2]*E)/d}else e=U/d,r=0;(ae.isInFont||h.missingFile)&&(i.xcoords.push(i.x+e),T&&i.ycoords.push(-i.y+r),i.tspan.textContent+=s),u=T?o*E-L*c:o*E+L*c,U+=u}i.tspan.setAttributeNS(null,"x",i.xcoords.map(C).join(" ")),i.tspan.setAttributeNS(null,"y",T?i.ycoords.map(C).join(" "):C(-i.y)),T?i.y-=U:i.x+=U*R,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${C(i.fontSize)}px`),i.fontStyle!==M.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==M.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const Z=i.textRenderingMode&t.TextRenderingMode.FILL_STROKE_MASK;Z===t.TextRenderingMode.FILL||Z===t.TextRenderingMode.FILL_STROKE?(i.fillColor!==M.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===t.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Z===t.TextRenderingMode.STROKE||Z===t.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let oe=i.textMatrix;0!==i.textRise&&(oe=oe.slice(),oe[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${m(oe)} scale(${C(R)}, -1)`),i.txtElement.setAttributeNS(x,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(n,i){this.setLeading(-i),this.moveText(n,i)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=X(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${i}); }\n`}setFont(n){const i=this.current,h=this.commonObjs.get(n[0]);let y=n[1];i.font=h,this.embedFonts&&!h.missingFile&&!this.embeddedFonts[h.loadedName]&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=h),i.fontMatrix=h.fontMatrix||t.FONT_IDENTITY_MATRIX;let d="normal";h.black?d="900":h.bold&&(d="bold");const _=h.italic?"italic":"normal";y<0?(y=-y,i.fontDirection=-1):i.fontDirection=1,i.fontSize=y,i.fontFamily=h.loadedName,i.fontWeight=d,i.fontStyle=_,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",C(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&t.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=N[n]}setLineJoin(n){this.current.lineJoin=H[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,i,h){this.current.strokeColor=t.Util.makeHexColor(n,i,h)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,i,h){this.current.fillColor=t.Util.makeHexColor(n,i,h),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const i=this.viewport.width,h=this.viewport.height,y=t.Util.inverseTransform(this.transformMatrix),d=t.Util.applyTransform([0,0],y),_=t.Util.applyTransform([0,h],y),p=t.Util.applyTransform([i,0],y),c=t.Util.applyTransform([i,h],y),R=Math.min(d[0],_[0],p[0],c[0]),T=Math.min(d[1],_[1],p[1],c[1]),w=Math.max(d[0],_[0],p[0],c[0]),W=Math.max(d[1],_[1],p[1],c[1]),E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",R),E.setAttributeNS(null,"y",T),E.setAttributeNS(null,"width",w-R),E.setAttributeNS(null,"height",W-T),E.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&E.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(E)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const i=n[1],h=n[2],y=n[3]||t.IDENTITY_MATRIX,[d,_,p,c]=n[4],R=n[5],T=n[6],w=n[7],W="shading"+v++,[E,U,Z,oe]=t.Util.normalizeRect([...t.Util.applyTransform([d,_],y),...t.Util.applyTransform([p,c],y)]),[ae,L]=t.Util.singularValueDecompose2dScale(y),s=R*ae,e=T*L,r=this.svgFactory.createElement("svg:pattern");r.setAttributeNS(null,"id",W),r.setAttributeNS(null,"patternUnits","userSpaceOnUse"),r.setAttributeNS(null,"width",s),r.setAttributeNS(null,"height",e),r.setAttributeNS(null,"x",`${E}`),r.setAttributeNS(null,"y",`${U}`);const o=this.svg,u=this.transformMatrix,f=this.current.fillColor,l=this.current.strokeColor,F=this.svgFactory.create(Z-E,oe-U);if(this.svg=F,this.transformMatrix=y,2===w){const Y=t.Util.makeHexColor(...i);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(h)),this.svg=o,this.transformMatrix=u,this.current.fillColor=f,this.current.strokeColor=l,r.appendChild(F.childNodes[0]),this.defs.appendChild(r),`url(#${W})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const i="shading"+v++,h=n[3];let y;switch(n[1]){case"axial":const d=n[4],_=n[5];y=this.svgFactory.createElement("svg:linearGradient"),y.setAttributeNS(null,"id",i),y.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),y.setAttributeNS(null,"x1",d[0]),y.setAttributeNS(null,"y1",d[1]),y.setAttributeNS(null,"x2",_[0]),y.setAttributeNS(null,"y2",_[1]);break;case"radial":const p=n[4],c=n[5],R=n[6],T=n[7];y=this.svgFactory.createElement("svg:radialGradient"),y.setAttributeNS(null,"id",i),y.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),y.setAttributeNS(null,"cx",c[0]),y.setAttributeNS(null,"cy",c[1]),y.setAttributeNS(null,"r",T),y.setAttributeNS(null,"fx",p[0]),y.setAttributeNS(null,"fy",p[1]),y.setAttributeNS(null,"fr",R);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const d of h){const _=this.svgFactory.createElement("svg:stop");_.setAttributeNS(null,"offset",d[0]),_.setAttributeNS(null,"stop-color",d[1]),y.appendChild(_)}return this.defs.appendChild(y),`url(#${i})`;case"Mesh":return(0,t.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,i){this.current.dashArray=n,this.current.dashPhase=i}constructPath(n,i){const h=this.current;let y=h.x,d=h.y,_=[],p=0;for(const c of n)switch(0|c){case t.OPS.rectangle:y=i[p++],d=i[p++];const w=y+i[p++],W=d+i[p++];_.push("M",C(y),C(d),"L",C(w),C(d),"L",C(w),C(W),"L",C(y),C(W),"Z");break;case t.OPS.moveTo:y=i[p++],d=i[p++],_.push("M",C(y),C(d));break;case t.OPS.lineTo:y=i[p++],d=i[p++],_.push("L",C(y),C(d));break;case t.OPS.curveTo:y=i[p+4],d=i[p+5],_.push("C",C(i[p]),C(i[p+1]),C(i[p+2]),C(i[p+3]),C(y),C(d)),p+=6;break;case t.OPS.curveTo2:_.push("C",C(y),C(d),C(i[p]),C(i[p+1]),C(i[p+2]),C(i[p+3])),y=i[p+2],d=i[p+3],p+=4;break;case t.OPS.curveTo3:y=i[p+2],d=i[p+3],_.push("C",C(i[p]),C(i[p+1]),C(y),C(d),C(y),C(d)),p+=4;break;case t.OPS.closePath:_.push("Z")}_=_.join(" "),h.path&&n.length>0&&n[0]!==t.OPS.rectangle&&n[0]!==t.OPS.moveTo?_=h.path.getAttributeNS(null,"d")+_:(h.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(h.path)),h.path.setAttributeNS(null,"d",_),h.path.setAttributeNS(null,"fill","none"),h.element=h.path,h.setCurrentPoint(y,d)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const i="clippath"+P++,h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",i),h.setAttributeNS(null,"transform",m(this.transformMatrix));const y=n.element.cloneNode(!0);if(y.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,h.appendChild(y),this.defs.appendChild(h),n.activeClipUrl){n.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;h.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const i=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",i)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[i,h]of n)switch(i){case"LW":this.setLineWidth(h);break;case"LC":this.setLineCap(h);break;case"LJ":this.setLineJoin(h);break;case"ML":this.setMiterLimit(h);break;case"D":this.setDash(h[0],h[1]);break;case"RI":this.setRenderingIntent(h);break;case"FL":this.setFlatness(h);break;case"Font":this.setFont(h);break;case"CA":this.setStrokeAlpha(h);break;case"ca":this.setFillAlpha(h);break;default:(0,t.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,i=1){const h=this.current;let y=h.dashArray;1!==i&&y.length>0&&(y=y.map(function(d){return i*d})),n.setAttributeNS(null,"stroke",h.strokeColor),n.setAttributeNS(null,"stroke-opacity",h.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",C(h.miterLimit)),n.setAttributeNS(null,"stroke-linecap",h.lineCap),n.setAttributeNS(null,"stroke-linejoin",h.lineJoin),n.setAttributeNS(null,"stroke-width",C(i*h.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",y.map(C).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",C(i*h.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const i=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);i?this.paintInlineImageXObject(i):(0,t.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,i){const h=n.width,y=n.height,d=B(n,this.forceDataSchema,!!i),_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width",C(h)),_.setAttributeNS(null,"height",C(y)),this.current.element=_,this.clip("nonzero");const p=this.svgFactory.createElement("svg:image");p.setAttributeNS(A,"xlink:href",d),p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y",C(-y)),p.setAttributeNS(null,"width",C(h)+"px"),p.setAttributeNS(null,"height",C(y)+"px"),p.setAttributeNS(null,"transform",`scale(${C(1/h)} ${C(-1/y)})`),i?i.appendChild(p):this._ensureTransformGroup().appendChild(p)}paintImageMaskXObject(n){const i=this.current,h=n.width,y=n.height,d=i.fillColor;i.maskId="mask"+b++;const _=this.svgFactory.createElement("svg:mask");_.setAttributeNS(null,"id",i.maskId);const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width",C(h)),p.setAttributeNS(null,"height",C(y)),p.setAttributeNS(null,"fill",d),p.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(_),this._ensureTransformGroup().appendChild(p),this.paintInlineImageXObject(n,_)}paintFormXObjectBegin(n,i){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),i){const h=i[2]-i[0],y=i[3]-i[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",i[0]),d.setAttributeNS(null,"y",i[1]),d.setAttributeNS(null,"width",C(h)),d.setAttributeNS(null,"height",C(y)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const i=this.svgFactory.create(n.width,n.height),h=this.svgFactory.createElement("svg:defs");i.appendChild(h),this.defs=h;const y=this.svgFactory.createElement("svg:g");return y.setAttributeNS(null,"transform",m(n.transform)),i.appendChild(y),this.svg=y,i}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var t=S(1),D=S(26);const O=__webpack_require__(2339),q=__webpack_require__(4828),M=__webpack_require__(7915),x=__webpack_require__(5598),A=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class H{constructor(v){this.source=v,this.url=function N(b){const v=x.parse(b);return"file:"===v.protocol||v.host?v:/^[a-z]:[/\\]/i.test(b)?x.parse(`file:///${b}`):(v.host||(v.protocol="file:"),v)}(v.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new g(this),this._fullRequestReader}getRangeReader(v,n){if(n<=this._progressiveDataLength)return null;const i=this.isFsUrl?new P(this,v,n):new C(this,v,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const n of this._rangeRequestReaders.slice(0))n.cancel(v)}};class X{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=v.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,t.createPromiseCapability)(),this._headersCapability=(0,t.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const n=v._readableStream.read();return null===n?(v._readCapability=(0,t.createPromiseCapability)(),v.read()):(v._loaded+=n.length,v.onProgress&&v.onProgress({loaded:v._loaded,total:v._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new t.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class B{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,t.createPromiseCapability)(),this._isStreamingSupported=!v.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const n=v._readableStream.read();return null===n?(v._readCapability=(0,t.createPromiseCapability)(),v.read()):(v._loaded+=n.length,v.onProgress&&v.onProgress({loaded:v._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function G(b,v){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:v}}class g extends X{constructor(v){super(v);const n=i=>{if(404===i.statusCode){const _=new t.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=_,void this._headersCapability.reject(_)}this._headersCapability.resolve(),this._setReadableStream(i);const h=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:y,suggestedLength:d}=(0,D.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=d||this._contentLength,this._filename=(0,D.extractFilenameFromHeader)(h)};this._request=null,this._request="http:"===this._url.protocol?q.request(G(this._url,v.httpHeaders),n):M.request(G(this._url,v.httpHeaders),n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class C extends B{constructor(v,n,i){super(v),this._httpHeaders={};for(const y in v.httpHeaders){const d=v.httpHeaders[y];typeof d>"u"||(this._httpHeaders[y]=d)}this._httpHeaders.Range=`bytes=${n}-${i-1}`;const h=y=>{if(404!==y.statusCode)this._setReadableStream(y);else{const d=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d}};this._request=null,this._request="http:"===this._url.protocol?q.request(G(this._url,this._httpHeaders),h):M.request(G(this._url,this._httpHeaders),h),this._request.on("error",y=>{this._storedError=y}),this._request.end()}}class m extends X{constructor(v){super(v);let n=decodeURIComponent(this._url.path);A.test(this._url.href)&&(n=n.replace(/^\//,"")),O.lstat(n,(i,h)=>{if(i)return"ENOENT"===i.code&&(i=new t.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=h.size,this._setReadableStream(O.createReadStream(n)),this._headersCapability.resolve()})}}class P extends B{constructor(v,n,i){super(v);let h=decodeURIComponent(this._url.path);A.test(this._url.href)&&(h=h.replace(/^\//,"")),this._setReadableStream(O.createReadStream(h,{start:n,end:i-1}))}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function x(N,H){return 404===N||0===N&&H.startsWith("file:")?new t.MissingPDFException('Missing PDF "'+H+'".'):new t.UnexpectedResponseException(`Unexpected server response (${N}) while retrieving PDF "${H}".`,N)},a.extractFilenameFromHeader=function M(N){const H=N("Content-Disposition");if(H){let X=(0,D.getFilenameFromContentDispositionHeader)(H);if(X.includes("%"))try{X=decodeURIComponent(X)}catch{}if((0,O.isPdfFile)(X))return X}return null},a.validateRangeRequestCapabilities=function q({getResponseHeader:N,isHttp:H,rangeChunkSize:X,disableRange:B}){const G={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(N("Content-Length"),10);return!Number.isInteger(g)||(G.suggestedLength=g,g<=2*X)||B||!H||"bytes"!==N("Accept-Ranges")||"identity"!==(N("Content-Encoding")||"identity")||(G.allowRangeRequests=!0),G},a.validateResponseStatus=function A(N){return 200===N||206===N};var t=S(1),D=S(27),O=S(5)},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function D(O){let q=!0,M=x("filename\\*","i").exec(O);if(M){M=M[1];let g=X(M);return g=unescape(g),g=B(g),g=G(g),N(g)}if(M=function H(g){const C=[];let m;const P=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=P.exec(g));){let[,v,n,i]=m;if(v=parseInt(v,10),v in C){if(0===v)break}else C[v]=[n,i]}const b=[];for(let v=0;v<C.length&&v in C;++v){let[n,i]=C[v];i=X(i),n&&(i=unescape(i),0===v&&(i=B(i))),b.push(i)}return b.join("")}(O),M)return N(G(M));if(M=x("filename","i").exec(O),M){M=M[1];let g=X(M);return g=G(g),N(g)}function x(g,C){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function A(g,C){if(g){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const m=new TextDecoder(g,{fatal:!0}),P=(0,t.stringToBytes)(C);C=m.decode(P),q=!1}catch{}}return C}function N(g){return q&&/[\x80-\xff]/.test(g)&&(g=A("utf-8",g),q&&(g=A("iso-8859-1",g))),g}function X(g){if(g.startsWith('"')){const C=g.slice(1).split('\\"');for(let m=0;m<C.length;++m){const P=C[m].indexOf('"');-1!==P&&(C[m]=C[m].slice(0,P),C.length=m+1),C[m]=C[m].replace(/\\(.)/g,"$1")}g=C.join('"')}return g}function B(g){const C=g.indexOf("'");return-1===C?g:A(g.slice(0,C),g.slice(C+1).replace(/^[^']*'/,""))}function G(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,m,P,b){if("q"===P||"Q"===P)return A(m,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(v,n){return String.fromCharCode(parseInt(n,16))}));try{b=atob(b)}catch{}return A(m,b)})}return""};var t=S(1)},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var t=S(1),D=S(26);class x{constructor(B,G={}){this.url=B,this.isHttp=/^https?:/i.test(B),this.httpHeaders=this.isHttp&&G.httpHeaders||Object.create(null),this.withCredentials=G.withCredentials||!1,this.getXhr=G.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(B,G,g){const C={begin:B,end:G};for(const m in g)C[m]=g[m];return this.request(C)}requestFull(B){return this.request(B)}request(B){const G=this.getXhr(),g=this.currXhrId++,C=this.pendingRequests[g]={xhr:G};G.open("GET",this.url),G.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const P=this.httpHeaders[m];typeof P>"u"||G.setRequestHeader(m,P)}return this.isHttp&&"begin"in B&&"end"in B?(G.setRequestHeader("Range",`bytes=${B.begin}-${B.end-1}`),C.expectedStatus=206):C.expectedStatus=200,G.responseType="arraybuffer",B.onError&&(G.onerror=function(m){B.onError(G.status)}),G.onreadystatechange=this.onStateChange.bind(this,g),G.onprogress=this.onProgress.bind(this,g),C.onHeadersReceived=B.onHeadersReceived,C.onDone=B.onDone,C.onError=B.onError,C.onProgress=B.onProgress,G.send(null),g}onProgress(B,G){const g=this.pendingRequests[B];g&&g.onProgress?.(G)}onStateChange(B,G){const g=this.pendingRequests[B];if(!g)return;const C=g.xhr;if(C.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==C.readyState||!(B in this.pendingRequests))return;if(delete this.pendingRequests[B],0===C.status&&this.isHttp)return void g.onError?.(C.status);const m=C.status||200;if((200!==m||206!==g.expectedStatus)&&m!==g.expectedStatus)return void g.onError?.(C.status);const b=function M(X){const B=X.response;return"string"!=typeof B?B:(0,t.stringToBytes)(B).buffer}(C);if(206===m){const v=C.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);g.onDone({begin:parseInt(n[1],10),chunk:b})}else b?g.onDone({begin:0,chunk:b}):g.onError?.(C.status)}getRequestXhr(B){return this.pendingRequests[B].xhr}isPendingRequest(B){return B in this.pendingRequests}abortRequest(B){const G=this.pendingRequests[B].xhr;delete this.pendingRequests[B],G.abort()}}a.PDFNetworkStream=class A{constructor(B){this._source=B,this._manager=new x(B.url,{httpHeaders:B.httpHeaders,withCredentials:B.withCredentials}),this._rangeChunkSize=B.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(B){const G=this._rangeRequestReaders.indexOf(B);G>=0&&this._rangeRequestReaders.splice(G,1)}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new N(this._manager,this._source),this._fullRequestReader}getRangeReader(B,G){const g=new H(this._manager,B,G);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(B){this._fullRequestReader?.cancel(B);for(const G of this._rangeRequestReaders.slice(0))G.cancel(B)}};class N{constructor(B,G){this._manager=B;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=G.url,this._fullRequestId=B.requestFull(g),this._headersReceivedCapability=(0,t.createPromiseCapability)(),this._disableRange=G.disableRange||!1,this._contentLength=G.length,this._rangeChunkSize=G.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const B=this._fullRequestId,G=this._manager.getRequestXhr(B),g=P=>G.getResponseHeader(P),{allowRangeRequests:C,suggestedLength:m}=(0,D.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});C&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,D.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(B),this._headersReceivedCapability.resolve()}_onDone(B){if(B&&(this._requests.length>0?this._requests.shift().resolve({value:B.chunk,done:!1}):this._cachedChunks.push(B.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(B){this._storedError=(0,D.createResponseStatusError)(B,this._url),this._headersReceivedCapability.reject(this._storedError);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(B){this.onProgress?.({loaded:B.loaded,total:B.lengthComputable?B.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var B=this;return _asyncToGenerator(function*(){if(B._storedError)throw B._storedError;if(B._cachedChunks.length>0)return{value:B._cachedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const G=(0,t.createPromiseCapability)();return B._requests.push(G),G.promise})()}cancel(B){this._done=!0,this._headersReceivedCapability.reject(B);for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class H{constructor(B,G,g){this._manager=B;const C={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._requestId=B.requestRange(G,g,C),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(B){const G=B.chunk;this._requests.length>0?this._requests.shift().resolve({value:G,done:!1}):this._queuedChunk=G,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(B){this._storedError=(0,D.createResponseStatusError)(B,this._url);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(B){this.isStreamingSupported||this.onProgress?.({loaded:B.loaded})}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._storedError)throw B._storedError;if(null!==B._queuedChunk){const g=B._queuedChunk;return B._queuedChunk=null,{value:g,done:!1}}if(B._done)return{value:void 0,done:!0};const G=(0,t.createPromiseCapability)();return B._requests.push(G),G.promise})()}cancel(B){this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(z,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var t=S(1),D=S(26);function O(N,H,X){return{method:"GET",headers:N,signal:X?.signal,mode:"cors",credentials:H?"include":"same-origin",redirect:"follow"}}function q(N){const H=new Headers;for(const X in N){const B=N[X];typeof B>"u"||H.append(X,B)}return H}a.PDFFetchStream=class M{constructor(H){this.source=H,this.isHttp=/^https?:/i.test(H.url),this.httpHeaders=this.isHttp&&H.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(H,X){if(X<=this._progressiveDataLength)return null;const B=new A(this,H,X);return this._rangeRequestReaders.push(B),B}cancelAllRequests(H){this._fullRequestReader&&this._fullRequestReader.cancel(H);for(const X of this._rangeRequestReaders.slice(0))X.cancel(H)}};class x{constructor(H){this._stream=H,this._reader=null,this._loaded=0,this._filename=null;const X=H.source;this._withCredentials=X.withCredentials||!1,this._contentLength=X.length,this._headersCapability=(0,t.createPromiseCapability)(),this._disableRange=X.disableRange||!1,this._rangeChunkSize=X.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!X.disableStream,this._isRangeSupported=!X.disableRange,this._headers=q(this._stream.httpHeaders);const B=X.url;fetch(B,O(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,D.validateResponseStatus)(G.status))throw(0,D.createResponseStatusError)(G.status,B);this._reader=G.body.getReader(),this._headersCapability.resolve();const g=P=>G.headers.get(P),{allowRangeRequests:C,suggestedLength:m}=(0,D.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=m||this._contentLength,this._filename=(0,D.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new t.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var H=this;return _asyncToGenerator(function*(){yield H._headersCapability.promise;const{value:X,done:B}=yield H._reader.read();return B?{value:X,done:B}:(H._loaded+=X.byteLength,H.onProgress&&H.onProgress({loaded:H._loaded,total:H._contentLength}),{value:new Uint8Array(X).buffer,done:!1})})()}cancel(H){this._reader&&this._reader.cancel(H),this._abortController&&this._abortController.abort()}}class A{constructor(H,X,B){this._stream=H,this._reader=null,this._loaded=0;const G=H.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,t.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${X}-${B-1}`);const g=G.url;fetch(g,O(this._headers,this._withCredentials,this._abortController)).then(C=>{if(!(0,D.validateResponseStatus)(C.status))throw(0,D.createResponseStatusError)(C.status,g);this._readCapability.resolve(),this._reader=C.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var H=this;return _asyncToGenerator(function*(){yield H._readCapability.promise;const{value:X,done:B}=yield H._reader.read();return B?{value:X,done:B}:(H._loaded+=X.byteLength,H.onProgress&&H.onProgress({loaded:H._loaded}),{value:new Uint8Array(X).buffer,done:!1})})()}cancel(H){this._reader&&this._reader.cancel(H),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(z){var a=__webpack_module_cache__[z];if(void 0!==a)return a.exports;var S=__webpack_module_cache__[z]={exports:{}};return __webpack_modules__[z](S,S.exports,__w_pdfjs_require__),S.exports}var __nested_webpack_exports__={};return(()=>{var z=__nested_webpack_exports__;Object.defineProperty(z,"__esModule",{value:!0}),Object.defineProperty(z,"AnnotationLayer",{enumerable:!0,get:function(){return D.AnnotationLayer}}),Object.defineProperty(z,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(z,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(z,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(z,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(z,"LoopbackPort",{enumerable:!0,get:function(){return S.LoopbackPort}}),Object.defineProperty(z,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(z,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(z,"PDFDataRangeTransport",{enumerable:!0,get:function(){return S.PDFDataRangeTransport}}),Object.defineProperty(z,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(z,"PDFWorker",{enumerable:!0,get:function(){return S.PDFWorker}}),Object.defineProperty(z,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(z,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(z,"PixelsPerInch",{enumerable:!0,get:function(){return t.PixelsPerInch}}),Object.defineProperty(z,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(z,"SVGGraphics",{enumerable:!0,get:function(){return x.SVGGraphics}}),Object.defineProperty(z,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(z,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(z,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(z,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(z,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(z,"build",{enumerable:!0,get:function(){return S.build}}),Object.defineProperty(z,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(z,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(z,"getDocument",{enumerable:!0,get:function(){return S.getDocument}}),Object.defineProperty(z,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(z,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(z,"getXfaPageViewport",{enumerable:!0,get:function(){return t.getXfaPageViewport}}),Object.defineProperty(z,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(z,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(z,"renderTextLayer",{enumerable:!0,get:function(){return M.renderTextLayer}}),Object.defineProperty(z,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(z,"version",{enumerable:!0,get:function(){return S.version}});var a=__w_pdfjs_require__(1),S=__w_pdfjs_require__(4),t=__w_pdfjs_require__(5),D=__w_pdfjs_require__(20),O=__w_pdfjs_require__(13),q=__w_pdfjs_require__(3),M=__w_pdfjs_require__(23),x=__w_pdfjs_require__(24),A=__w_pdfjs_require__(22);if(q.isNodeJS){const{PDFNodeStream:X}=__w_pdfjs_require__(25);(0,S.setPDFNetworkStreamFactory)(B=>new X(B))}else{const{PDFNetworkStream:X}=__w_pdfjs_require__(28),{PDFFetchStream:B}=__w_pdfjs_require__(29);(0,S.setPDFNetworkStreamFactory)(G=>(0,t.isValidFetchUrl)(G.url)?new B(G):new X(G))}})(),__nested_webpack_exports__})(),module.exports=S()},8365:function(z,a,S){var X,t=S(5661).default,D=S(1860).default,O=S(9159).default,q=S(5764).default,M=S(4467).default,x=S(468).default,A=S(7156).default;X=()=>(()=>{"use strict";var N=[,(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultXfaLayerFactory=g.DefaultTextLayerFactory=g.DefaultStructTreeLayerFactory=g.DefaultAnnotationLayerFactory=void 0;var m=C(2),P=C(4),b=C(5),v=C(7),n=C(8),i=C(9);g.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(c,R,T=null,w="",W=!0,E=P.NullL10n,U=!1,Z=null,oe=null,ae=null,L=null){return new m.AnnotationLayerBuilder({pageDiv:c,pdfPage:R,imageResourcesPath:w,renderForms:W,linkService:new b.SimpleLinkService,l10n:E,annotationStorage:T,enableScripting:U,hasJSActionsPromise:Z,fieldObjectsPromise:ae,mouseState:oe,annotationCanvasMap:L})}},g.DefaultStructTreeLayerFactory=class y{createStructTreeLayerBuilder(c){return new v.StructTreeLayerBuilder({pdfPage:c})}},g.DefaultTextLayerFactory=class d{createTextLayerBuilder(c,R,T,w=!1,W,E){return new n.TextLayerBuilder({textLayerDiv:c,pageIndex:R,viewport:T,enhanceTextSelection:w,eventBus:W,highlighter:E})}},g.DefaultXfaLayerFactory=class _{createXfaLayerBuilder(c,R,T=null,w=null){return new i.XfaLayerBuilder({pageDiv:c,pdfPage:R,annotationStorage:T,linkService:new b.SimpleLinkService,xfaHtml:w})}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var m=C(3),P=C(4);g.AnnotationLayerBuilder=class b{constructor({pageDiv:n,pdfPage:i,linkService:h,downloadManager:y,annotationStorage:d=null,imageResourcesPath:_="",renderForms:p=!0,l10n:c=P.NullL10n,enableScripting:R=!1,hasJSActionsPromise:T=null,fieldObjectsPromise:w=null,mouseState:W=null,annotationCanvasMap:E=null}){this.pageDiv=n,this.pdfPage=i,this.linkService=h,this.downloadManager=y,this.imageResourcesPath=_,this.renderForms=p,this.l10n=c,this.annotationStorage=d,this.enableScripting=R,this._hasJSActionsPromise=T,this._fieldObjectsPromise=w,this._mouseState=W,this._annotationCanvasMap=E,this.div=null,this._cancelled=!1}render(n,i="display"){var h=this;return A(function*(){const[y,d=!1,_=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:i}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===y.length)return;const p={viewport:n.clone({dontFlip:!0}),div:h.div,annotations:y,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:d,fieldObjects:_,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?m.AnnotationLayer.update(p):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),p.div=h.div,m.AnnotationLayer.render(p),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},G=>{let g;g=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:S(7668),G.exports=g},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.fixupLangCode=function b(i){return P[i?.toLowerCase()]||i},g.getL10nFallback=m;const C={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(i,h){switch(i){case"find_match_count":i=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":i=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return C[i]||""}const P={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};g.NullL10n={getLanguage:()=>A(function*(){return"en-us"})(),getDirection:()=>A(function*(){return"ltr"})(),get:(i,h=null,y=m(i,h))=>A(function*(){return function v(i,h){return h?i.replace(/\{\{\s*(\w+)\s*\}\}/g,(y,d)=>d in h?h[d]:"{{"+d+"}}"):i}(y,h)})(),translate:i=>A(function*(){})()}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var m=C(6);const b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function v(p,{url:c,target:R,rel:T,enabled:w=!0}={}){if(!c||"string"!=typeof c)throw new Error('A valid "url" parameter must provided.');const W=(0,m.removeNullCharacters)(c);w?p.href=p.title=W:(p.href="",p.title=`Disabled: ${W}`,p.onclick=()=>!1);let E="";switch(R){case b.NONE:break;case b.SELF:E="_self";break;case b.BLANK:E="_blank";break;case b.PARENT:E="_parent";break;case b.TOP:E="_top"}p.target=E,p.rel="string"==typeof T?T:"noopener noreferrer nofollow"}g.LinkTarget=b;var n=new WeakMap,i=new WeakSet;class h{constructor({eventBus:c,externalLinkTarget:R=null,externalLinkRel:T=null,ignoreDestinationZoom:w=!1}={}){D(this,i),O(this,n,{writable:!0,value:new Map}),this.eventBus=c,this.externalLinkTarget=R,this.externalLinkRel=T,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=w,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(c,R=null){this.baseUrl=R,this.pdfDocument=c,x(this,n).clear()}setViewer(c){this.pdfViewer=c}setHistory(c){this.pdfHistory=c}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(c){this.pdfViewer.currentPageNumber=c}get rotation(){return this.pdfViewer.pagesRotation}set rotation(c){this.pdfViewer.pagesRotation=c}goToDestination(c){var R=this;return A(function*(){if(!R.pdfDocument)return;let T,w;"string"==typeof c?(T=c,w=yield R.pdfDocument.getDestination(c)):(T=null,w=yield c),Array.isArray(w)?M(R,i,y).call(R,c,T,w):console.error(`PDFLinkService.goToDestination: "${w}" is not a valid destination array, for dest="${c}".`)})()}goToPage(c){if(!this.pdfDocument)return;const R="string"==typeof c&&this.pdfViewer.pageLabelToPageNumber(c)||0|c;Number.isInteger(R)&&R>0&&R<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(R)),this.pdfViewer.scrollPageIntoView({pageNumber:R})):console.error(`PDFLinkService.goToPage: "${c}" is not a valid page.`)}addLinkAttributes(c,R,T=!1){v(c,{url:R,target:T?b.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(c){if("string"==typeof c){if(c.length>0)return this.getAnchorUrl("#"+escape(c))}else if(Array.isArray(c)){const R=JSON.stringify(c);if(R.length>0)return this.getAnchorUrl("#"+escape(R))}return this.getAnchorUrl("")}getAnchorUrl(c){return(this.baseUrl||"")+c}setHash(c){if(!this.pdfDocument)return;let R,T;if(c.includes("=")){const w=(0,m.parseQueryString)(c);if(w.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:w.get("search").replace(/"/g,""),phraseSearch:"true"===w.get("phrase")}),w.has("page")&&(R=0|w.get("page")||1),w.has("zoom")){const W=w.get("zoom").split(","),E=W[0],U=parseFloat(E);E.includes("Fit")?"Fit"===E||"FitB"===E?T=[null,{name:E}]:"FitH"===E||"FitBH"===E||"FitV"===E||"FitBV"===E?T=[null,{name:E},W.length>1?0|W[1]:null]:"FitR"===E?5!==W.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):T=[null,{name:E},0|W[1],0|W[2],0|W[3],0|W[4]]:console.error(`PDFLinkService.setHash: "${E}" is not a valid zoom value.`):T=[null,{name:"XYZ"},W.length>1?0|W[1]:null,W.length>2?0|W[2]:null,U?U/100:E]}T?this.pdfViewer.scrollPageIntoView({pageNumber:R||this.page,destArray:T,allowNegativeOffset:!0}):R&&(this.page=R),w.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:w.get("pagemode")}),w.has("nameddest")&&this.goToDestination(w.get("nameddest"))}else{T=unescape(c);try{T=JSON.parse(T),Array.isArray(T)||(T=T.toString())}catch{}if("string"==typeof T||q(h,h,d).call(h,T))return void this.goToDestination(T);console.error(`PDFLinkService.setHash: "${unescape(c)}" is not a valid destination.`)}}executeNamedAction(c){switch(c){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:c})}cachePageRef(c,R){if(!R)return;const T=0===R.gen?`${R.num}R`:`${R.num}R${R.gen}`;x(this,n).set(T,c)}_cachedPageNumber(c){if(!c)return null;const R=0===c.gen?`${c.num}R`:`${c.num}R${c.gen}`;return x(this,n).get(R)||null}isPageVisible(c){return this.pdfViewer.isPageVisible(c)}isPageCached(c){return this.pdfViewer.isPageCached(c)}}function y(p,c=null,R){const T=R[0];let w;if("object"==typeof T&&null!==T){if(w=this._cachedPageNumber(T),!w)return void this.pdfDocument.getPageIndex(T).then(W=>{this.cachePageRef(W+1,T),M(this,i,y).call(this,p,c,R)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid page reference, for dest="${p}".`)})}else{if(!Number.isInteger(T))return void console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid destination reference, for dest="${p}".`);w=T+1}!w||w<1||w>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${w}" is not a valid page number, for dest="${p}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:c,explicitDest:R,pageNumber:w})),this.pdfViewer.scrollPageIntoView({pageNumber:w,destArray:R,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function d(p){if(!Array.isArray(p))return!1;const c=p.length;if(c<2)return!1;const R=p[0];if(!("object"==typeof R&&Number.isInteger(R.num)&&Number.isInteger(R.gen)||Number.isInteger(R)&&R>=0))return!1;const T=p[1];if("object"!=typeof T||"string"!=typeof T.name)return!1;let w=!0;switch(T.name){case"XYZ":if(5!==c)return!1;break;case"Fit":case"FitB":return 2===c;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==c)return!1;break;case"FitR":if(6!==c)return!1;w=!1;break;default:return!1}for(let W=2;W<c;W++){const E=p[W];if(!("number"==typeof E||w&&null===E))return!1}return!0}g.PDFLinkService=h,g.SimpleLinkService=class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(c){}get rotation(){return 0}set rotation(c){}goToDestination(c){return A(function*(){})()}goToPage(c){}addLinkAttributes(c,R,T=!1){v(c,{url:R,enabled:this.externalLinkEnabled})}getDestinationHash(c){return"#"}getAnchorUrl(c){return"#"}setHash(c){}executeNamedAction(c){}cachePageRef(c,R){}isPageVisible(c){return!0}isPageCached(c){return!0}}},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.RendererType=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=function Ce(se){let de=T.VERTICAL,be=w.NONE;switch(se){case"SinglePage":de=T.PAGE;break;case"OneColumn":break;case"TwoPageLeft":de=T.PAGE;case"TwoColumnLeft":be=w.ODD;break;case"TwoPageRight":de=T.PAGE;case"TwoColumnRight":be=w.EVEN}return{scrollMode:de,spreadMode:be}},g.apiPageModeToSidebarView=function pe(se){switch(se){case"UseNone":return p.NONE;case"UseThumbs":return p.THUMBS;case"UseOutlines":return p.OUTLINE;case"UseAttachments":return p.ATTACHMENTS;case"UseOC":return p.LAYERS}return p.NONE},g.approximateFraction=function r(se){if(Math.floor(se)===se)return[se,1];const de=1/se;if(de>8)return[1,8];if(Math.floor(de)===de)return[1,de];const ne=se>1?de:se;let $,k=0,J=1,ce=1,ge=1;for(;;){const I=k+ce,j=J+ge;if(j>8)break;ne<=I/j?(ce=I,ge=j):(k=I,J=j)}return $=ne-k/J<ce/ge-ne?ne===se?[k,J]:[J,k]:ne===se?[ce,ge]:[ge,ce],$},g.backtrackBeforeAllVisibleElements=f,g.binarySearchFirstItem=e,g.getActiveOrFocusedElement=function we(){let se=document,de=se.activeElement||se.querySelector(":focus");for(;de?.shadowRoot;)se=de.shadowRoot,de=se.activeElement||se.querySelector(":focus");return de},g.getPageSizeInches=function u({view:se,userUnit:de,rotate:be}){const[ne,k,J,ce]=se,ge=be%180!=0,$=(J-ne)/72*de,I=(ce-k)/72*de;return{width:ge?I:$,height:ge?$:I}},g.getVisibleElements=function l({scrollEl:se,views:de,sortByVisibility:be=!1,horizontal:ne=!1,rtl:k=!1}){const J=se.scrollTop,ce=J+se.clientHeight,ge=se.scrollLeft,$=ge+se.clientWidth,ie=[],ve=new Set,Te=de.length;let re=e(de,ne?function j(fe){const xe=fe.div,ye=xe.offsetLeft+xe.clientLeft;return k?ye<$:ye+xe.clientWidth>ge}:function I(fe){const xe=fe.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>J});re>0&&re<Te&&!ne&&(re=f(re,de,J));let he=ne?$:-1;for(let fe=re;fe<Te;fe++){const xe=de[fe],ye=xe.div,Ee=ye.offsetLeft+ye.clientLeft,ke=ye.offsetTop+ye.clientTop,Me=ye.clientWidth,Le=ye.clientHeight,Ne=Ee+Me,Re=ke+Le;if(-1===he)Re>=ce&&(he=Re);else if((ne?Ee:ke)>he)break;if(Re<=J||ke>=ce||Ne<=ge||Ee>=$)continue;const De=Math.max(0,J-ke)+Math.max(0,Re-ce),Ie=(Me-(Math.max(0,ge-Ee)+Math.max(0,Ne-$)))/Me;ie.push({id:xe.id,x:Ee,y:ke,view:xe,percent:(Le-De)/Le*Ie*100|0,widthPercent:100*Ie|0}),ve.add(xe.id)}const Se=ie[0],Pe=ie[ie.length-1];return be&&ie.sort(function(fe,xe){const ye=fe.percent-xe.percent;return Math.abs(ye)>.001?-ye:fe.id-xe.id}),{first:Se,last:Pe,views:ie,ids:ve}},g.isPortraitOrientation=function te(se){return se.width<=se.height},g.isValidRotation=function K(se){return Number.isInteger(se)&&se%90==0},g.isValidScrollMode=function Q(se){return Number.isInteger(se)&&Object.values(T).includes(se)&&se!==T.UNKNOWN},g.isValidSpreadMode=function ee(se){return Number.isInteger(se)&&Object.values(w).includes(se)&&se!==w.UNKNOWN},g.noContextMenuHandler=function F(se){se.preventDefault()},g.normalizeWheelEventDelta=function V(se){let de=Y(se);return 0===se.deltaMode?de/=900:1===se.deltaMode&&(de/=30),de},g.normalizeWheelEventDirection=Y,g.parseQueryString=function oe(se){const de=new Map;for(const[be,ne]of new URLSearchParams(se))de.set(be.toLowerCase(),ne);return de},g.removeNullCharacters=function s(se,de=!1){return"string"!=typeof se?(console.error("The argument must be a string."),se):(de&&(se=se.replace(L," ")),se.replace(ae,""))},g.roundToDivide=function o(se,de){const be=se%de;return 0===be?se:Math.round(se-be+de)},g.scrollIntoView=function U(se,de,be=!1){let ne=se.offsetParent;if(!ne)return void console.error("offsetParent is not set -- cannot scroll");let k=se.offsetTop+se.clientTop,J=se.offsetLeft+se.clientLeft;for(;ne.clientHeight===ne.scrollHeight&&ne.clientWidth===ne.scrollWidth||be&&(ne.classList.contains("markedContent")||"hidden"===getComputedStyle(ne).overflow);)if(k+=ne.offsetTop,J+=ne.offsetLeft,ne=ne.offsetParent,!ne)return;de&&(void 0!==de.top&&(k+=de.top),void 0!==de.left&&(J+=de.left,ne.scrollLeft=J)),ne.scrollTop=k},g.watchScroll=function Z(se,de){const be=function(J){k||(k=window.requestAnimationFrame(function(){k=null;const ge=se.scrollLeft,$=ne.lastX;ge!==$&&(ne.right=ge>$),ne.lastX=ge;const I=se.scrollTop,j=ne.lastY;I!==j&&(ne.down=I>j),ne.lastY=I,de(ne)}))},ne={right:!0,down:!0,lastX:se.scrollLeft,lastY:se.scrollTop,_eventHandler:be};let k=null;return se.addEventListener("scroll",be,!0),ne},g.DEFAULT_SCALE_VALUE="auto",g.DEFAULT_SCALE=1,g.DEFAULT_SCALE_DELTA=1.1,g.MIN_SCALE=.1,g.MAX_SCALE=10,g.UNKNOWN_SCALE=0,g.MAX_AUTO_SCALE=1.25,g.SCROLLBAR_PADDING=40,g.VERTICAL_PADDING=5,g.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const p={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=p,g.RendererType={CANVAS:"canvas",SVG:"svg"},g.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const T={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=T;const w={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=w,g.AutoPrintRegExp=/\bprint\s*\(/,g.OutputScale=class E{constructor(){const de=window.devicePixelRatio||1;this.sx=de,this.sy=de}get scaled(){return 1!==this.sx||1!==this.sy}};const ae=/\x00/g,L=/[\x01-\x1F]/g;function e(se,de,be=0){let ne=be,k=se.length-1;if(k<0||!de(se[k]))return se.length;if(de(se[ne]))return ne;for(;ne<k;){const J=ne+k>>1;de(se[J])?k=J:ne=J+1}return ne}function f(se,de,be){if(se<2)return se;let ne=de[se].div,k=ne.offsetTop+ne.clientTop;k>=be&&(ne=de[se-1].div,k=ne.offsetTop+ne.clientTop);for(let J=se-2;J>=0&&(ne=de[J].div,!(ne.offsetTop+ne.clientTop+ne.clientHeight<=k));--J)se=J;return se}function Y(se){let de=Math.hypot(se.deltaX,se.deltaY);const be=Math.atan2(se.deltaY,se.deltaX);return-.25*Math.PI<be&&be<.75*Math.PI&&(de=-de),de}const ue=new Promise(function(se){window.requestAnimationFrame(se)});g.animationStarted=ue;var Ae=new WeakSet;function le(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}g.ProgressBar=class me{constructor(de){if(D(this,Ae),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(de+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(de){this._indeterminate=isNaN(de),this._percent=function _e(se,de,be){return Math.min(Math.max(se,de),be)}(de,0,100),M(this,Ae,le).call(this)}setWidth(de){if(!de)return;const ne=de.parentNode.offsetWidth-de.offsetWidth;ne>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${ne}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const C={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;g.StructTreeLayerBuilder=class P{constructor({pdfPage:v}){this.pdfPage=v}render(v){return this._walk(v)}_setAttributes(v,n){void 0!==v.alt&&n.setAttribute("aria-label",v.alt),void 0!==v.id&&n.setAttribute("aria-owns",v.id),void 0!==v.lang&&n.setAttribute("lang",v.lang)}_walk(v){if(!v)return null;const n=document.createElement("span");if("role"in v){const{role:i}=v,h=i.match(m);h?(n.setAttribute("role","heading"),n.setAttribute("aria-level",h[1])):C[i]&&n.setAttribute("role",C[i])}if(this._setAttributes(v,n),v.children)if(1===v.children.length&&"id"in v.children[0])this._setAttributes(v.children[0],n);else for(const i of v.children)n.appendChild(this._walk(i));return n}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var m=C(3);g.TextLayerBuilder=class b{constructor({textLayerDiv:n,eventBus:i,pageIndex:h,viewport:y,highlighter:d=null,enhanceTextSelection:_=!1}){this.textLayerDiv=n,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=y,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=d,this.enhanceTextSelection=_,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const i=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(i),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let i=null;n.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(i&&(clearTimeout(i),i=null));const y=n.querySelector(".endOfContent");if(!y)return;let d=h.target!==n;if(d=d&&"none"!==window.getComputedStyle(y).getPropertyValue("-moz-user-select"),d){const _=n.getBoundingClientRect(),p=Math.max(0,(h.pageY-_.top)/_.height);y.style.top=(100*p).toFixed(2)+"%"}y.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(i=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),i=null},300));const h=n.querySelector(".endOfContent");h&&(h.style.top="",h.classList.remove("active"))})}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var m=C(3);g.XfaLayerBuilder=class P{constructor({pageDiv:v,pdfPage:n,annotationStorage:i=null,linkService:h,xfaHtml:y=null}){this.pageDiv=v,this.pdfPage=n,this.annotationStorage=i,this.linkService=h,this.xfaHtml=y,this.div=null,this._cancelled=!1}render(v,n="display"){if("print"===n){const i={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},h=document.createElement("div");this.pageDiv.appendChild(h),i.div=h;const y=m.XfaLayer.render(i);return Promise.resolve(y)}return this.pdfPage.getXfa().then(i=>{if(this._cancelled||!i)return{textDivs:[]};const h={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?m.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,m.XfaLayer.render(h))}).catch(i=>{console.error(i)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFViewer=g.PDFSinglePageViewer=void 0;var m=C(6),P=C(11);g.PDFViewer=class b extends P.BaseViewer{},g.PDFSinglePageViewer=class v extends P.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(i){}_updateScrollMode(){}set spreadMode(i){}_updateSpreadMode(){}}},(G,g,C)=>{let m;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFPageViewBuffer=g.BaseViewer=void 0;var P=C(3),b=C(6),v=C(2),n=C(4),i=C(12),h=C(14),y=C(5),d=C(7),_=C(15),p=C(8),c=C(9);const T="enablePermissions",w={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=w;var W=new WeakMap,E=new WeakMap,U=new WeakSet;m=Symbol.iterator;class Z{constructor(k){D(this,U),O(this,W,{writable:!0,value:new Set}),O(this,E,{writable:!0,value:0}),t(this,E,k)}push(k){const J=x(this,W);J.has(k)&&J.delete(k),J.add(k),J.size>x(this,E)&&M(this,U,oe).call(this)}resize(k,J=null){t(this,E,k);const ce=x(this,W);if(J){const ge=ce.size;let $=1;for(const I of ce)if(J.has(I.id)&&(ce.delete(I),ce.add(I)),++$>ge)break}for(;ce.size>x(this,E);)M(this,U,oe).call(this)}has(k){return x(this,W).has(k)}[m](){return x(this,W).keys()}}function oe(){const ne=x(this,W).keys().next().value;ne?.destroy(),x(this,W).delete(ne)}g.PDFPageViewBuffer=Z;var ae=new WeakMap,L=new WeakMap,s=new WeakMap,e=new WeakMap,r=new WeakMap,o=new WeakMap,u=new WeakMap,f=new WeakSet,l=new WeakSet,F=new WeakSet,Y=new WeakSet,V=new WeakSet,K=new WeakSet,Q=new WeakSet,ee=new WeakSet,te=new WeakSet;class ue{constructor(k){if(D(this,te),D(this,ee),D(this,Q),D(this,K),D(this,V),D(this,Y),D(this,F),D(this,l),D(this,f),O(this,ae,{writable:!0,value:null}),O(this,L,{writable:!0,value:P.AnnotationMode.ENABLE_FORMS}),O(this,s,{writable:!0,value:null}),O(this,e,{writable:!0,value:!1}),O(this,r,{writable:!0,value:0}),O(this,o,{writable:!0,value:null}),O(this,u,{writable:!0,value:null}),this.constructor===ue)throw new Error("Cannot initialize BaseViewer.");const J="2.14.305";if(P.version!==J)throw new Error(`The API version "${P.version}" does not match the Viewer version "${J}".`);if(this.container=k.container,this.viewer=k.viewer||k.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=k.eventBus,this.linkService=k.linkService||new y.SimpleLinkService,this.downloadManager=k.downloadManager||null,this.findController=k.findController||null,this._scriptingManager=k.scriptingManager||null,this.removePageBorders=k.removePageBorders||!1,this.textLayerMode=k.textLayerMode??b.TextLayerMode.ENABLE,t(this,L,k.annotationMode??P.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=k.imageResourcesPath||"",this.enablePrintAutoRotate=k.enablePrintAutoRotate||!1,this.renderer=k.renderer||b.RendererType.CANVAS,this.useOnlyCssZoom=k.useOnlyCssZoom||!1,this.maxCanvasPixels=k.maxCanvasPixels,this.l10n=k.l10n||n.NullL10n,t(this,e,k.enablePermissions||!1),this.pageColors=k.pageColors||null,k.pageColors&&(!CSS.supports("color",k.pageColors.background)||!CSS.supports("color",k.pageColors.foreground))&&((k.pageColors.background||k.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!k.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new h.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=k.renderingQueue,this._doc=document.documentElement,this.scroll=(0,b.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=b.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(k){return this._pages[k]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(k){return k?.pdfPage})}get renderForms(){return x(this,L)===P.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(k){if(!Number.isInteger(k))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(k,!0)||console.error(`currentPageNumber: "${k}" is not a valid page.`))}_setCurrentPageNumber(k,J=!1){if(this._currentPageNumber===k)return J&&M(this,K,Ce).call(this),!0;if(!(0<k&&k<=this.pagesCount))return!1;const ce=this._currentPageNumber;return this._currentPageNumber=k,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:k,pageLabel:this._pageLabels?.[k-1]??null,previous:ce}),J&&M(this,K,Ce).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(k){if(!this.pdfDocument)return;let J=0|k;if(this._pageLabels){const ce=this._pageLabels.indexOf(k);ce>=0&&(J=ce+1)}this._setCurrentPageNumber(J,!0)||console.error(`currentPageLabel: "${k}" is not a valid page.`)}get currentScale(){return this._currentScale!==b.UNKNOWN_SCALE?this._currentScale:b.DEFAULT_SCALE}set currentScale(k){if(isNaN(k))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(k,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(k){this.pdfDocument&&this._setScale(k,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(k){if(!(0,b.isValidRotation)(k))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((k%=360)<0&&(k+=360),this._pagesRotation===k))return;this._pagesRotation=k;const J=this._currentPageNumber,ce={rotation:k};for(const ge of this._pages)ge.update(ce);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:k,pageNumber:J}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(k){var J=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=k,!k)return;const ce=k.isPureXfa,ge=k.numPages,$=k.getPage(1),I=k.getOptionalContentConfig(),j=x(this,e)?k.getPermissions():Promise.resolve();if(ge>w.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ie=this._scrollMode=b.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ie})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ge})},()=>{}),this._onBeforeDraw=ie=>{const ve=this._pages[ie.pageNumber-1];ve&&x(this,ae).push(ve)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ie=>{ie.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ie.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,x(this,u)&&(document.removeEventListener("visibilitychange",x(this,u)),t(this,u,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([$,j]).then(([ie,ve])=>{if(k!==this.pdfDocument)return;this._firstPageCapability.resolve(ie),this._optionalContentConfigPromise=I,M(this,f,_e).call(this,ve);const Te=this._scrollMode===b.ScrollMode.PAGE?null:this.viewer,re=this.currentScale,he=ie.getViewport({scale:re*P.PixelsPerInch.PDF_TO_CSS_UNITS}),Se=this.textLayerMode===b.TextLayerMode.DISABLE||ce?null:this,Pe=x(this,L)!==P.AnnotationMode.DISABLE?this:null,fe=ce?this:null;for(let ye=1;ye<=ge;++ye){const Ee=new i.PDFPageView({container:Te,eventBus:this.eventBus,id:ye,scale:re,defaultViewport:he.clone(),optionalContentConfigPromise:I,renderingQueue:this.renderingQueue,textLayerFactory:Se,textLayerMode:this.textLayerMode,annotationLayerFactory:Pe,annotationMode:x(this,L),xfaLayerFactory:fe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ee)}const xe=this._pages[0];xe&&(xe.setPdfPage(ie),this.linkService.cachePageRef(1,ie.ref)),this._scrollMode===b.ScrollMode.PAGE?M(this,F,me).call(this):this._spreadMode!==b.SpreadMode.NONE&&this._updateSpreadMode(),M(this,l,Ae).call(this).then(A(function*(){if(J.findController&&J.findController.setDocument(k),J._scriptingManager&&J._scriptingManager.setDocument(k),k.loadingParams.disableAutoFetch||ge>w.FORCE_LAZY_PAGE_INIT)return void J._pagesCapability.resolve();let ye=ge-1;if(ye<=0)J._pagesCapability.resolve();else for(let Ee=2;Ee<=ge;++Ee){const ke=k.getPage(Ee).then(Me=>{const Le=J._pages[Ee-1];Le.pdfPage||Le.setPdfPage(Me),J.linkService.cachePageRef(Ee,Me.ref),0==--ye&&J._pagesCapability.resolve()},Me=>{console.error(`Unable to get page ${Ee} to initialize viewer`,Me),0==--ye&&J._pagesCapability.resolve()});Ee%w.PAUSE_EAGER_PAGE_INIT==0&&(yield ke)}})),this.eventBus.dispatch("pagesinit",{source:this}),k.getMetadata().then(({info:ye})=>{k===this.pdfDocument&&ye.Language&&(this.viewer.lang=ye.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ie=>{console.error("Unable to initialize viewer",ie),this._pagesCapability.reject(ie)})}setPageLabels(k){if(this.pdfDocument){k?Array.isArray(k)&&this.pdfDocument.numPages===k.length?this._pageLabels=k:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let J=0,ce=this._pages.length;J<ce;J++)this._pages[J].setPageLabel(this._pageLabels?.[J]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=b.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,t(this,ae,new Z(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,P.createPromiseCapability)(),this._onePageRenderedCapability=(0,P.createPromiseCapability)(),this._pagesCapability=(0,P.createPromiseCapability)(),this._scrollMode=b.ScrollMode.VERTICAL,this._previousScrollMode=b.ScrollMode.UNKNOWN,this._spreadMode=b.SpreadMode.NONE,t(this,o,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),x(this,u)&&(document.removeEventListener("visibilitychange",x(this,u)),t(this,u,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(T),null!==x(this,s)&&(t(this,L,x(this,s)),t(this,s,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(k,J,ce=!1,ge=!1){if(this._currentScaleValue=J.toString(),M(this,V,we).call(this,k))return void(ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:J}));this._doc.style.setProperty("--zoom-factor",k);const $={scale:k};for(const I of this._pages)I.update($);if(this._currentScale=k,!ce){let j,I=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(I=this._location.pageNumber,j=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:I,destArray:j,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:ge?J:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL?2:1}_setScale(k,J=!1){let ce=parseFloat(k);if(ce>0)this._setScaleUpdatePages(ce,k,J,!1);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let $=b.SCROLLBAR_PADDING,I=b.VERTICAL_PADDING;this.isInPresentationMode?$=I=4:this.removePageBorders?$=I=0:this._scrollMode===b.ScrollMode.HORIZONTAL&&([$,I]=[I,$]);const j=(this.container.clientWidth-$)/ge.width*ge.scale/this._pageWidthScaleFactor,ie=(this.container.clientHeight-I)/ge.height*ge.scale;switch(k){case"page-actual":ce=1;break;case"page-width":ce=j;break;case"page-height":ce=ie;break;case"page-fit":ce=Math.min(j,ie);break;case"auto":const ve=(0,b.isPortraitOrientation)(ge)?j:Math.min(ie,j);ce=Math.min(b.MAX_AUTO_SCALE,ve);break;default:return void console.error(`_setScale: "${k}" is an unknown zoom value.`)}this._setScaleUpdatePages(ce,k,J,!0)}}pageLabelToPageNumber(k){if(!this._pageLabels)return null;const J=this._pageLabels.indexOf(k);return J<0?null:J+1}scrollPageIntoView({pageNumber:k,destArray:J=null,allowNegativeOffset:ce=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const $=Number.isInteger(k)&&this._pages[k-1];if(!$)return void console.error(`scrollPageIntoView: "${k}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!J)return void this._setCurrentPageNumber(k,!0);let Te,re,I=0,j=0,ie=0,ve=0;const he=$.rotation%180!=0,Se=(he?$.height:$.width)/$.scale/P.PixelsPerInch.PDF_TO_CSS_UNITS,Pe=(he?$.width:$.height)/$.scale/P.PixelsPerInch.PDF_TO_CSS_UNITS;let fe=0;switch(J[1].name){case"XYZ":I=J[2],j=J[3],fe=J[4],I=null!==I?I:0,j=null!==j?j:Pe;break;case"Fit":case"FitB":fe="page-fit";break;case"FitH":case"FitBH":j=J[2],fe="page-width",null===j&&this._location?(I=this._location.left,j=this._location.top):("number"!=typeof j||j<0)&&(j=Pe);break;case"FitV":case"FitBV":I=J[2],ie=Se,ve=Pe,fe="page-height";break;case"FitR":I=J[2],j=J[3],ie=J[4]-I,ve=J[5]-j,Te=(this.container.clientWidth-(this.removePageBorders?0:b.SCROLLBAR_PADDING))/ie/P.PixelsPerInch.PDF_TO_CSS_UNITS,re=(this.container.clientHeight-(this.removePageBorders?0:b.VERTICAL_PADDING))/ve/P.PixelsPerInch.PDF_TO_CSS_UNITS,fe=Math.min(Math.abs(Te),Math.abs(re));break;default:return void console.error(`scrollPageIntoView: "${J[1].name}" is not a valid destination type.`)}if(ge||(fe&&fe!==this._currentScale?this.currentScaleValue=fe:this._currentScale===b.UNKNOWN_SCALE&&(this.currentScaleValue=b.DEFAULT_SCALE_VALUE)),"page-fit"===fe&&!J[4])return void M(this,Y,le).call(this,$);const xe=[$.viewport.convertToViewportPoint(I,j),$.viewport.convertToViewportPoint(I+ie,j+ve)];let ye=Math.min(xe[0][0],xe[1][0]),Ee=Math.min(xe[0][1],xe[1][1]);ce||(ye=Math.max(ye,0),Ee=Math.max(Ee,0)),M(this,Y,le).call(this,$,{left:ye,top:Ee})}_updateLocation(k){const J=this._currentScale,ce=this._currentScaleValue,ge=parseFloat(ce)===J?Math.round(1e4*J)/100:ce,$=k.id,j=this.container,ie=this._pages[$-1].getPagePoint(j.scrollLeft-k.x,j.scrollTop-k.y),ve=Math.round(ie[0]),Te=Math.round(ie[1]);let re=`#page=${$}`;this.isInPresentationMode||(re+=`&zoom=${ge},${ve},${Te}`),this._location={pageNumber:$,scale:ge,top:Te,left:ve,rotation:this._pagesRotation,pdfOpenParams:re}}update(){const k=this._getVisiblePages(),J=k.views,ce=J.length;if(0===ce)return;const ge=Math.max(10,2*ce+1);x(this,ae).resize(ge,k.ids),this.renderingQueue.renderHighestPriority(k);const $=this._spreadMode===b.SpreadMode.NONE&&(this._scrollMode===b.ScrollMode.PAGE||this._scrollMode===b.ScrollMode.VERTICAL),I=this._currentPageNumber;let j=!1;for(const ie of J){if(ie.percent<100)break;if(ie.id===I&&$){j=!0;break}}this._setCurrentPageNumber(j?I:J[0].id),this._updateLocation(k.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(k){return this.container.contains(k)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===b.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===b.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const k=this._scrollMode===b.ScrollMode.PAGE?x(this,o).pages:this._pages,J=this._scrollMode===b.ScrollMode.HORIZONTAL;return(0,b.getVisibleElements)({scrollEl:this.container,views:k,sortByVisibility:!0,horizontal:J,rtl:J&&this._isContainerRtl})}isPageVisible(k){return!!this.pdfDocument&&(Number.isInteger(k)&&k>0&&k<=this.pagesCount?this._getVisiblePages().ids.has(k):(console.error(`isPageVisible: "${k}" is not a valid page.`),!1))}isPageCached(k){if(!this.pdfDocument)return!1;if(!(Number.isInteger(k)&&k>0&&k<=this.pagesCount))return console.error(`isPageCached: "${k}" is not a valid page.`),!1;const J=this._pages[k-1];return x(this,ae).has(J)}cleanup(){for(const k of this._pages)k.renderingState!==b.RenderingStates.FINISHED&&k.reset()}_cancelRendering(){for(const k of this._pages)k.cancelRendering()}forceRendering(k){const J=k||this._getVisiblePages(),ce=M(this,ee,de).call(this,J),$=this.renderingQueue.getHighestPriority(J,this._pages,ce,this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL);return M(this,te,be).call(this,J.ids),!!$&&(M(this,Q,pe).call(this,$).then(()=>{this.renderingQueue.renderView($)}),!0)}createTextLayerBuilder(k,J,ce,ge=!1,$,I){return new p.TextLayerBuilder({textLayerDiv:k,eventBus:$,pageIndex:J,viewport:ce,enhanceTextSelection:!this.isInPresentationMode&&ge,highlighter:I})}createTextHighlighter(k,J){return new _.TextHighlighter({eventBus:J,pageIndex:k,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(k,J,ce=null,ge="",$=!0,I=n.NullL10n,j=null,ie=null,ve=null,Te=null,re=null){return new v.AnnotationLayerBuilder({pageDiv:k,pdfPage:J,annotationStorage:ce||this.pdfDocument?.annotationStorage,imageResourcesPath:ge,renderForms:$,linkService:this.linkService,downloadManager:this.downloadManager,l10n:I,enableScripting:j??this.enableScripting,hasJSActionsPromise:ie||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Te||this.pdfDocument?.getFieldObjects(),mouseState:ve||this._scriptingManager?.mouseState,annotationCanvasMap:re})}createXfaLayerBuilder(k,J,ce=null){return new c.XfaLayerBuilder({pageDiv:k,pdfPage:J,annotationStorage:ce||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(k){return new d.StructTreeLayerBuilder({pdfPage:k})}get hasEqualPageSizes(){const k=this._pages[0];for(let J=1,ce=this._pages.length;J<ce;++J){const ge=this._pages[J];if(ge.width!==k.width||ge.height!==k.height)return!1}return!0}getPagesOverview(){return this._pages.map(k=>{const J=k.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,b.isPortraitOrientation)(J)?{width:J.width,height:J.height,rotation:J.rotation}:{width:J.height,height:J.width,rotation:(J.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(k){if(!(k instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${k}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=k;const J={optionalContentConfigPromise:k};for(const ce of this._pages)ce.update(J);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:k})}get scrollMode(){return this._scrollMode}set scrollMode(k){if(this._scrollMode!==k){if(!(0,b.isValidScrollMode)(k))throw new Error(`Invalid scroll mode: ${k}`);this.pagesCount>w.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=k,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:k}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(k=null){const J=this._scrollMode,ce=this.viewer;ce.classList.toggle("scrollHorizontal",J===b.ScrollMode.HORIZONTAL),ce.classList.toggle("scrollWrapped",J===b.ScrollMode.WRAPPED),this.pdfDocument&&k&&(J===b.ScrollMode.PAGE?M(this,F,me).call(this):this._previousScrollMode===b.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(k){if(this._spreadMode!==k){if(!(0,b.isValidSpreadMode)(k))throw new Error(`Invalid spread mode: ${k}`);this._spreadMode=k,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:k}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(k=null){if(!this.pdfDocument)return;const J=this.viewer,ce=this._pages;if(this._scrollMode===b.ScrollMode.PAGE)M(this,F,me).call(this);else if(J.textContent="",this._spreadMode===b.SpreadMode.NONE)for(const ge of this._pages)J.appendChild(ge.div);else{const ge=this._spreadMode-1;let $=null;for(let I=0,j=ce.length;I<j;++I)null===$?($=document.createElement("div"),$.className="spread",J.appendChild($)):I%2===ge&&($=$.cloneNode(!1),J.appendChild($)),$.appendChild(ce[I].div)}k&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}_getPageAdvance(k,J=!1){switch(this._scrollMode){case b.ScrollMode.WRAPPED:{const{views:ce}=this._getVisiblePages(),ge=new Map;for(const{id:$,y:I,percent:j,widthPercent:ie}of ce){if(0===j||ie<100)continue;let ve=ge.get(I);ve||ge.set(I,ve||=[]),ve.push($)}for(const $ of ge.values()){const I=$.indexOf(k);if(-1===I)continue;const j=$.length;if(1===j)break;if(J)for(let ie=I-1,ve=0;ie>=ve;ie--){const re=$[ie+1]-1;if($[ie]<re)return k-re}else for(let ie=I+1,ve=j;ie<ve;ie++){const re=$[ie-1]+1;if($[ie]>re)return re-k}if(J){const ie=$[0];if(ie<k)return k-ie+1}else{const ie=$[j-1];if(ie>k)return ie-k+1}break}break}case b.ScrollMode.HORIZONTAL:break;case b.ScrollMode.PAGE:case b.ScrollMode.VERTICAL:{if(this._spreadMode===b.SpreadMode.NONE)break;const ce=this._spreadMode-1;if(J&&k%2!==ce)break;if(!J&&k%2===ce)break;const{views:ge}=this._getVisiblePages(),$=J?k-1:k+1;for(const{id:I,percent:j,widthPercent:ie}of ge)if(I===$){if(j>0&&100===ie)return 2;break}break}}return 1}nextPage(){const k=this._currentPageNumber,J=this.pagesCount;if(k>=J)return!1;const ce=this._getPageAdvance(k,!1)||1;return this.currentPageNumber=Math.min(k+ce,J),!0}previousPage(){const k=this._currentPageNumber;if(k<=1)return!1;const J=this._getPageAdvance(k,!0)||1;return this.currentPageNumber=Math.max(k-J,1),!0}increaseScale(k=1){let J=this._currentScale;do{J=(J*b.DEFAULT_SCALE_DELTA).toFixed(2),J=Math.ceil(10*J)/10,J=Math.min(b.MAX_SCALE,J)}while(--k>0&&J<b.MAX_SCALE);this.currentScaleValue=J}decreaseScale(k=1){let J=this._currentScale;do{J=(J/b.DEFAULT_SCALE_DELTA).toFixed(2),J=Math.floor(10*J)/10,J=Math.max(b.MIN_SCALE,J)}while(--k>0&&J>b.MIN_SCALE);this.currentScaleValue=J}updateContainerHeightCss(){const k=this.container.clientHeight;k!==x(this,r)&&(t(this,r,k),this._doc.style.setProperty("--viewer-container-height",`${k}px`))}}function _e(ne){ne&&(ne.includes(P.PermissionFlag.COPY)||this.viewer.classList.add(T),!ne.includes(P.PermissionFlag.MODIFY_ANNOTATIONS)&&!ne.includes(P.PermissionFlag.FILL_INTERACTIVE_FORMS)&&x(this,L)===P.AnnotationMode.ENABLE_FORMS&&(t(this,s,x(this,L)),t(this,L,P.AnnotationMode.ENABLE)))}function Ae(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ne=new Promise(k=>{t(this,u,()=>{"hidden"===document.visibilityState&&(k(),document.removeEventListener("visibilitychange",x(this,u)),t(this,u,null))}),document.addEventListener("visibilitychange",x(this,u))});return Promise.race([this._onePageRenderedCapability.promise,ne])}function me(){if(this._scrollMode!==b.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ne=this._currentPageNumber,k=x(this,o),J=this.viewer;if(J.textContent="",k.pages.length=0,this._spreadMode!==b.SpreadMode.NONE||this.isInPresentationMode){const ce=new Set,ge=this._spreadMode-1;-1===ge?ce.add(ne-1):ne%2!==ge?(ce.add(ne-1),ce.add(ne)):(ce.add(ne-2),ce.add(ne-1));const $=document.createElement("div");if($.className="spread",this.isInPresentationMode){const I=document.createElement("div");I.className="dummyPage",$.appendChild(I)}for(const I of ce){const j=this._pages[I];j&&($.appendChild(j.div),k.pages.push(j))}J.appendChild($)}else{const ce=this._pages[ne-1];J.appendChild(ce.div),k.pages.push(ce)}k.scrollDown=ne>=k.previousPageNumber,k.previousPageNumber=ne}function le(ne,k=null){const{div:J,id:ce}=ne;if(this._scrollMode===b.ScrollMode.PAGE&&(this._setCurrentPageNumber(ce),M(this,F,me).call(this),this.update()),!k&&!this.isInPresentationMode){const ge=J.offsetLeft+J.clientLeft,$=ge+J.clientWidth,{scrollLeft:I,clientWidth:j}=this.container;(this._scrollMode===b.ScrollMode.HORIZONTAL||ge<I||$>I+j)&&(k={left:0,top:0})}(0,b.scrollIntoView)(J,k)}function we(ne){return ne===this._currentScale||Math.abs(ne-this._currentScale)<1e-15}function Ce(){const ne=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),M(this,Y,le).call(this,ne)}function pe(ne){return se.apply(this,arguments)}function se(){return(se=A(function*(ne){if(ne.pdfPage)return ne.pdfPage;try{const k=yield this.pdfDocument.getPage(ne.id);return ne.pdfPage||ne.setPdfPage(k),this.linkService._cachedPageNumber?.(k.ref)||this.linkService.cachePageRef(ne.id,k.ref),k}catch(k){return console.error("Unable to get page for page view",k),null}})).apply(this,arguments)}function de(ne){if(1===ne.first?.id)return!0;if(ne.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case b.ScrollMode.PAGE:return x(this,o).scrollDown;case b.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function be(ne){for(const k of ne)this._pages[k-1]?.toggleLoadingIconSpinner(!0);for(const k of x(this,ae))ne.has(k.id)||k.toggleLoadingIconSpinner(!1)}g.BaseViewer=ue},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var m=C(3),P=C(6),b=C(13),v=C(4);const n=b.compatibilityParams.maxCanvasPixels||16777216;var i=new WeakMap;g.PDFPageView=class h{constructor(d){O(this,i,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS});const _=d.container,p=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||P.DEFAULT_SCALE,this.viewport=p,this.pdfPageRotate=p.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=d.textLayerMode??P.TextLayerMode.ENABLE,t(this,i,d.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=d.imageResourcesPath||"",this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||n,this.pageColors=d.pageColors||null,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.textHighlighter=d.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||P.RendererType.CANVAS,this.l10n=d.l10n||v.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=P.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const c=document.createElement("div");c.className="page",c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",c.setAttribute("data-page-number",this.id),c.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(R=>{c.setAttribute("aria-label",R)}),this.div=c,_?.appendChild(c)}setPdfPage(d){this.pdfPage=d,this.pdfPageRotate=d.rotate,this.viewport=d.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var d=this;return A(function*(){let _=null;try{yield d.annotationLayer.render(d.viewport,"display")}catch(p){_=p}finally{d.eventBus.dispatch("annotationlayerrendered",{source:d,pageNumber:d.id,error:_})}})()}_renderXfaLayer(){var d=this;return A(function*(){let _=null;try{const p=yield d.xfaLayer.render(d.viewport,"display");d.textHighlighter&&d._buildXfaTextContentItems(p.textDivs)}catch(p){_=p}finally{d.eventBus.dispatch("xfalayerrendered",{source:d,pageNumber:d.id,error:_})}})()}_buildXfaTextContentItems(d){var _=this;return A(function*(){const p=yield _.pdfPage.getTextContent(),c=[];for(const R of p.items)c.push(R.str);_.textHighlighter.setTextMapping(d,c),_.textHighlighter.enable()})()}_resetZoomLayer(d=!1){if(!this.zoomLayer)return;const _=this.zoomLayer.firstChild;this.paintedViewportMap.delete(_),_.width=0,_.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:d=!1,keepAnnotationLayer:_=!1,keepXfaLayer:p=!1}={}){this.cancelRendering({keepAnnotationLayer:_,keepXfaLayer:p}),this.renderingState=P.RenderingStates.INITIAL;const c=this.div;c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px";const R=c.childNodes,T=d&&this.zoomLayer||null,w=_&&this.annotationLayer?.div||null,W=p&&this.xfaLayer?.div||null;for(let E=R.length-1;E>=0;E--){const U=R[E];switch(U){case T:case w:case W:continue}U.remove()}c.removeAttribute("data-loaded"),w&&this.annotationLayer.hide(),W&&this.xfaLayer.hide(),T||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(E=>{this.loadingIconDiv?.setAttribute("aria-label",E)}),c.appendChild(this.loadingIconDiv)}update({scale:d=0,rotation:_=null,optionalContentConfigPromise:p=null}){if(this.scale=d||this.scale,"number"==typeof _&&(this.rotation=_),p instanceof Promise&&(this._optionalContentConfigPromise=p),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:T}=document.documentElement;T.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let R=!1;if(this.canvas&&this.maxCanvasPixels>0){const T=this.outputScale;(Math.floor(this.viewport.width)*T.sx|0)*(Math.floor(this.viewport.height)*T.sy|0)>this.maxCanvasPixels&&(R=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&R)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:d=!1,keepXfaLayer:_=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!d||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!_||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:d,redrawAnnotationLayer:_=!1,redrawXfaLayer:p=!1}){const c=this.viewport.width,R=this.viewport.height,T=this.div;d.style.width=d.parentNode.style.width=T.style.width=Math.floor(c)+"px",d.style.height=d.parentNode.style.height=T.style.height=Math.floor(R)+"px";const w=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,W=Math.abs(w);let E=1,U=1;if((90===W||270===W)&&(E=R/c,U=c/R),d.style.transform=`rotate(${w}deg) scale(${E}, ${U})`,this.textLayer){const Z=this.textLayer.viewport,ae=Math.abs(this.viewport.rotation-Z.rotation);let L=c/Z.width;(90===ae||270===ae)&&(L=c/Z.height);const s=this.textLayer.textLayerDiv;let e,r;switch(ae){case 0:e=r=0;break;case 90:e=0,r="-"+s.style.height;break;case 180:e="-"+s.style.width,r="-"+s.style.height;break;case 270:e="-"+s.style.width,r=0;break;default:console.error("Bad rotation value.")}s.style.transform=`rotate(${ae}deg) scale(${L}) translate(${e}, ${r})`,s.style.transformOrigin="0% 0%"}_&&this.annotationLayer&&this._renderAnnotationLayer(),p&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(d,_){return this.viewport.convertToPdfPoint(d,_)}toggleLoadingIconSpinner(d=!1){this.loadingIconDiv?.classList.toggle("notVisible",!d)}draw(){var d=this;this.renderingState!==P.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:_,pdfPage:p}=this;if(!p)return this.renderingState=P.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=P.RenderingStates.RUNNING;const c=document.createElement("div");c.style.width=_.style.width,c.style.height=_.style.height,c.classList.add("canvasWrapper"),this.annotationLayer?.div?_.insertBefore(c,this.annotationLayer.div):_.appendChild(c);let R=null;if(this.textLayerMode!==P.TextLayerMode.DISABLE&&this.textLayerFactory){const U=document.createElement("div");U.className="textLayer",U.style.width=c.style.width,U.style.height=c.style.height,this.annotationLayer?.div?_.insertBefore(U,this.annotationLayer.div):_.appendChild(U),R=this.textLayerFactory.createTextLayerBuilder(U,this.id-1,this.viewport,this.textLayerMode===P.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=R,x(this,i)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(_,p,null,this.imageResourcesPath,x(this,i)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&_.appendChild(this.xfaLayer.div);let T=null;this.renderingQueue&&(T=U=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=P.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=P.RenderingStates.RUNNING,U()});U()});const w=function(){var U=A(function*(Z=null){if(W===d.paintTask&&(d.paintTask=null),Z instanceof m.RenderingCancelledException)d._renderError=null;else if(d._renderError=Z,d.renderingState=P.RenderingStates.FINISHED,d.loadingIconDiv&&(d.loadingIconDiv.remove(),delete d.loadingIconDiv),d._resetZoomLayer(!0),d.eventBus.dispatch("pagerendered",{source:d,pageNumber:d.id,cssTransform:!1,timestamp:performance.now(),error:d._renderError}),Z)throw Z});return function(){return U.apply(this,arguments)}}(),W=this.renderer===P.RendererType.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);W.onRenderContinue=T,this.paintTask=W;const E=W.promise.then(()=>w(null).then(()=>{if(R){const U=p.streamTextContent({includeMarkedContent:!0});R.setTextContentStream(U),R.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(U){return w(U)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(_,p,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=U=>{U.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Z=>{if(!Z||!this.canvas)return;const oe=this.structTreeLayer.render(Z);oe.classList.add("structTree"),this.canvas.appendChild(oe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(p)),_.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),E}paintOnCanvas(d){const _=(0,m.createPromiseCapability)(),p={promise:_.promise,onRenderContinue(s){s()},cancel(){L.cancel()}},c=this.viewport,R=document.createElement("canvas");R.hidden=!0;let T=!0;const w=function(){T&&(R.hidden=!1,T=!1)};d.appendChild(R),this.canvas=R;const W=R.getContext("2d",{alpha:!1}),E=this.outputScale=new P.OutputScale;if(this.useOnlyCssZoom){const s=c.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});E.sx*=s.width/c.width,E.sy*=s.height/c.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(c.width*c.height));E.sx>e||E.sy>e?(E.sx=e,E.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const U=(0,P.approximateFraction)(E.sx),Z=(0,P.approximateFraction)(E.sy);R.width=(0,P.roundToDivide)(c.width*E.sx,U[0]),R.height=(0,P.roundToDivide)(c.height*E.sy,Z[0]),R.style.width=(0,P.roundToDivide)(c.width,U[1])+"px",R.style.height=(0,P.roundToDivide)(c.height,Z[1])+"px",this.paintedViewportMap.set(R,c);const ae={canvasContext:W,transform:E.scaled?[E.sx,0,0,E.sy,0,0]:null,viewport:this.viewport,annotationMode:x(this,i),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},L=this.pdfPage.render(ae);return L.onContinue=function(s){w(),p.onRenderContinue?p.onRenderContinue(s):s()},L.promise.then(function(){w(),_.resolve()},function(s){w(),_.reject(s)}),p}paintOnSvg(d){let _=!1;const p=()=>{if(_)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},c=this.pdfPage,R=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:c.getOperatorList({annotationMode:x(this,i)}).then(w=>(p(),new m.SVGGraphics(c.commonObjs,c.objs).getSVG(w,R).then(E=>{p(),this.svg=E,this.paintedViewportMap.set(E,R),E.style.width=d.style.width,E.style.height=d.style.height,this.renderingState=P.RenderingStates.FINISHED,d.appendChild(E)}))),onRenderContinue(w){w()},cancel(){_=!0}}}setPageLabel(d){this.pageLabel="string"==typeof d?d:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const C=Object.create(null);g.compatibilityParams=C;{const n=navigator.userAgent||"",i=navigator.platform||"",h=navigator.maxTouchPoints||1,y=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===i&&h>1||y)&&(C.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=m;const P={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:C.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};P.disablePreferences={value:!1,kind:m.VIEWER},P.locale={value:navigator.language||"en-US",kind:m.VIEWER},P.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},P.renderer.kind+=m.PREFERENCE;const b=Object.create(null);g.AppOptions=class v{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(i){const h=b[i];if(void 0!==h)return h;const y=P[i];return void 0!==y?y.compatibility??y.value:void 0}static getAll(i=null){const h=Object.create(null);for(const y in P){const d=P[y];if(i){if(!(i&d.kind))continue;if(i===m.PREFERENCE){const p=d.value,c=typeof p;if("boolean"===c||"string"===c||"number"===c&&Number.isInteger(p)){h[y]=p;continue}throw new Error(`Invalid type for preference: ${y}`)}}const _=b[y];h[y]=void 0!==_?_:d.compatibility??d.value}return h}static set(i,h){b[i]=h}static setAll(i){for(const h in i)b[h]=i[h]}static remove(i){delete b[i]}static _hasUserOptions(){return Object.keys(b).length>0}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var m=C(3),P=C(6);g.PDFRenderingQueue=class v{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(i){this.pdfViewer=i}setThumbnailViewer(i){this.pdfThumbnailViewer=i}isHighestPriority(i){return this.highestPriorityPage===i.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(i){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(i)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(i,h,y,d=!1){const _=i.views,p=_.length;if(0===p)return null;for(let W=0;W<p;W++){const E=_[W].view;if(!this.isViewFinished(E))return E}const c=i.first.id,R=i.last.id;if(R-c+1>p){const W=i.ids;for(let E=1,U=R-c;E<U;E++){const Z=y?c+E:R-E;if(W.has(Z))continue;const oe=h[Z-1];if(!this.isViewFinished(oe))return oe}}let T=y?R:c-2,w=h[T];return w&&!this.isViewFinished(w)||d&&(T+=y?1:-1,w=h[T],w&&!this.isViewFinished(w))?w:null}isViewFinished(i){return i.renderingState===P.RenderingStates.FINISHED}renderView(i){switch(i.renderingState){case P.RenderingStates.FINISHED:return!1;case P.RenderingStates.PAUSED:this.highestPriorityPage=i.renderingId,i.resume();break;case P.RenderingStates.RUNNING:this.highestPriorityPage=i.renderingId;break;case P.RenderingStates.INITIAL:this.highestPriorityPage=i.renderingId,i.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof m.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0,g.TextHighlighter=class C{constructor({findController:P,eventBus:b,pageIndex:v}){this.findController=P,this.matches=[],this.eventBus=b,this.pageIdx=v,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(P,b){this.textDivs=P,this.textContentItemsStr=b}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=P=>{(P.pageIndex===this.pageIdx||-1===P.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(P,b){if(!P)return[];const{textContentItemsStr:v}=this;let n=0,i=0;const h=v.length-1,y=[];for(let d=0,_=P.length;d<_;d++){let p=P[d];for(;n!==h&&p>=i+v[n].length;)i+=v[n].length,n++;n===v.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:n,offset:p-i}};for(p+=b[d];n!==h&&p>i+v[n].length;)i+=v[n].length,n++;c.end={divIdx:n,offset:p-i},y.push(c)}return y}_renderMatches(P){if(0===P.length)return;const{findController:b,pageIdx:v}=this,{textContentItemsStr:n,textDivs:i}=this,h=v===b.selected.pageIdx,y=b.selected.matchIdx;let _=null;function c(W,E){const U=W.divIdx;return i[U].textContent="",R(U,0,W.offset,E)}function R(W,E,U,Z){let oe=i[W];if(oe.nodeType===Node.TEXT_NODE){const s=document.createElement("span");oe.parentNode.insertBefore(s,oe),s.appendChild(oe),i[W]=s,oe=s}const ae=n[W].substring(E,U),L=document.createTextNode(ae);if(Z){const s=document.createElement("span");return s.className=`${Z} appended`,s.appendChild(L),oe.appendChild(s),Z.includes("selected")?s.offsetLeft:0}return oe.appendChild(L),0}let T=y,w=T+1;if(b.state.highlightAll)T=0,w=P.length;else if(!h)return;for(let W=T;W<w;W++){const E=P[W],U=E.begin,Z=E.end,oe=h&&W===y,ae=oe?" selected":"";let L=0;if(_&&U.divIdx===_.divIdx?R(_.divIdx,_.offset,U.offset):(null!==_&&R(_.divIdx,_.offset,undefined),c(U)),U.divIdx===Z.divIdx)L=R(U.divIdx,U.offset,Z.offset,"highlight"+ae);else{L=R(U.divIdx,U.offset,undefined,"highlight begin"+ae);for(let s=U.divIdx+1,e=Z.divIdx;s<e;s++)i[s].className="highlight middle"+ae;c(Z,"highlight end"+ae)}_=Z,oe&&b.scrollMatchIntoView({element:i[U.divIdx],selectedLeft:L,pageIndex:v,matchIndex:y})}_&&R(_.divIdx,_.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:P,matches:b,pageIdx:v}=this,{textContentItemsStr:n,textDivs:i}=this;let h=-1;for(let _=0,p=b.length;_<p;_++){const c=b[_];for(let T=Math.max(h,c.begin.divIdx),w=c.end.divIdx;T<=w;T++){const W=i[T];W.textContent=n[T],W.className=""}h=c.end.divIdx+1}P?.highlightMatches&&(this.matches=this._convertMatches(P.pageMatches[v]||null,P.pageMatchesLength[v]||null),this._renderMatches(this.matches))}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var m=C(3);function P(v,n){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=v,i.target="_parent","download"in i&&(i.download=n),(document.body||document.documentElement).appendChild(i),i.click(),i.remove()}g.DownloadManager=class b{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,i){(0,m.createValidAbsoluteUrl)(n,"http://example.com")?P(n+"#pdfjs.action=download",i):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,i,h){P(URL.createObjectURL(new Blob([n],{type:h})),i)}openOrDownloadData(n,i,h){const y=(0,m.isPdfFile)(h),d=y?"application/pdf":"";if(y){let p,_=this._openBlobUrls.get(n);_||(_=URL.createObjectURL(new Blob([i],{type:d})),this._openBlobUrls.set(n,_)),p="?file="+encodeURIComponent(_+"#"+h);try{return window.open(p),!0}catch(c){console.error(`openOrDownloadData: ${c}`),URL.revokeObjectURL(_),this._openBlobUrls.delete(n)}}return this.downloadData(i,h,d),!1}download(n,i,h,y="download"){P(URL.createObjectURL(n),h)}}},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=function m({target:v,name:n,delay:i=0}){return new Promise(function(h,y){if("object"!=typeof v||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(R){v instanceof P?v._off(n,_):v.removeEventListener(n,_),c&&clearTimeout(c),h(R)}const _=d.bind(null,C.EVENT);v instanceof P?v._on(n,_):v.addEventListener(n,_);const p=d.bind(null,C.TIMEOUT),c=setTimeout(p,i)})};const C={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=C;class P{constructor(){this._listeners=Object.create(null)}on(n,i,h=null){this._on(n,i,{external:!0,once:h?.once})}off(n,i,h=null){this._off(n,i,{external:!0,once:h?.once})}dispatch(n,i){const h=this._listeners[n];if(!h||0===h.length)return;let y;for(const{listener:d,external:_,once:p}of h.slice(0))p&&this._off(n,d),_?(y||=[]).push(d):d(i);if(y){for(const d of y)d(i);y=null}}_on(n,i,h=null){(this._listeners[n]||=[]).push({listener:i,external:!0===h?.external,once:!0===h?.once})}_off(n,i,h=null){const y=this._listeners[n];if(y)for(let d=0,_=y.length;d<_;d++)if(y[d].listener===i)return void y.splice(d,1)}}g.EventBus=P,g.AutomationEventBus=class b extends P{dispatch(n,i){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,C(19);var m=C(4);const P=document.webL10n;g.GenericL10n=class b{constructor(n){this._lang=n,this._ready=new Promise((i,h)=>{P.setLanguage((0,m.fixupLangCode)(n),()=>{i(P)})})}getLanguage(){var n=this;return A(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return A(function*(){return(yield n._ready).getDirection()})()}get(n,i=null,h=(0,m.getL10nFallback)(n,i)){var y=this;return A(function*(){return(yield y._ready).get(n,i,h)})()}translate(n){var i=this;return A(function*(){return(yield i._ready).translate(n)})()}}},()=>{document.webL10n=function(G,g,C){var m={},P="",b="textContent",v="",n={},i="loading",h=!0;function c(s,e,r){e=e||function(f){},r=r||function(){};var o=new XMLHttpRequest;o.open("GET",s,h),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=utf-8"),o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0===o.status?e(o.responseText):r())},o.onerror=r,o.ontimeout=r;try{o.send(null)}catch{r()}}function T(s,e){s&&(s=s.toLowerCase()),e=e||function(){},function w(){m={},P="",v=""}(),v=s;var r=function y(){return g.querySelectorAll('link[type="application/l10n"]')}(),o=r.length;if(0!==o){var F,Y=0;F=function(){++Y>=o&&(e(),i="complete")};for(var K=0;K<o;K++)new V(r[K]).load(s,F)}else{var u=function d(){var s=g.querySelector('script[type="application/l10n"]');return s?JSON.parse(s.innerHTML):null}();if(u&&u.locales&&u.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=u.locales[s])){var f=u.default_locale.toLowerCase();for(var l in u.locales){if((l=l.toLowerCase())===s){m=u.locales[s];break}l===f&&(m=u.locales[f])}}e()}else console.log("no resource to load, early way out");i="complete"}function V(ee){var te=ee.href;this.load=function(ue,_e){!function R(s,e,r,o){var u=s.replace(/[^\/]*$/,"")||"./";function f(F){return F.lastIndexOf("\\")<0?F:F.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(s,function(F){P+=F,function l(F,Y){var V={},K=/^\s*|\s*$/,Q=/^\s*#|^\s*$/,ee=/^\s*\[(.*)\]\s*$/,te=/^\s*@import\s+url\((.*)\)\s*$/i,ue=/^([^=\s]*)\s*=\s*(.+)$/;function _e(me,le,we){var Ce=me.replace(K,"").split(/[\r\n]+/),pe="*",se=e.split("-",1)[0],de=!1,be="";!function ne(){for(;;){if(!Ce.length)return void we();var k=Ce.shift();if(!Q.test(k)){if(le){if(be=ee.exec(k)){pe=be[1].toLowerCase(),de="*"!==pe&&pe!==e&&pe!==se;continue}if(de)continue;if(be=te.exec(k))return void Ae(u+be[1],ne)}var J=k.match(ue);J&&3==J.length&&(V[J[1]]=f(J[2]))}}}()}function Ae(me,le){c(me,function(we){_e(we,!1,le)},function(){console.warn(me+" not found."),le()})}_e(F,!0,function(){Y(V)})}(F,function(Y){for(var V in Y){var K,Q,ee=V.lastIndexOf(".");ee>0?(K=V.substring(0,ee),Q=V.substring(ee+1)):(K=V,Q=b),m[K]||(m[K]={}),m[K][Q]=Y[V]}r&&r()})},o)}(te,ue,_e,function(){console.warn(te+" not found."),console.warn('"'+ue+'" resource not found'),v="",_e()})}}}function E(s,e,r){var o=m[s];if(!o){if(console.warn("#"+s+" is undefined."),!r)return null;o=r}var u={};for(var f in o){var l=o[f];l=Z(l=U(l,e,s,f),e,s),u[f]=l}return u}function U(s,e,r,o){var f=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(s);if(!f||!f.length)return s;var Y,l=f[1],F=f[2];return e&&F in e?Y=e[F]:F in m&&(Y=m[F]),l in n&&(s=(0,n[l])(s,Y,r,o)),s}function Z(s,e,r){return s.replace(/\{\{\s*(.+?)\s*\}\}/g,function(u,f){return e&&f in e?e[f]:f in m?m[f]:(console.log("argument {{"+f+"}} for #"+r+" is undefined."),u)})}function oe(s){var e=function p(s){if(!s)return{};var e=s.getAttribute("data-l10n-id"),r=s.getAttribute("data-l10n-args"),o={};if(r)try{o=JSON.parse(r)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:o}}(s);if(e.id){var r=E(e.id,e.args);if(!r)return void console.warn("#"+e.id+" is undefined.");if(r[b]){if(0===function ae(s){if(s.children)return s.children.length;if(typeof s.childElementCount<"u")return s.childElementCount;for(var e=0,r=0;r<s.childNodes.length;r++)e+=1===s.nodeType?1:0;return e}(s))s[b]=r[b];else{for(var o=s.childNodes,u=!1,f=0,l=o.length;f<l;f++)3===o[f].nodeType&&/\S/.test(o[f].nodeValue)&&(u?o[f].nodeValue="":(o[f].nodeValue=r[b],u=!0));if(!u){var F=g.createTextNode(r[b]);s.insertBefore(F,s.firstChild)}}delete r[b]}for(var Y in r)s[Y]=r[Y]}}return n.plural=function(s,e,r,o){var u=parseFloat(e);if(isNaN(u)||o!=b)return s;n._pluralRules||(n._pluralRules=function W(s){function r(l,F){return-1!==F.indexOf(l)}function o(l,F,Y){return F<=l&&l<=Y}var u={0:function(l){return"other"},1:function(l){return o(l%100,3,10)?"few":0===l?"zero":o(l%100,11,99)?"many":2==l?"two":1==l?"one":"other"},2:function(l){return 0!==l&&l%10==0?"many":2==l?"two":1==l?"one":"other"},3:function(l){return 1==l?"one":"other"},4:function(l){return o(l,0,1)?"one":"other"},5:function(l){return o(l,0,2)&&2!=l?"one":"other"},6:function(l){return 0===l?"zero":l%10==1&&l%100!=11?"one":"other"},7:function(l){return 2==l?"two":1==l?"one":"other"},8:function(l){return o(l,3,6)?"few":o(l,7,10)?"many":2==l?"two":1==l?"one":"other"},9:function(l){return 0===l||1!=l&&o(l%100,1,19)?"few":1==l?"one":"other"},10:function(l){return o(l%10,2,9)&&!o(l%100,11,19)?"few":l%10!=1||o(l%100,11,19)?"other":"one"},11:function(l){return o(l%10,2,4)&&!o(l%100,12,14)?"few":l%10==0||o(l%10,5,9)||o(l%100,11,14)?"many":l%10==1&&l%100!=11?"one":"other"},12:function(l){return o(l,2,4)?"few":1==l?"one":"other"},13:function(l){return o(l%10,2,4)&&!o(l%100,12,14)?"few":1!=l&&o(l%10,0,1)||o(l%10,5,9)||o(l%100,12,14)?"many":1==l?"one":"other"},14:function(l){return o(l%100,3,4)?"few":l%100==2?"two":l%100==1?"one":"other"},15:function(l){return 0===l||o(l%100,2,10)?"few":o(l%100,11,19)?"many":1==l?"one":"other"},16:function(l){return l%10==1&&11!=l?"one":"other"},17:function(l){return 3==l?"few":0===l?"zero":6==l?"many":2==l?"two":1==l?"one":"other"},18:function(l){return 0===l?"zero":o(l,0,2)&&0!==l&&2!=l?"one":"other"},19:function(l){return o(l,2,10)?"few":o(l,0,1)?"one":"other"},20:function(l){return!o(l%10,3,4)&&l%10!=9||o(l%100,10,19)||o(l%100,70,79)||o(l%100,90,99)?l%1e6==0&&0!==l?"many":l%10!=2||r(l%100,[12,72,92])?l%10!=1||r(l%100,[11,71,91])?"other":"one":"two":"few"},21:function(l){return 0===l?"zero":1==l?"one":"other"},22:function(l){return o(l,0,1)||o(l,11,99)?"one":"other"},23:function(l){return o(l%10,1,2)||l%20==0?"one":"other"},24:function(l){return o(l,3,10)||o(l,13,19)?"few":r(l,[2,12])?"two":r(l,[1,11])?"one":"other"}},f={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[s.replace(/-.*$/,"")];return f in u?u[f]:(console.warn("plural form unknown for ["+s+"]"),function(){return"other"})}(v));var f="["+n._pluralRules(u)+"]";return 0===u&&r+"[zero]"in m?s=m[r+"[zero]"][o]:1==u&&r+"[one]"in m?s=m[r+"[one]"][o]:2==u&&r+"[two]"in m?s=m[r+"[two]"][o]:r+f in m?s=m[r+f][o]:r+"[other]"in m&&(s=m[r+"[other]"][o]),s},{get:function(s,e,r){var f,o=s.lastIndexOf("."),u=b;o>0&&(u=s.substring(o+1),s=s.substring(0,o)),r&&((f={})[u]=r);var l=E(s,e,f);return l&&u in l?l[u]:"{{"+s+"}}"},getData:function(){return m},getText:function(){return P},getLanguage:function(){return v},setLanguage:function(s,e){T(s,function(){e&&e()})},getDirection:function(){var e=v.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function L(s){for(var e=function _(s){return s?s.querySelectorAll("*[data-l10n-id]"):[]}(s=s||g.documentElement),r=e.length,o=0;o<r;o++)oe(e[o]);oe(s)},getReadyState:function(){return i},ready:function(s){s&&("complete"==i||"interactive"==i?G.setTimeout(function(){s()}):g.addEventListener&&g.addEventListener("localized",function e(){g.removeEventListener("localized",e),s()}))}}}(window,document)},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var m=C(6),P=C(3),b=C(21);const v={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=v;const y={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),_=[...d.values()].map(re=>String.fromCharCode(re)).join(""),p=/\p{M}+/gu,c=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,R=/([^\p{M}])\p{M}*$/u,T=/^\p{M}*([^\p{M}])/u;let w=null;function W(re){if(!w){const Le=Object.keys(y).join("");w=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const he=[];let Se;for(;null!==(Se=p.exec(re));)he.push([Se[0].length,Se.index]);let Pe=re.normalize("NFD");const fe=[[0,0]];let xe=0,ye=0,Ee=0,ke=0,Me=!1;return Pe=Pe.replace(w,(Le,Ne,Re,De,Fe,Oe)=>{if(Oe-=Ee,Ne){const Ie=y[Le],Ve=Ie.length;for(let Be=1;Be<Ve;Be++)fe.push([Oe-ye+Be,ye-Be]);return ye-=Ve-1,Ie}if(Re){const Ie=Re.endsWith("\n"),Ve=Ie?Re.length-2:Re.length;Me=!0;let Be=Ve;Oe+ke===he[xe]?.[1]&&(Be-=he[xe][0],++xe);for(let Ue=1;Ue<Be+1;Ue++)fe.push([Oe-1-ye+Ue,ye-Ue]);return ye-=Be,Ee+=Be,Ie?(fe.push([(Oe+=Ve-1)-ye+1,1+ye]),ye+=1,Ee+=1,ke+=1,Re.slice(0,Ve)):Re}return De?(fe.push([Oe-ye+1,1+ye]),ye+=1,Ee+=1,ke+=1,De.charAt(0)):(fe.push([Oe-ye+1,ye-1]),ye-=1,Ee+=1,ke+=1," ")}),fe.push([Pe.length,ye]),[Pe,fe,Me]}function E(re,he,Se){if(!re)return[he,Se];const Pe=he,fe=he+Se;let xe=(0,m.binarySearchFirstItem)(re,Ee=>Ee[0]>=Pe);re[xe][0]>Pe&&--xe;let ye=(0,m.binarySearchFirstItem)(re,Ee=>Ee[0]>=fe,xe);return re[ye][0]>fe&&--ye,[Pe+re[xe][1],Se+re[ye][1]-re[xe][1]]}var U=new WeakSet,Z=new WeakSet,oe=new WeakMap,ae=new WeakSet,L=new WeakSet,s=new WeakSet,e=new WeakSet,r=new WeakSet,o=new WeakSet,u=new WeakSet,f=new WeakSet,l=new WeakSet,F=new WeakSet,Y=new WeakSet,V=new WeakSet,K=new WeakSet,Q=new WeakSet,ee=new WeakSet,te=new WeakSet,ue=new WeakSet;function Ae(re){if(!re)return;const he=this._pdfDocument,{type:Se}=re;(null===this._state||M(this,ae,we).call(this,re))&&(this._dirtyMatch=!0),this._state=re,"highlightallchange"!==Se&&M(this,ue,Te).call(this,v.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||he&&this._pdfDocument!==he)return;M(this,o,be).call(this);const Pe=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Se?this._dirtyMatch?M(this,l,J).call(this):"again"===Se?(M(this,l,J).call(this),Pe&&this._state.highlightAll&&M(this,f,k).call(this)):"highlightallchange"===Se?(fe?M(this,l,J).call(this):this._highlightMatches=!0,M(this,f,k).call(this)):M(this,l,J).call(this):this._findTimeout=setTimeout(()=>{M(this,l,J).call(this),this._findTimeout=null},250)})}function me(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,P.createPromiseCapability)()}function le(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=W(this._state.query)),this._normalizedQuery}function we(re){if(re.query!==this._state.query)return!0;switch(re.type){case"again":const he=this._selected.pageIdx+1,Se=this._linkService;return he>=1&&he<=Se.pagesCount&&he!==Se.page&&!Se.isPageVisible(he);case"highlightallchange":return!1}return!0}function Ce(re,he,Se){let Pe=re.slice(0,he).match(R);if(Pe){const fe=re.charCodeAt(he),xe=Pe[1].charCodeAt(0);if((0,b.getCharacterType)(fe)===(0,b.getCharacterType)(xe))return!1}if(Pe=re.slice(he+Se).match(T),Pe){const fe=re.charCodeAt(he+Se-1),xe=Pe[1].charCodeAt(0);if((0,b.getCharacterType)(fe)===(0,b.getCharacterType)(xe))return!1}return!0}function pe(re,he,Se,Pe){const fe=[],xe=[],ye=this._pageDiffs[Se];let Ee;for(;null!==(Ee=re.exec(Pe));){if(he&&!M(this,L,Ce).call(this,Pe,Ee.index,Ee[0].length))continue;const[ke,Me]=E(ye,Ee.index,Ee[0].length);Me&&(fe.push(ke),xe.push(Me))}this._pageMatches[Se]=fe,this._pageMatchesLength[Se]=xe}function se(re,he){const{matchDiacritics:Se}=this._state;let Pe=!1;return(re=re.replace(c,(xe,ye,Ee,ke,Me,Le)=>ye?`[ ]*\\${ye}[ ]*`:Ee?`[ ]*${Ee}[ ]*`:ke?"[ ]+":Se?Me||Le:Me?d.has(Me.charCodeAt(0))?Me:"":he?(Pe=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(re=re.slice(0,re.length-4)),Se&&he&&(Pe=!0,re=`${re}(?=[${_}]|[^\\p{M}]|$)`),[Pe,re]}function de(re){let he=x(this,oe);if(0===he.length)return;const{caseSensitive:Se,entireWord:Pe,phraseSearch:fe}=this._state,xe=this._pageContents[re],ye=this._hasDiacritics[re];let Ee=!1;if(fe)[Ee,he]=M(this,e,se).call(this,he,ye);else{const Le=he.match(/\S+/g);Le&&(he=Le.sort().reverse().map(Ne=>{const[Re,De]=M(this,e,se).call(this,Ne,ye);return Ee||=Re,`(${De})`}).join("|"))}he=new RegExp(he,`g${Ee?"u":""}${Se?"":"i"}`),M(this,s,pe).call(this,he,Pe,re,xe),this._state.highlightAll&&M(this,u,ne).call(this,re),this._resumePageIdx===re&&(this._resumePageIdx=null,M(this,Y,ge).call(this));const Me=this._pageMatches[re].length;Me>0&&(this._matchesCountTotal+=Me,M(this,te,ve).call(this))}function be(){if(this._extractTextPromises.length>0)return;let re=Promise.resolve();for(let he=0,Se=this._linkService.pagesCount;he<Se;he++){const Pe=(0,P.createPromiseCapability)();this._extractTextPromises[he]=Pe.promise,re=re.then(()=>this._pdfDocument.getPage(he+1).then(fe=>fe.getTextContent()).then(fe=>{const xe=[];for(const ye of fe.items)xe.push(ye.str),ye.hasEOL&&xe.push("\n");[this._pageContents[he],this._pageDiffs[he],this._hasDiacritics[he]]=W(xe.join("")),Pe.resolve()},fe=>{console.error(`Unable to get text content for page ${he+1}`,fe),this._pageContents[he]="",this._pageDiffs[he]=null,this._hasDiacritics[he]=!1,Pe.resolve()}))}}function ne(re){this._scrollMatches&&this._selected.pageIdx===re&&(this._linkService.page=re+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:re})}function k(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function J(){const re=this._state.findPrevious,he=this._linkService.page-1,Se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=he,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,M(this,f,k).call(this);for(let fe=0;fe<Se;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),M(this,r,de).call(this,fe)}))}if(""===x(this,oe))return void M(this,ue,Te).call(this,v.FOUND);if(this._resumePageIdx)return;const Pe=this._offset;if(this._pagesToSearch=Se,null!==Pe.matchIdx){if(!re&&Pe.matchIdx+1<this._pageMatches[Pe.pageIdx].length||re&&Pe.matchIdx>0)return Pe.matchIdx=re?Pe.matchIdx-1:Pe.matchIdx+1,void M(this,K,I).call(this,!0);M(this,V,$).call(this,re)}M(this,Y,ge).call(this)}function ce(re){const he=this._offset,Se=re.length,Pe=this._state.findPrevious;return Se?(he.matchIdx=Pe?Se-1:0,M(this,K,I).call(this,!0),!0):(M(this,V,$).call(this,Pe),!!(he.wrapped&&(he.matchIdx=null,this._pagesToSearch<0))&&(M(this,K,I).call(this,!1),!0))}function ge(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let re=null;do{const he=this._offset.pageIdx;if(re=this._pageMatches[he],!re){this._resumePageIdx=he;break}}while(!M(this,F,ce).call(this,re))}function $(re){const he=this._offset,Se=this._linkService.pagesCount;he.pageIdx=re?he.pageIdx-1:he.pageIdx+1,he.matchIdx=null,this._pagesToSearch--,(he.pageIdx>=Se||he.pageIdx<0)&&(he.pageIdx=re?Se-1:0,he.wrapped=!0)}function I(re=!1){let he=v.NOT_FOUND;const Se=this._offset.wrapped;if(this._offset.wrapped=!1,re){const Pe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,he=Se?v.WRAPPED:v.FOUND,-1!==Pe&&Pe!==this._selected.pageIdx&&M(this,u,ne).call(this,Pe)}M(this,ue,Te).call(this,he,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,M(this,u,ne).call(this,this._selected.pageIdx))}function j(re){const he=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||he&&this._pdfDocument!==he||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),M(this,ue,Te).call(this,v.FOUND),this._highlightMatches=!1,M(this,f,k).call(this))})}function ie(){const{pageIdx:re,matchIdx:he}=this._selected;let Se=0,Pe=this._matchesCountTotal;if(-1!==he){for(let fe=0;fe<re;fe++)Se+=this._pageMatches[fe]?.length||0;Se+=he+1}return(Se<1||Se>Pe)&&(Se=Pe=0),{current:Se,total:Pe}}function ve(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:M(this,ee,ie).call(this)})}function Te(re,he=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:re,previous:he,matchesCount:M(this,ee,ie).call(this),rawQuery:this._state?.query??null})}g.PDFFindController=class _e{constructor({linkService:he,eventBus:Se}){D(this,ue),D(this,te),D(this,ee),D(this,Q),D(this,K),D(this,V),D(this,Y),D(this,F),D(this,l),D(this,f),D(this,u),D(this,o),D(this,r),D(this,e),D(this,s),D(this,L),D(this,ae),O(this,oe,{get:le,set:void 0}),D(this,Z),D(this,U),this._linkService=he,this._eventBus=Se,M(this,Z,me).call(this),Se._on("find",M(this,U,Ae).bind(this)),Se._on("findbarclose",M(this,Q,j).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(he){this._pdfDocument&&M(this,Z,me).call(this),he&&(this._pdfDocument=he,this._firstPageCapability.resolve())}scrollMatchIntoView({element:he=null,selectedLeft:Se=0,pageIndex:Pe=-1,matchIndex:fe=-1}){this._scrollMatches&&he&&-1!==fe&&fe===this._selected.matchIdx&&-1!==Pe&&Pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(he,{top:-50,left:Se+-400},!0))}}},(G,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=function p(c){return function m(c){return c<11904}(c)?function P(c){return 0==(65408&c)}(c)?function n(c){return 32===c||9===c||13===c||10===c}(c)?C.SPACE:function b(c){return c>=97&&c<=122||c>=65&&c<=90}(c)||function v(c){return c>=48&&c<=57}(c)||95===c?C.ALPHA_LETTER:C.PUNCT:function _(c){return 3584==(65408&c)}(c)?C.THAI_LETTER:160===c?C.SPACE:C.ALPHA_LETTER:function i(c){return c>=13312&&c<=40959||c>=63744&&c<=64255}(c)?C.HAN_LETTER:function h(c){return c>=12448&&c<=12543}(c)?C.KATAKANA_LETTER:function y(c){return c>=12352&&c<=12447}(c)?C.HIRAGANA_LETTER:function d(c){return c>=65376&&c<=65439}(c)?C.HALFWIDTH_KATAKANA_LETTER:C.ALPHA_LETTER};const C={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=C},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=d,g.isDestHashesEqual=y;var m=C(6),P=C(17);function i(){return document.location.hash}function y(_,p){return"string"==typeof _&&"string"==typeof p&&(_===p||(0,m.parseQueryString)(_).get("nameddest")===p)}function d(_,p){function c(R,T){if(typeof R!=typeof T||Array.isArray(R)||Array.isArray(T))return!1;if(null!==R&&"object"==typeof R&&null!==T){if(Object.keys(R).length!==Object.keys(T).length)return!1;for(const w in R)if(!c(R[w],T[w]))return!1;return!0}return R===T||Number.isNaN(R)&&Number.isNaN(T)}if(!Array.isArray(_)||!Array.isArray(p)||_.length!==p.length)return!1;for(let R=0,T=_.length;R<T;R++)if(!c(_[R],p[R]))return!1;return!0}g.PDFHistory=class h{constructor({linkService:p,eventBus:c}){this.linkService=p,this.eventBus=c,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",R=>{this._isPagesLoaded=!!R.pagesCount},{once:!0})})}initialize({fingerprint:p,resetHistory:c=!1,updateUrl:R=!1}){if(!p||"string"!=typeof p)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const T=""!==this._fingerprint&&this._fingerprint!==p;this._fingerprint=p,this._updateUrl=!0===R,this._initialized=!0,this._bindEvents();const w=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(w,!0)||c){const{hash:E,page:U,rotation:Z}=this._parseCurrentHash(!0);return!E||T||c?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:E,page:U,rotation:Z},!0)}const W=w.destination;this._updateInternalState(W,w.uid,!0),void 0!==W.rotation&&(this._initialRotation=W.rotation),W.dest?(this._initialBookmark=JSON.stringify(W.dest),this._destination.page=null):W.hash?this._initialBookmark=W.hash:W.page&&(this._initialBookmark=`page=${W.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:p=null,explicitDest:c,pageNumber:R}){if(!this._initialized)return;if(p&&"string"!=typeof p)return void console.error(`PDFHistory.push: "${p}" is not a valid namedDest parameter.`);if(!Array.isArray(c))return void console.error(`PDFHistory.push: "${c}" is not a valid explicitDest parameter.`);if(!this._isValidPage(R)&&(null!==R||this._destination))return void console.error(`PDFHistory.push: "${R}" is not a valid pageNumber parameter.`);const T=p||JSON.stringify(c);if(!T)return;let w=!1;if(this._destination&&(y(this._destination.hash,T)||d(this._destination.dest,c))){if(this._destination.page)return;w=!0}this._popStateInProgress&&!w||(this._pushOrReplaceState({dest:c,hash:T,page:R,rotation:this.linkService.rotation},w),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(p){if(this._initialized){if(!this._isValidPage(p))return void console.error(`PDFHistory.pushPage: "${p}" is not a valid page number.`);this._destination?.page!==p&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${p}`,page:p,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(p,c=!1){const R=c||!this._destination,T={fingerprint:this._fingerprint,uid:R?this._uid:this._uid+1,destination:p};let w;if(this._updateInternalState(p,T.uid),this._updateUrl&&p?.hash){const W=document.location.href.split("#")[0];W.startsWith("file://")||(w=`${W}#${p.hash}`)}R?window.history.replaceState(T,"",w):window.history.pushState(T,"",w)}_tryPushCurrentPosition(p=!1){if(!this._position)return;let c=this._position;if(p&&(c=Object.assign(Object.create(null),this._position),c.temporary=!0),!this._destination)return void this._pushOrReplaceState(c);if(this._destination.temporary)return void this._pushOrReplaceState(c,!0);if(this._destination.hash===c.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let R=!1;if(this._destination.page>=c.first&&this._destination.page<=c.page){if(void 0!==this._destination.dest||!this._destination.first)return;R=!0}this._pushOrReplaceState(c,R)}_isValidPage(p){return Number.isInteger(p)&&p>0&&p<=this.linkService.pagesCount}_isValidState(p,c=!1){if(!p)return!1;if(p.fingerprint!==this._fingerprint){if(!c)return!1;{if("string"!=typeof p.fingerprint||p.fingerprint.length!==this._fingerprint.length)return!1;const[R]=performance.getEntriesByType("navigation");if("reload"!==R?.type)return!1}}return!(!Number.isInteger(p.uid)||p.uid<0||null===p.destination||"object"!=typeof p.destination)}_updateInternalState(p,c,R=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),R&&p?.temporary&&delete p.temporary,this._destination=p,this._uid=c,this._maxUid=Math.max(this._maxUid,c),this._numPositionUpdates=0}_parseCurrentHash(p=!1){const c=unescape(i()).substring(1),R=(0,m.parseQueryString)(c),T=R.get("nameddest")||"";let w=0|R.get("page");return(!this._isValidPage(w)||p&&T.length>0)&&(w=null),{hash:c,page:w,rotation:this.linkService.rotation}}_updateViewarea({location:p}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:p.pdfOpenParams.substring(1),page:this.linkService.page,first:p.pageNumber,rotation:p.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:p}){const c=i(),R=this._currentHash!==c;if(this._currentHash=c,!p){this._uid++;const{hash:w,page:W,rotation:E}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:w,page:W,rotation:E},!0)}if(!this._isValidState(p))return;this._popStateInProgress=!0,R&&(this._blockHashChange++,(0,P.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const T=p.destination;this._updateInternalState(T,p.uid,!0),(0,m.isValidRotation)(T.rotation)&&(this.linkService.rotation=T.rotation),T.dest?this.linkService.goToDestination(T.dest):T.hash?this.linkService.setHash(T.hash):T.page&&(this.linkService.page=T.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var m=C(6),P=C(3);g.PDFScriptingManager=class b{constructor({eventBus:n,sandboxBundleSrc:i=null,scriptingFactory:h=null,docPropertiesLookup:y=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=i,this._scriptingFactory=h,this._docPropertiesLookup=y,this._scriptingFactory||window.addEventListener("updatefromsandbox",d=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:d.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var i=this;return A(function*(){if(i._pdfDocument&&(yield i._destroyScripting()),i._pdfDocument=n,!n)return;const[h,y,d]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(h||d){if(n===i._pdfDocument){try{i._scripting=i._createScripting()}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield i._destroyScripting())}i._internalEvents.set("updatefromsandbox",_=>{_?.source===window&&i._updateFromSandbox(_.detail)}),i._internalEvents.set("dispatcheventinsandbox",_=>{i._scripting?.dispatchEventInSandbox(_.detail)}),i._internalEvents.set("pagechanging",({pageNumber:_,previous:p})=>{_!==p&&(i._dispatchPageClose(p),i._dispatchPageOpen(_))}),i._internalEvents.set("pagerendered",({pageNumber:_})=>{i._pageOpenPending.has(_)&&_===i._pdfViewer.currentPageNumber&&i._dispatchPageOpen(_)}),i._internalEvents.set("pagesdestroy",function(){var _=A(function*(p){yield i._dispatchPageClose(i._pdfViewer.currentPageNumber),yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),i._closeCapability?.resolve()});return function(p){return _.apply(this,arguments)}}()),i._domEvents.set("mousedown",_=>{i._mouseState.isDown=!0}),i._domEvents.set("mouseup",_=>{i._mouseState.isDown=!1});for(const[_,p]of i._internalEvents)i._eventBus._on(_,p);for(const[_,p]of i._domEvents)window.addEventListener(_,p,!0);try{const _=yield i._getDocProperties();if(n!==i._pdfDocument)return;yield i._scripting.createSandbox({objects:h,calculationOrder:y,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{..._,actions:d}}),i._eventBus.dispatch("sandboxcreated",{source:i})}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield i._destroyScripting())}yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield i._dispatchPageOpen(i._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===i._pdfDocument&&(i._ready=!0)})}}else yield i._destroyScripting()})()}dispatchWillSave(n){var i=this;return A(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var i=this;return A(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var i=this;return A(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var i=this;return A(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,P.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,P.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,P.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,P.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var i=this;return A(function*(){const h=i._pdfViewer.isInPresentationMode||i._pdfViewer.isChangingPresentationMode,{id:y,siblings:d,command:_,value:p}=n;if(!y){switch(_){case"clear":console.clear();break;case"error":console.error(p);break;case"layout":if(h)return;const R=(0,m.apiPageLayoutToViewerModes)(p);i._pdfViewer.spreadMode=R.spreadMode;break;case"page-num":i._pdfViewer.currentPageNumber=p+1;break;case"print":yield i._pdfViewer.pagesPromise,i._eventBus.dispatch("print",{source:i});break;case"println":console.log(p);break;case"zoom":if(h)return;i._pdfViewer.currentScaleValue=p;break;case"SaveAs":i._eventBus.dispatch("save",{source:i});break;case"FirstPage":i._pdfViewer.currentPageNumber=1;break;case"LastPage":i._pdfViewer.currentPageNumber=i._pdfViewer.pagesCount;break;case"NextPage":i._pdfViewer.nextPage();break;case"PrevPage":i._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;i._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;i._pdfViewer.decreaseScale()}return}if(h&&n.focus)return;delete n.id,delete n.siblings;const c=d?[y,...d]:[y];for(const R of c){const T=document.getElementById(R);T?T.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):i._pdfDocument?.annotationStorage.setValue(R,n)}})()}_dispatchPageOpen(n,i=!1){var h=this;return A(function*(){const y=h._pdfDocument,d=h._visitedPages;if(i&&(h._closeCapability=(0,P.createPromiseCapability)()),!h._closeCapability)return;const _=h._pdfViewer.getPageView(n-1);if(_?.renderingState!==m.RenderingStates.FINISHED)return void h._pageOpenPending.add(n);h._pageOpenPending.delete(n);const p=A(function*(){const c=yield d.has(n)?null:_.pdfPage?.getJSActions();y===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:c}))})();d.set(n,p)})()}_dispatchPageClose(n){var i=this;return A(function*(){const h=i._pdfDocument,y=i._visitedPages;if(!i._closeCapability||i._pageOpenPending.has(n))return;const d=y.get(n);d&&(y.set(n,null),yield d,h===i._pdfDocument&&(yield i._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return A(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:i}=C(24);return i(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,P.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=C(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return A(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(i=>{setTimeout(i,1e3)})]).catch(i=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[i,h]of n._internalEvents)n._eventBus._off(i,h);n._internalEvents.clear();for(const[i,h]of n._domEvents)window.removeEventListener(i,h,!0);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(G,g,C)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docPropertiesLookup=function P(n){return b.apply(this,arguments)};var m=C(3);function b(){return(b=A(function*(n){const h="".split("#")[0];let{info:y,metadata:d,contentDispositionFilename:_,contentLength:p}=yield n.getMetadata();if(!p){const{length:c}=yield n.getDownloadInfo();p=c}return{...y,baseURL:h,filesize:p,filename:_||(0,m.getPdfFilenameFromUrl)(""),metadata:d?.getRaw(),authors:d?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}g.GenericScripting=class v{constructor(i){this._ready=(0,m.loadScript)(i,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(i){var h=this;return A(function*(){(yield h._ready).create(i)})()}dispatchEventInSandbox(i){var h=this;return A(function*(){const y=yield h._ready;setTimeout(()=>y.dispatchEvent(i),0)})()}destroySandbox(){var i=this;return A(function*(){(yield i._ready).nukeSandbox()})()}}}],H={};function X(G){var g=H[G];if(void 0!==g)return g.exports;var C=H[G]={exports:{}};return N[G](C,C.exports,X),C.exports}var B={};return(()=>{var G=B;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return b.AnnotationLayerBuilder}}),Object.defineProperty(G,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return g.DefaultAnnotationLayerFactory}}),Object.defineProperty(G,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return g.DefaultStructTreeLayerFactory}}),Object.defineProperty(G,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return g.DefaultTextLayerFactory}}),Object.defineProperty(G,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return g.DefaultXfaLayerFactory}}),Object.defineProperty(G,"DownloadManager",{enumerable:!0,get:function(){return v.DownloadManager}}),Object.defineProperty(G,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(G,"GenericL10n",{enumerable:!0,get:function(){return i.GenericL10n}}),Object.defineProperty(G,"LinkTarget",{enumerable:!0,get:function(){return C.LinkTarget}}),Object.defineProperty(G,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(G,"PDFFindController",{enumerable:!0,get:function(){return y.PDFFindController}}),Object.defineProperty(G,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(G,"PDFLinkService",{enumerable:!0,get:function(){return C.PDFLinkService}}),Object.defineProperty(G,"PDFPageView",{enumerable:!0,get:function(){return _.PDFPageView}}),Object.defineProperty(G,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(G,"PDFSinglePageViewer",{enumerable:!0,get:function(){return P.PDFSinglePageViewer}}),Object.defineProperty(G,"PDFViewer",{enumerable:!0,get:function(){return P.PDFViewer}}),Object.defineProperty(G,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(G,"SimpleLinkService",{enumerable:!0,get:function(){return C.SimpleLinkService}}),Object.defineProperty(G,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return c.StructTreeLayerBuilder}}),Object.defineProperty(G,"TextLayerBuilder",{enumerable:!0,get:function(){return R.TextLayerBuilder}}),Object.defineProperty(G,"XfaLayerBuilder",{enumerable:!0,get:function(){return T.XfaLayerBuilder}}),Object.defineProperty(G,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var g=X(1),C=X(5),m=X(6),P=X(10),b=X(2),v=X(16),n=X(17),i=X(18),h=X(4),y=X(20),d=X(22),_=X(12),p=X(23),c=X(7),R=X(8),T=X(9)})(),B})(),z.exports=X()},837:()=>{},2339:()=>{},4828:()=>{},7915:()=>{},5598:()=>{},372:()=>{},7156:z=>{function a(t,D,O,q,M,x,A){try{var N=t[x](A),H=N.value}catch(X){return void O(X)}N.done?D(H):Promise.resolve(H).then(q,M)}z.exports=function S(t){return function(){var D=this,O=arguments;return new Promise(function(q,M){var x=t.apply(D,O);function A(H){a(x,q,M,A,N,"next",H)}function N(H){a(x,q,M,A,N,"throw",H)}A(void 0)})}},z.exports.__esModule=!0,z.exports.default=z.exports},6521:z=>{z.exports=function a(S,t){if(t.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")},z.exports.__esModule=!0,z.exports.default=z.exports},8912:z=>{z.exports=function a(S,t){return t.get?t.get.call(S):t.value},z.exports.__esModule=!0,z.exports.default=z.exports},3448:z=>{z.exports=function a(S,t,D){if(t.set)t.set.call(S,D);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=D}},z.exports.__esModule=!0,z.exports.default=z.exports},2625:z=>{z.exports=function a(S,t){if(S!==t)throw new TypeError("Private static access of wrong provenance")},z.exports.__esModule=!0,z.exports.default=z.exports},2506:z=>{z.exports=function a(S,t){if(void 0===S)throw new TypeError("attempted to "+t+" private static field before its declaration")},z.exports.__esModule=!0,z.exports.default=z.exports},4069:z=>{z.exports=function a(S,t,D){if(!t.has(S))throw new TypeError("attempted to "+D+" private field on non-instance");return t.get(S)},z.exports.__esModule=!0,z.exports.default=z.exports},468:(z,a,S)=>{var t=S(8912),D=S(4069);z.exports=function O(q,M){var x=D(q,M,"get");return t(q,x)},z.exports.__esModule=!0,z.exports.default=z.exports},9159:(z,a,S)=>{var t=S(6521);z.exports=function D(O,q,M){t(O,q),q.set(O,M)},z.exports.__esModule=!0,z.exports.default=z.exports},5661:(z,a,S)=>{var t=S(3448),D=S(4069);z.exports=function O(q,M,x){var A=D(q,M,"set");return t(q,A,x),x},z.exports.__esModule=!0,z.exports.default=z.exports},4467:z=>{z.exports=function a(S,t,D){if(!t.has(S))throw new TypeError("attempted to get private field on non-instance");return D},z.exports.__esModule=!0,z.exports.default=z.exports},1860:(z,a,S)=>{var t=S(6521);z.exports=function D(O,q){t(O,q),q.add(O)},z.exports.__esModule=!0,z.exports.default=z.exports},1280:(z,a,S)=>{var t=S(8912),D=S(2625),O=S(2506);z.exports=function q(M,x,A){return D(M,x),O(A,"get"),t(M,A)},z.exports.__esModule=!0,z.exports.default=z.exports},9382:(z,a,S)=>{var t=S(3448),D=S(2625),O=S(2506);z.exports=function q(M,x,A,N){return D(M,x),O(A,"set"),t(M,A,N),N},z.exports.__esModule=!0,z.exports.default=z.exports},5764:(z,a,S)=>{var t=S(2625);z.exports=function D(O,q,M){return t(O,q),M},z.exports.__esModule=!0,z.exports.default=z.exports},8416:(z,a,S)=>{var t=S(4062);z.exports=function D(O,q,M){return(q=t(q))in O?Object.defineProperty(O,q,{value:M,enumerable:!0,configurable:!0,writable:!0}):O[q]=M,O},z.exports.__esModule=!0,z.exports.default=z.exports},5036:(z,a,S)=>{var t=S(8698).default;z.exports=function D(O,q){if("object"!==t(O)||null===O)return O;var M=O[Symbol.toPrimitive];if(void 0!==M){var x=M.call(O,q||"default");if("object"!==t(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(O)},z.exports.__esModule=!0,z.exports.default=z.exports},4062:(z,a,S)=>{var t=S(8698).default,D=S(5036);z.exports=function O(q){var M=D(q,"string");return"symbol"===t(M)?M:String(M)},z.exports.__esModule=!0,z.exports.default=z.exports},8698:z=>{function a(S){return z.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z.exports.__esModule=!0,z.exports.default=z.exports,a(S)}z.exports=a,z.exports.__esModule=!0,z.exports.default=z.exports}}]);